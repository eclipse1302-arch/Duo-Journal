(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(c){if(c.ep)return;c.ep=!0;const f=l(c);fetch(c.href,f)}})();var _o={exports:{}},ls={};var Wd;function Cv(){if(Wd)return ls;Wd=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(r,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:s,type:r,key:h,ref:c!==void 0?c:null,props:f}}return ls.Fragment=a,ls.jsx=l,ls.jsxs=l,ls}var Fd;function kv(){return Fd||(Fd=1,_o.exports=Cv()),_o.exports}var p=kv(),wo={exports:{}},se={};var em;function Uv(){if(em)return se;em=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function A(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,L={};function $(E,B,X){this.props=E,this.context=B,this.refs=L,this.updater=X||C}$.prototype.isReactComponent={},$.prototype.setState=function(E,B){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,B,"setState")},$.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function V(){}V.prototype=$.prototype;function M(E,B,X){this.props=E,this.context=B,this.refs=L,this.updater=X||C}var H=M.prototype=new V;H.constructor=M,U(H,$.prototype),H.isPureReactComponent=!0;var J=Array.isArray;function Z(){}var G={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function ve(E,B,X){var P=X.ref;return{$$typeof:s,type:E,key:B,ref:P!==void 0?P:null,props:X}}function vt(E,B){return ve(E.type,B,E.props)}function Pe(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function qe(E){var B={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(X){return B[X]})}var Q=/\/+/g;function _e(E,B){return typeof E=="object"&&E!==null&&E.key!=null?qe(""+E.key):B.toString(36)}function oe(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Z,Z):(E.status="pending",E.then(function(B){E.status==="pending"&&(E.status="fulfilled",E.value=B)},function(B){E.status==="pending"&&(E.status="rejected",E.reason=B)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function k(E,B,X,P,le){var ce=typeof E;(ce==="undefined"||ce==="boolean")&&(E=null);var Se=!1;if(E===null)Se=!0;else switch(ce){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(E.$$typeof){case s:case a:Se=!0;break;case _:return Se=E._init,k(Se(E._payload),B,X,P,le)}}if(Se)return le=le(E),Se=P===""?"."+_e(E,0):P,J(le)?(X="",Se!=null&&(X=Se.replace(Q,"$&/")+"/"),k(le,B,X,"",function(di){return di})):le!=null&&(Pe(le)&&(le=vt(le,X+(le.key==null||E&&E.key===le.key?"":(""+le.key).replace(Q,"$&/")+"/")+Se)),B.push(le)),1;Se=0;var ut=P===""?".":P+":";if(J(E))for(var $e=0;$e<E.length;$e++)P=E[$e],ce=ut+_e(P,$e),Se+=k(P,B,X,ce,le);else if($e=A(E),typeof $e=="function")for(E=$e.call(E),$e=0;!(P=E.next()).done;)P=P.value,ce=ut+_e(P,$e++),Se+=k(P,B,X,ce,le);else if(ce==="object"){if(typeof E.then=="function")return k(oe(E),B,X,P,le);throw B=String(E),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Se}function K(E,B,X){if(E==null)return E;var P=[],le=0;return k(E,P,"","",function(ce){return B.call(X,ce,le++)}),P}function ie(E){if(E._status===-1){var B=E._result;B=B(),B.then(function(X){(E._status===0||E._status===-1)&&(E._status=1,E._result=X)},function(X){(E._status===0||E._status===-1)&&(E._status=2,E._result=X)}),E._status===-1&&(E._status=0,E._result=B)}if(E._status===1)return E._result.default;throw E._result}var xe=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Ne={map:K,forEach:function(E,B,X){K(E,function(){B.apply(this,arguments)},X)},count:function(E){var B=0;return K(E,function(){B++}),B},toArray:function(E){return K(E,function(B){return B})||[]},only:function(E){if(!Pe(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return se.Activity=S,se.Children=Ne,se.Component=$,se.Fragment=l,se.Profiler=c,se.PureComponent=M,se.StrictMode=r,se.Suspense=y,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,se.__COMPILER_RUNTIME={__proto__:null,c:function(E){return G.H.useMemoCache(E)}},se.cache=function(E){return function(){return E.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(E,B,X){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var P=U({},E.props),le=E.key;if(B!=null)for(ce in B.key!==void 0&&(le=""+B.key),B)!de.call(B,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&B.ref===void 0||(P[ce]=B[ce]);var ce=arguments.length-2;if(ce===1)P.children=X;else if(1<ce){for(var Se=Array(ce),ut=0;ut<ce;ut++)Se[ut]=arguments[ut+2];P.children=Se}return ve(E.type,le,P)},se.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:f,_context:E},E},se.createElement=function(E,B,X){var P,le={},ce=null;if(B!=null)for(P in B.key!==void 0&&(ce=""+B.key),B)de.call(B,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(le[P]=B[P]);var Se=arguments.length-2;if(Se===1)le.children=X;else if(1<Se){for(var ut=Array(Se),$e=0;$e<Se;$e++)ut[$e]=arguments[$e+2];le.children=ut}if(E&&E.defaultProps)for(P in Se=E.defaultProps,Se)le[P]===void 0&&(le[P]=Se[P]);return ve(E,ce,le)},se.createRef=function(){return{current:null}},se.forwardRef=function(E){return{$$typeof:m,render:E}},se.isValidElement=Pe,se.lazy=function(E){return{$$typeof:_,_payload:{_status:-1,_result:E},_init:ie}},se.memo=function(E,B){return{$$typeof:g,type:E,compare:B===void 0?null:B}},se.startTransition=function(E){var B=G.T,X={};G.T=X;try{var P=E(),le=G.S;le!==null&&le(X,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(Z,xe)}catch(ce){xe(ce)}finally{B!==null&&X.types!==null&&(B.types=X.types),G.T=B}},se.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},se.use=function(E){return G.H.use(E)},se.useActionState=function(E,B,X){return G.H.useActionState(E,B,X)},se.useCallback=function(E,B){return G.H.useCallback(E,B)},se.useContext=function(E){return G.H.useContext(E)},se.useDebugValue=function(){},se.useDeferredValue=function(E,B){return G.H.useDeferredValue(E,B)},se.useEffect=function(E,B){return G.H.useEffect(E,B)},se.useEffectEvent=function(E){return G.H.useEffectEvent(E)},se.useId=function(){return G.H.useId()},se.useImperativeHandle=function(E,B,X){return G.H.useImperativeHandle(E,B,X)},se.useInsertionEffect=function(E,B){return G.H.useInsertionEffect(E,B)},se.useLayoutEffect=function(E,B){return G.H.useLayoutEffect(E,B)},se.useMemo=function(E,B){return G.H.useMemo(E,B)},se.useOptimistic=function(E,B){return G.H.useOptimistic(E,B)},se.useReducer=function(E,B,X){return G.H.useReducer(E,B,X)},se.useRef=function(E){return G.H.useRef(E)},se.useState=function(E){return G.H.useState(E)},se.useSyncExternalStore=function(E,B,X){return G.H.useSyncExternalStore(E,B,X)},se.useTransition=function(){return G.H.useTransition()},se.version="19.2.4",se}var tm;function Ko(){return tm||(tm=1,wo.exports=Uv()),wo.exports}var Y=Ko(),So={exports:{}},rs={},Eo={exports:{}},To={};var nm;function Dv(){return nm||(nm=1,(function(s){function a(k,K){var ie=k.length;k.push(K);e:for(;0<ie;){var xe=ie-1>>>1,Ne=k[xe];if(0<c(Ne,K))k[xe]=K,k[ie]=Ne,ie=xe;else break e}}function l(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var K=k[0],ie=k.pop();if(ie!==K){k[0]=ie;e:for(var xe=0,Ne=k.length,E=Ne>>>1;xe<E;){var B=2*(xe+1)-1,X=k[B],P=B+1,le=k[P];if(0>c(X,ie))P<Ne&&0>c(le,X)?(k[xe]=le,k[P]=ie,xe=P):(k[xe]=X,k[B]=ie,xe=B);else if(P<Ne&&0>c(le,ie))k[xe]=le,k[P]=ie,xe=P;else break e}}return K}function c(k,K){var ie=k.sortIndex-K.sortIndex;return ie!==0?ie:k.id-K.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var y=[],g=[],_=1,S=null,x=3,A=!1,C=!1,U=!1,L=!1,$=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function H(k){for(var K=l(g);K!==null;){if(K.callback===null)r(g);else if(K.startTime<=k)r(g),K.sortIndex=K.expirationTime,a(y,K);else break;K=l(g)}}function J(k){if(U=!1,H(k),!C)if(l(y)!==null)C=!0,Z||(Z=!0,qe());else{var K=l(g);K!==null&&oe(J,K.startTime-k)}}var Z=!1,G=-1,de=5,ve=-1;function vt(){return L?!0:!(s.unstable_now()-ve<de)}function Pe(){if(L=!1,Z){var k=s.unstable_now();ve=k;var K=!0;try{e:{C=!1,U&&(U=!1,V(G),G=-1),A=!0;var ie=x;try{t:{for(H(k),S=l(y);S!==null&&!(S.expirationTime>k&&vt());){var xe=S.callback;if(typeof xe=="function"){S.callback=null,x=S.priorityLevel;var Ne=xe(S.expirationTime<=k);if(k=s.unstable_now(),typeof Ne=="function"){S.callback=Ne,H(k),K=!0;break t}S===l(y)&&r(y),H(k)}else r(y);S=l(y)}if(S!==null)K=!0;else{var E=l(g);E!==null&&oe(J,E.startTime-k),K=!1}}break e}finally{S=null,x=ie,A=!1}K=void 0}}finally{K?qe():Z=!1}}}var qe;if(typeof M=="function")qe=function(){M(Pe)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,_e=Q.port2;Q.port1.onmessage=Pe,qe=function(){_e.postMessage(null)}}else qe=function(){$(Pe,0)};function oe(k,K){G=$(function(){k(s.unstable_now())},K)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(k){k.callback=null},s.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<k?Math.floor(1e3/k):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(k){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var ie=x;x=K;try{return k()}finally{x=ie}},s.unstable_requestPaint=function(){L=!0},s.unstable_runWithPriority=function(k,K){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ie=x;x=k;try{return K()}finally{x=ie}},s.unstable_scheduleCallback=function(k,K,ie){var xe=s.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?xe+ie:xe):ie=xe,k){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ie+Ne,k={id:_++,callback:K,priorityLevel:k,startTime:ie,expirationTime:Ne,sortIndex:-1},ie>xe?(k.sortIndex=ie,a(g,k),l(y)===null&&k===l(g)&&(U?(V(G),G=-1):U=!0,oe(J,ie-xe))):(k.sortIndex=Ne,a(y,k),C||A||(C=!0,Z||(Z=!0,qe()))),k},s.unstable_shouldYield=vt,s.unstable_wrapCallback=function(k){var K=x;return function(){var ie=x;x=K;try{return k.apply(this,arguments)}finally{x=ie}}}})(To)),To}var am;function zv(){return am||(am=1,Eo.exports=Dv()),Eo.exports}var xo={exports:{}},rt={};var im;function Mv(){if(im)return rt;im=1;var s=Ko();function a(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(y,g,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:y,containerInfo:g,implementation:_}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rt.createPortal=function(y,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return f(y,g,null,_)},rt.flushSync=function(y){var g=h.T,_=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=g,r.p=_,r.d.f()}},rt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},rt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},rt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var _=g.as,S=m(_,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:A}):_==="script"&&r.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},rt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,S=m(_,g.crossOrigin);r.d.L(y,_,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rt.preloadModule=function(y,g){if(typeof y=="string")if(g){var _=m(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},rt.requestFormReset=function(y){r.d.r(y)},rt.unstable_batchedUpdates=function(y,g){return y(g)},rt.useFormState=function(y,g,_){return h.H.useFormState(y,g,_)},rt.useFormStatus=function(){return h.H.useHostTransitionStatus()},rt.version="19.2.4",rt}var sm;function qv(){if(sm)return xo.exports;sm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),xo.exports=Mv(),xo.exports}var lm;function Bv(){if(lm)return rs;lm=1;var s=zv(),a=Ko(),l=qv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var u=n.return;if(u===null)break;var o=u.alternate;if(o===null){if(i=u.return,i!==null){n=i;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===n)return y(u),e;if(o===i)return y(u),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=u,i=o;else{for(var d=!1,v=u.child;v;){if(v===n){d=!0,n=u,i=o;break}if(v===i){d=!0,i=u,n=o;break}v=v.sibling}if(!d){for(v=o.child;v;){if(v===n){d=!0,n=o,i=u;break}if(v===i){d=!0,i=o,n=u;break}v=v.sibling}if(!d)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),M=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ve=Symbol.for("react.activity"),vt=Symbol.for("react.memo_cache_sentinel"),Pe=Symbol.iterator;function qe(e){return e===null||typeof e!="object"?null:(e=Pe&&e[Pe]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case $:return"Profiler";case L:return"StrictMode";case J:return"Suspense";case Z:return"SuspenseList";case ve:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case M:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:_e(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return _e(e(t))}catch{}}return null}var oe=Array.isArray,k=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},xe=[],Ne=-1;function E(e){return{current:e}}function B(e){0>Ne||(e.current=xe[Ne],xe[Ne]=null,Ne--)}function X(e,t){Ne++,xe[Ne]=e.current,e.current=t}var P=E(null),le=E(null),ce=E(null),Se=E(null);function ut(e,t){switch(X(ce,t),X(le,e),X(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?wd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=wd(t),e=Sd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(P),X(P,e)}function $e(){B(P),B(le),B(ce)}function di(e){e.memoizedState!==null&&X(Se,e);var t=P.current,n=Sd(t,e.type);t!==n&&(X(le,e),X(P,n))}function Ss(e){le.current===e&&(B(P),B(le)),Se.current===e&&(B(Se),ns._currentValue=ie)}var tr,Io;function Yn(e){if(tr===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tr=t&&t[1]||"",Io=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tr+e+Io}var nr=!1;function ar(e,t){if(!e||nr)return"";nr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(N){var R=N}Reflect.construct(e,[],q)}else{try{q.call()}catch(N){R=N}e.call(q.prototype)}}else{try{throw Error()}catch(N){R=N}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(N){if(N&&R&&typeof N.stack=="string")return[N.stack,R.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),d=o[0],v=o[1];if(d&&v){var b=d.split(`
`),j=v.split(`
`);for(u=i=0;i<b.length&&!b[i].includes("DetermineComponentFrameRoot");)i++;for(;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;if(i===b.length||u===j.length)for(i=b.length-1,u=j.length-1;1<=i&&0<=u&&b[i]!==j[u];)u--;for(;1<=i&&0<=u;i--,u--)if(b[i]!==j[u]){if(i!==1||u!==1)do if(i--,u--,0>u||b[i]!==j[u]){var D=`
`+b[i].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=i&&0<=u);break}}}finally{nr=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Yn(n):""}function uy(e,t){switch(e.tag){case 26:case 27:case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return e.child!==t&&t!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return ar(e.type,!1);case 11:return ar(e.type.render,!1);case 1:return ar(e.type,!0);case 31:return Yn("Activity");default:return""}}function Po(e){try{var t="",n=null;do t+=uy(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var ir=Object.prototype.hasOwnProperty,sr=s.unstable_scheduleCallback,lr=s.unstable_cancelCallback,oy=s.unstable_shouldYield,cy=s.unstable_requestPaint,pt=s.unstable_now,fy=s.unstable_getCurrentPriorityLevel,Wo=s.unstable_ImmediatePriority,Fo=s.unstable_UserBlockingPriority,Es=s.unstable_NormalPriority,hy=s.unstable_LowPriority,ec=s.unstable_IdlePriority,dy=s.log,my=s.unstable_setDisableYieldValue,mi=null,bt=null;function vn(e){if(typeof dy=="function"&&my(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(mi,e)}catch{}}var _t=Math.clz32?Math.clz32:vy,yy=Math.log,gy=Math.LN2;function vy(e){return e>>>=0,e===0?32:31-(yy(e)/gy|0)|0}var Ts=256,xs=262144,As=4194304;function Kn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Os(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var u=0,o=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~o,i!==0?u=Kn(i):(d&=v,d!==0?u=Kn(d):n||(n=v&~e,n!==0&&(u=Kn(n))))):(v=i&~o,v!==0?u=Kn(v):d!==0?u=Kn(d):n||(n=i&~e,n!==0&&(u=Kn(n)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:u}function yi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function py(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(){var e=As;return As<<=1,(As&62914560)===0&&(As=4194304),e}function rr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function by(e,t,n,i,u,o){var d=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,b=e.expirationTimes,j=e.hiddenUpdates;for(n=d&~n;0<n;){var D=31-_t(n),q=1<<D;v[D]=0,b[D]=-1;var R=j[D];if(R!==null)for(j[D]=null,D=0;D<R.length;D++){var N=R[D];N!==null&&(N.lane&=-536870913)}n&=~q}i!==0&&nc(e,i,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(d&~t))}function nc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-_t(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function ac(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-_t(n),u=1<<i;u&t|e[i]&t&&(e[i]|=t),n&=~u}}function ic(e,t){var n=t&-t;return n=(n&42)!==0?1:ur(n),(n&(e.suspendedLanes|t))!==0?0:n}function ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function or(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sc(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Kd(e.type))}function lc(e,t){var n=K.p;try{return K.p=e,t()}finally{K.p=n}}var pn=Math.random().toString(36).slice(2),et="__reactFiber$"+pn,ct="__reactProps$"+pn,ya="__reactContainer$"+pn,cr="__reactEvents$"+pn,_y="__reactListeners$"+pn,wy="__reactHandles$"+pn,rc="__reactResources$"+pn,vi="__reactMarker$"+pn;function fr(e){delete e[et],delete e[ct],delete e[cr],delete e[_y],delete e[wy]}function ga(e){var t=e[et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ya]||n[et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Rd(e);e!==null;){if(n=e[et])return n;e=Rd(e)}return t}e=n,n=e.parentNode}return null}function va(e){if(e=e[et]||e[ya]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function pi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function pa(e){var t=e[rc];return t||(t=e[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[vi]=!0}var uc=new Set,oc={};function Xn(e,t){ba(e,t),ba(e+"Capture",t)}function ba(e,t){for(oc[e]=t,e=0;e<t.length;e++)uc.add(t[e])}var Sy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cc={},fc={};function Ey(e){return ir.call(fc,e)?!0:ir.call(cc,e)?!1:Sy.test(e)?fc[e]=!0:(cc[e]=!0,!1)}function js(e,t,n){if(Ey(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Rs(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function It(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ty(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(d){n=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hr(e){if(!e._valueTracker){var t=hc(e)?"checked":"value";e._valueTracker=Ty(e,t,""+e[t])}}function dc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=hc(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xy=/[\n"\\]/g;function Ct(e){return e.replace(xy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function dr(e,t,n,i,u,o,d,v){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Nt(t)):e.value!==""+Nt(t)&&(e.value=""+Nt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?mr(e,d,Nt(t)):n!=null?mr(e,d,Nt(n)):i!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Nt(v):e.removeAttribute("name")}function mc(e,t,n,i,u,o,d,v){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){hr(e);return}n=n!=null?""+Nt(n):"",t=t!=null?""+Nt(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),hr(e)}function mr(e,t,n){t==="number"&&Ns(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _a(e,t,n,i){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Nt(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function yc(e,t,n){if(t!=null&&(t=""+Nt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Nt(n):""}function gc(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(r(92));if(oe(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Nt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),hr(e)}function wa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ay=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vc(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Ay.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function pc(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&n[u]!==i&&vc(e,u,i)}else for(var o in t)t.hasOwnProperty(o)&&vc(e,o,t[o])}function yr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cs(e){return jy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var gr=null;function vr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sa=null,Ea=null;function bc(e){var t=va(e);if(t&&(e=t.stateNode)){var n=e[ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(dr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ct(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var u=i[ct]||null;if(!u)throw Error(r(90));dr(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&dc(i)}break e;case"textarea":yc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&_a(e,!!n.multiple,t,!1)}}}var pr=!1;function _c(e,t,n){if(pr)return e(t,n);pr=!0;try{var i=e(t);return i}finally{if(pr=!1,(Sa!==null||Ea!==null)&&(pl(),Sa&&(t=Sa,e=Ea,Ea=Sa=null,bc(t),e)))for(t=0;t<e.length;t++)bc(e[t])}}function bi(e,t){var n=e.stateNode;if(n===null)return null;var i=n[ct]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(Wt)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){br=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{br=!1}var bn=null,_r=null,ks=null;function wc(){if(ks)return ks;var e,t=_r,n=t.length,i,u="value"in bn?bn.value:bn.textContent,o=u.length;for(e=0;e<n&&t[e]===u[e];e++);var d=n-e;for(i=1;i<=d&&t[n-i]===u[o-i];i++);return ks=u.slice(e,1<i?1-i:void 0)}function Us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function Sc(){return!1}function ft(e){function t(n,i,u,o,d){this._reactName=n,this._targetInst=u,this.type=i,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(o):o[v]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ds:Sc,this.isPropagationStopped=Sc,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zs=ft(Qn),wi=S({},Qn,{view:0,detail:0}),Ry=ft(wi),wr,Sr,Si,Ms=S({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(wr=e.screenX-Si.screenX,Sr=e.screenY-Si.screenY):Sr=wr=0,Si=e),wr)},movementY:function(e){return"movementY"in e?e.movementY:Sr}}),Ec=ft(Ms),Ny=S({},Ms,{dataTransfer:0}),Cy=ft(Ny),ky=S({},wi,{relatedTarget:0}),Er=ft(ky),Uy=S({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dy=ft(Uy),zy=S({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),My=ft(zy),qy=S({},Qn,{data:0}),Tc=ft(qy),By={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ly={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $y(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hy[e])?!!t[e]:!1}function Tr(){return $y}var Gy=S({},wi,{key:function(e){if(e.key){var t=By[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ly[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(e){return e.type==="keypress"?Us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vy=ft(Gy),Yy=S({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xc=ft(Yy),Ky=S({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),Xy=ft(Ky),Qy=S({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jy=ft(Qy),Zy=S({},Ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Iy=ft(Zy),Py=S({},Qn,{newState:0,oldState:0}),Wy=ft(Py),Fy=[9,13,27,32],xr=Wt&&"CompositionEvent"in window,Ei=null;Wt&&"documentMode"in document&&(Ei=document.documentMode);var eg=Wt&&"TextEvent"in window&&!Ei,Ac=Wt&&(!xr||Ei&&8<Ei&&11>=Ei),Oc=" ",jc=!1;function Rc(e,t){switch(e){case"keyup":return Fy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function tg(e,t){switch(e){case"compositionend":return Nc(t);case"keypress":return t.which!==32?null:(jc=!0,Oc);case"textInput":return e=t.data,e===Oc&&jc?null:e;default:return null}}function ng(e,t){if(Ta)return e==="compositionend"||!xr&&Rc(e,t)?(e=wc(),ks=_r=bn=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ac&&t.locale!=="ko"?null:t.data;default:return null}}var ag={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ag[e.type]:t==="textarea"}function kc(e,t,n,i){Sa?Ea?Ea.push(i):Ea=[i]:Sa=i,t=xl(t,"onChange"),0<t.length&&(n=new zs("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ti=null,xi=null;function ig(e){yd(e,0)}function qs(e){var t=pi(e);if(dc(t))return e}function Uc(e,t){if(e==="change")return t}var Dc=!1;if(Wt){var Ar;if(Wt){var Or="oninput"in document;if(!Or){var zc=document.createElement("div");zc.setAttribute("oninput","return;"),Or=typeof zc.oninput=="function"}Ar=Or}else Ar=!1;Dc=Ar&&(!document.documentMode||9<document.documentMode)}function Mc(){Ti&&(Ti.detachEvent("onpropertychange",qc),xi=Ti=null)}function qc(e){if(e.propertyName==="value"&&qs(xi)){var t=[];kc(t,xi,e,vr(e)),_c(ig,t)}}function sg(e,t,n){e==="focusin"?(Mc(),Ti=t,xi=n,Ti.attachEvent("onpropertychange",qc)):e==="focusout"&&Mc()}function lg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qs(xi)}function rg(e,t){if(e==="click")return qs(t)}function ug(e,t){if(e==="input"||e==="change")return qs(t)}function og(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:og;function Ai(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var u=n[i];if(!ir.call(t,u)||!wt(e[u],t[u]))return!1}return!0}function Bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lc(e,t){var n=Bc(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bc(n)}}function Hc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $c(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ns(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ns(e.document)}return t}function jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var cg=Wt&&"documentMode"in document&&11>=document.documentMode,xa=null,Rr=null,Oi=null,Nr=!1;function Gc(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nr||xa==null||xa!==Ns(i)||(i=xa,"selectionStart"in i&&jr(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Oi&&Ai(Oi,i)||(Oi=i,i=xl(Rr,"onSelect"),0<i.length&&(t=new zs("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=xa)))}function Jn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Aa={animationend:Jn("Animation","AnimationEnd"),animationiteration:Jn("Animation","AnimationIteration"),animationstart:Jn("Animation","AnimationStart"),transitionrun:Jn("Transition","TransitionRun"),transitionstart:Jn("Transition","TransitionStart"),transitioncancel:Jn("Transition","TransitionCancel"),transitionend:Jn("Transition","TransitionEnd")},Cr={},Vc={};Wt&&(Vc=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Zn(e){if(Cr[e])return Cr[e];if(!Aa[e])return e;var t=Aa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vc)return Cr[e]=t[n];return e}var Yc=Zn("animationend"),Kc=Zn("animationiteration"),Xc=Zn("animationstart"),fg=Zn("transitionrun"),hg=Zn("transitionstart"),dg=Zn("transitioncancel"),Qc=Zn("transitionend"),Jc=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kr.push("scrollEnd");function Ht(e,t){Jc.set(e,t),Xn(t,[e])}var Bs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kt=[],Oa=0,Ur=0;function Ls(){for(var e=Oa,t=Ur=Oa=0;t<e;){var n=kt[t];kt[t++]=null;var i=kt[t];kt[t++]=null;var u=kt[t];kt[t++]=null;var o=kt[t];if(kt[t++]=null,i!==null&&u!==null){var d=i.pending;d===null?u.next=u:(u.next=d.next,d.next=u),i.pending=u}o!==0&&Zc(n,u,o)}}function Hs(e,t,n,i){kt[Oa++]=e,kt[Oa++]=t,kt[Oa++]=n,kt[Oa++]=i,Ur|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Dr(e,t,n,i){return Hs(e,t,n,i),$s(e)}function In(e,t){return Hs(e,null,null,t),$s(e)}function Zc(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var u=!1,o=e.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-_t(n),e=o.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=n|536870912),o):null}function $s(e){if(50<Zi)throw Zi=0,Vu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ja={};function mg(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,i){return new mg(e,t,n,i)}function zr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ft(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ic(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gs(e,t,n,i,u,o){var d=0;if(i=e,typeof e=="function")zr(e)&&(d=1);else if(typeof e=="string")d=bv(e,n,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ve:return e=St(31,n,t,u),e.elementType=ve,e.lanes=o,e;case U:return Pn(n.children,u,o,t);case L:d=8,u|=24;break;case $:return e=St(12,n,t,u|2),e.elementType=$,e.lanes=o,e;case J:return e=St(13,n,t,u),e.elementType=J,e.lanes=o,e;case Z:return e=St(19,n,t,u),e.elementType=Z,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:d=10;break e;case V:d=9;break e;case H:d=11;break e;case G:d=14;break e;case de:d=16,i=null;break e}d=29,n=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=St(d,n,t,u),t.elementType=e,t.type=i,t.lanes=o,t}function Pn(e,t,n,i){return e=St(7,e,i,t),e.lanes=n,e}function Mr(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function Pc(e){var t=St(18,null,null,0);return t.stateNode=e,t}function qr(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wc=new WeakMap;function Ut(e,t){if(typeof e=="object"&&e!==null){var n=Wc.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Po(t)},Wc.set(e,t),t)}return{value:e,source:t,stack:Po(t)}}var Ra=[],Na=0,Vs=null,ji=0,Dt=[],zt=0,_n=null,Xt=1,Qt="";function en(e,t){Ra[Na++]=ji,Ra[Na++]=Vs,Vs=e,ji=t}function Fc(e,t,n){Dt[zt++]=Xt,Dt[zt++]=Qt,Dt[zt++]=_n,_n=e;var i=Xt;e=Qt;var u=32-_t(i)-1;i&=~(1<<u),n+=1;var o=32-_t(t)+u;if(30<o){var d=u-u%5;o=(i&(1<<d)-1).toString(32),i>>=d,u-=d,Xt=1<<32-_t(t)+u|n<<u|i,Qt=o+e}else Xt=1<<o|n<<u|i,Qt=e}function Br(e){e.return!==null&&(en(e,1),Fc(e,1,0))}function Lr(e){for(;e===Vs;)Vs=Ra[--Na],Ra[Na]=null,ji=Ra[--Na],Ra[Na]=null;for(;e===_n;)_n=Dt[--zt],Dt[zt]=null,Qt=Dt[--zt],Dt[zt]=null,Xt=Dt[--zt],Dt[zt]=null}function ef(e,t){Dt[zt++]=Xt,Dt[zt++]=Qt,Dt[zt++]=_n,Xt=t.id,Qt=t.overflow,_n=e}var tt=null,Ue=null,ge=!1,wn=null,Mt=!1,Hr=Error(r(519));function Sn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ri(Ut(t,e)),Hr}function tf(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[et]=e,t[ct]=i,n){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(n=0;n<Pi.length;n++)he(Pi[n],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),mc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),gc(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||bd(t.textContent,n)?(i.popover!=null&&(he("beforetoggle",t),he("toggle",t)),i.onScroll!=null&&he("scroll",t),i.onScrollEnd!=null&&he("scrollend",t),i.onClick!=null&&(t.onclick=Pt),t=!0):t=!1,t||Sn(e,!0)}function nf(e){for(tt=e.return;tt;)switch(tt.tag){case 5:case 31:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:tt=tt.return}}function Ca(e){if(e!==tt)return!1;if(!ge)return nf(e),ge=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||io(e.type,e.memoizedProps)),n=!n),n&&Ue&&Sn(e),nf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ue=jd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ue=jd(e)}else t===27?(t=Ue,Mn(e.type)?(e=oo,oo=null,Ue=e):Ue=t):Ue=tt?Bt(e.stateNode.nextSibling):null;return!0}function Wn(){Ue=tt=null,ge=!1}function $r(){var e=wn;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),wn=null),e}function Ri(e){wn===null?wn=[e]:wn.push(e)}var Gr=E(null),Fn=null,tn=null;function En(e,t,n){X(Gr,t._currentValue),t._currentValue=n}function nn(e){e._currentValue=Gr.current,B(Gr)}function Vr(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Yr(e,t,n,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var d=u.child;o=o.firstContext;e:for(;o!==null;){var v=o;o=u;for(var b=0;b<t.length;b++)if(v.context===t[b]){o.lanes|=n,v=o.alternate,v!==null&&(v.lanes|=n),Vr(o.return,n,e),i||(d=null);break e}o=v.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(r(341));d.lanes|=n,o=d.alternate,o!==null&&(o.lanes|=n),Vr(d,n,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function ka(e,t,n,i){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var v=u.type;wt(u.pendingProps.value,d.value)||(e!==null?e.push(v):e=[v])}}else if(u===Se.current){if(d=u.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ns):e=[ns])}u=u.return}e!==null&&Yr(t,e,n,i),t.flags|=262144}function Ys(e){for(e=e.firstContext;e!==null;){if(!wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ea(e){Fn=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return af(Fn,e)}function Ks(e,t){return Fn===null&&ea(e),af(e,t)}function af(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},tn===null){if(e===null)throw Error(r(308));tn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tn=tn.next=t;return n}var yg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},gg=s.unstable_scheduleCallback,vg=s.unstable_NormalPriority,Ye={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kr(){return{controller:new yg,data:new Map,refCount:0}}function Ni(e){e.refCount--,e.refCount===0&&gg(vg,function(){e.controller.abort()})}var Ci=null,Xr=0,Ua=0,Da=null;function pg(e,t){if(Ci===null){var n=Ci=[];Xr=0,Ua=Zu(),Da={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Xr++,t.then(sf,sf),t}function sf(){if(--Xr===0&&Ci!==null){Da!==null&&(Da.status="fulfilled");var e=Ci;Ci=null,Ua=0,Da=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bg(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),i}var lf=k.S;k.S=function(e,t){Vh=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&pg(e,t),lf!==null&&lf(e,t)};var ta=E(null);function Qr(){var e=ta.current;return e!==null?e:Ce.pooledCache}function Xs(e,t){t===null?X(ta,ta.current):X(ta,t.pool)}function rf(){var e=Qr();return e===null?null:{parent:Ye._currentValue,pool:e}}var za=Error(r(460)),Jr=Error(r(474)),Qs=Error(r(542)),Js={then:function(){}};function uf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function of(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Pt,Pt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ff(e),e;default:if(typeof t.status=="string")t.then(Pt,Pt);else{if(e=Ce,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ff(e),e}throw aa=t,za}}function na(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(aa=n,za):n}}var aa=null;function cf(){if(aa===null)throw Error(r(459));var e=aa;return aa=null,e}function ff(e){if(e===za||e===Qs)throw Error(r(483))}var Ma=null,ki=0;function Zs(e){var t=ki;return ki+=1,Ma===null&&(Ma=[]),of(Ma,e,t)}function Ui(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Is(e,t){throw t.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function hf(e){function t(T,w){if(e){var O=T.deletions;O===null?(T.deletions=[w],T.flags|=16):O.push(w)}}function n(T,w){if(!e)return null;for(;w!==null;)t(T,w),w=w.sibling;return null}function i(T){for(var w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function u(T,w){return T=Ft(T,w),T.index=0,T.sibling=null,T}function o(T,w,O){return T.index=O,e?(O=T.alternate,O!==null?(O=O.index,O<w?(T.flags|=67108866,w):O):(T.flags|=67108866,w)):(T.flags|=1048576,w)}function d(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function v(T,w,O,z){return w===null||w.tag!==6?(w=Mr(O,T.mode,z),w.return=T,w):(w=u(w,O),w.return=T,w)}function b(T,w,O,z){var ee=O.type;return ee===U?D(T,w,O.props.children,z,O.key):w!==null&&(w.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===de&&na(ee)===w.type)?(w=u(w,O.props),Ui(w,O),w.return=T,w):(w=Gs(O.type,O.key,O.props,null,T.mode,z),Ui(w,O),w.return=T,w)}function j(T,w,O,z){return w===null||w.tag!==4||w.stateNode.containerInfo!==O.containerInfo||w.stateNode.implementation!==O.implementation?(w=qr(O,T.mode,z),w.return=T,w):(w=u(w,O.children||[]),w.return=T,w)}function D(T,w,O,z,ee){return w===null||w.tag!==7?(w=Pn(O,T.mode,z,ee),w.return=T,w):(w=u(w,O),w.return=T,w)}function q(T,w,O){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Mr(""+w,T.mode,O),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case A:return O=Gs(w.type,w.key,w.props,null,T.mode,O),Ui(O,w),O.return=T,O;case C:return w=qr(w,T.mode,O),w.return=T,w;case de:return w=na(w),q(T,w,O)}if(oe(w)||qe(w))return w=Pn(w,T.mode,O,null),w.return=T,w;if(typeof w.then=="function")return q(T,Zs(w),O);if(w.$$typeof===M)return q(T,Ks(T,w),O);Is(T,w)}return null}function R(T,w,O,z){var ee=w!==null?w.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ee!==null?null:v(T,w,""+O,z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return O.key===ee?b(T,w,O,z):null;case C:return O.key===ee?j(T,w,O,z):null;case de:return O=na(O),R(T,w,O,z)}if(oe(O)||qe(O))return ee!==null?null:D(T,w,O,z,null);if(typeof O.then=="function")return R(T,w,Zs(O),z);if(O.$$typeof===M)return R(T,w,Ks(T,O),z);Is(T,O)}return null}function N(T,w,O,z,ee){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return T=T.get(O)||null,v(w,T,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return T=T.get(z.key===null?O:z.key)||null,b(w,T,z,ee);case C:return T=T.get(z.key===null?O:z.key)||null,j(w,T,z,ee);case de:return z=na(z),N(T,w,O,z,ee)}if(oe(z)||qe(z))return T=T.get(O)||null,D(w,T,z,ee,null);if(typeof z.then=="function")return N(T,w,O,Zs(z),ee);if(z.$$typeof===M)return N(T,w,O,Ks(w,z),ee);Is(w,z)}return null}function I(T,w,O,z){for(var ee=null,pe=null,W=w,ue=w=0,ye=null;W!==null&&ue<O.length;ue++){W.index>ue?(ye=W,W=null):ye=W.sibling;var be=R(T,W,O[ue],z);if(be===null){W===null&&(W=ye);break}e&&W&&be.alternate===null&&t(T,W),w=o(be,w,ue),pe===null?ee=be:pe.sibling=be,pe=be,W=ye}if(ue===O.length)return n(T,W),ge&&en(T,ue),ee;if(W===null){for(;ue<O.length;ue++)W=q(T,O[ue],z),W!==null&&(w=o(W,w,ue),pe===null?ee=W:pe.sibling=W,pe=W);return ge&&en(T,ue),ee}for(W=i(W);ue<O.length;ue++)ye=N(W,T,ue,O[ue],z),ye!==null&&(e&&ye.alternate!==null&&W.delete(ye.key===null?ue:ye.key),w=o(ye,w,ue),pe===null?ee=ye:pe.sibling=ye,pe=ye);return e&&W.forEach(function($n){return t(T,$n)}),ge&&en(T,ue),ee}function te(T,w,O,z){if(O==null)throw Error(r(151));for(var ee=null,pe=null,W=w,ue=w=0,ye=null,be=O.next();W!==null&&!be.done;ue++,be=O.next()){W.index>ue?(ye=W,W=null):ye=W.sibling;var $n=R(T,W,be.value,z);if($n===null){W===null&&(W=ye);break}e&&W&&$n.alternate===null&&t(T,W),w=o($n,w,ue),pe===null?ee=$n:pe.sibling=$n,pe=$n,W=ye}if(be.done)return n(T,W),ge&&en(T,ue),ee;if(W===null){for(;!be.done;ue++,be=O.next())be=q(T,be.value,z),be!==null&&(w=o(be,w,ue),pe===null?ee=be:pe.sibling=be,pe=be);return ge&&en(T,ue),ee}for(W=i(W);!be.done;ue++,be=O.next())be=N(W,T,ue,be.value,z),be!==null&&(e&&be.alternate!==null&&W.delete(be.key===null?ue:be.key),w=o(be,w,ue),pe===null?ee=be:pe.sibling=be,pe=be);return e&&W.forEach(function(Nv){return t(T,Nv)}),ge&&en(T,ue),ee}function je(T,w,O,z){if(typeof O=="object"&&O!==null&&O.type===U&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case A:e:{for(var ee=O.key;w!==null;){if(w.key===ee){if(ee=O.type,ee===U){if(w.tag===7){n(T,w.sibling),z=u(w,O.props.children),z.return=T,T=z;break e}}else if(w.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===de&&na(ee)===w.type){n(T,w.sibling),z=u(w,O.props),Ui(z,O),z.return=T,T=z;break e}n(T,w);break}else t(T,w);w=w.sibling}O.type===U?(z=Pn(O.props.children,T.mode,z,O.key),z.return=T,T=z):(z=Gs(O.type,O.key,O.props,null,T.mode,z),Ui(z,O),z.return=T,T=z)}return d(T);case C:e:{for(ee=O.key;w!==null;){if(w.key===ee)if(w.tag===4&&w.stateNode.containerInfo===O.containerInfo&&w.stateNode.implementation===O.implementation){n(T,w.sibling),z=u(w,O.children||[]),z.return=T,T=z;break e}else{n(T,w);break}else t(T,w);w=w.sibling}z=qr(O,T.mode,z),z.return=T,T=z}return d(T);case de:return O=na(O),je(T,w,O,z)}if(oe(O))return I(T,w,O,z);if(qe(O)){if(ee=qe(O),typeof ee!="function")throw Error(r(150));return O=ee.call(O),te(T,w,O,z)}if(typeof O.then=="function")return je(T,w,Zs(O),z);if(O.$$typeof===M)return je(T,w,Ks(T,O),z);Is(T,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,w!==null&&w.tag===6?(n(T,w.sibling),z=u(w,O),z.return=T,T=z):(n(T,w),z=Mr(O,T.mode,z),z.return=T,T=z),d(T)):n(T,w)}return function(T,w,O,z){try{ki=0;var ee=je(T,w,O,z);return Ma=null,ee}catch(W){if(W===za||W===Qs)throw W;var pe=St(29,W,null,T.mode);return pe.lanes=z,pe.return=T,pe}}}var ia=hf(!0),df=hf(!1),Tn=!1;function Zr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ir(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function An(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(we&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=$s(e),Zc(e,null,n),t}return Hs(e,i,t,n),$s(e)}function Di(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ac(e,n)}}function Pr(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var u=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?u=o=d:o=o.next=d,n=n.next}while(n!==null);o===null?u=o=t:o=o.next=t}else u=o=t;n={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Wr=!1;function zi(){if(Wr){var e=Da;if(e!==null)throw e}}function Mi(e,t,n,i){Wr=!1;var u=e.updateQueue;Tn=!1;var o=u.firstBaseUpdate,d=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var b=v,j=b.next;b.next=null,d===null?o=j:d.next=j,d=b;var D=e.alternate;D!==null&&(D=D.updateQueue,v=D.lastBaseUpdate,v!==d&&(v===null?D.firstBaseUpdate=j:v.next=j,D.lastBaseUpdate=b))}if(o!==null){var q=u.baseState;d=0,D=j=b=null,v=o;do{var R=v.lane&-536870913,N=R!==v.lane;if(N?(me&R)===R:(i&R)===R){R!==0&&R===Ua&&(Wr=!0),D!==null&&(D=D.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var I=e,te=v;R=t;var je=n;switch(te.tag){case 1:if(I=te.payload,typeof I=="function"){q=I.call(je,q,R);break e}q=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=te.payload,R=typeof I=="function"?I.call(je,q,R):I,R==null)break e;q=S({},q,R);break e;case 2:Tn=!0}}R=v.callback,R!==null&&(e.flags|=64,N&&(e.flags|=8192),N=u.callbacks,N===null?u.callbacks=[R]:N.push(R))}else N={lane:R,tag:v.tag,payload:v.payload,callback:v.callback,next:null},D===null?(j=D=N,b=q):D=D.next=N,d|=R;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;N=v,v=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);D===null&&(b=q),u.baseState=b,u.firstBaseUpdate=j,u.lastBaseUpdate=D,o===null&&(u.shared.lanes=0),Cn|=d,e.lanes=d,e.memoizedState=q}}function mf(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function yf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)mf(n[e],t)}var qa=E(null),Ps=E(0);function gf(e,t){e=hn,X(Ps,e),X(qa,t),hn=e|t.baseLanes}function Fr(){X(Ps,hn),X(qa,qa.current)}function eu(){hn=Ps.current,B(qa),B(Ps)}var Et=E(null),qt=null;function On(e){var t=e.alternate;X(Ge,Ge.current&1),X(Et,e),qt===null&&(t===null||qa.current!==null||t.memoizedState!==null)&&(qt=e)}function tu(e){X(Ge,Ge.current),X(Et,e),qt===null&&(qt=e)}function vf(e){e.tag===22?(X(Ge,Ge.current),X(Et,e),qt===null&&(qt=e)):jn()}function jn(){X(Ge,Ge.current),X(Et,Et.current)}function Tt(e){B(Et),qt===e&&(qt=null),B(Ge)}var Ge=E(0);function Ws(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||ro(n)||uo(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var an=0,re=null,Ae=null,Ke=null,Fs=!1,Ba=!1,sa=!1,el=0,qi=0,La=null,_g=0;function Be(){throw Error(r(321))}function nu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wt(e[n],t[n]))return!1;return!0}function au(e,t,n,i,u,o){return an=o,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?eh:pu,sa=!1,o=n(i,u),sa=!1,Ba&&(o=bf(t,n,i,u)),pf(e),o}function pf(e){k.H=Hi;var t=Ae!==null&&Ae.next!==null;if(an=0,Ke=Ae=re=null,Fs=!1,qi=0,La=null,t)throw Error(r(300));e===null||Xe||(e=e.dependencies,e!==null&&Ys(e)&&(Xe=!0))}function bf(e,t,n,i){re=e;var u=0;do{if(Ba&&(La=null),qi=0,Ba=!1,25<=u)throw Error(r(301));if(u+=1,Ke=Ae=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}k.H=th,o=t(n,i)}while(Ba);return o}function wg(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?Bi(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(re.flags|=1024),t}function iu(){var e=el!==0;return el=0,e}function su(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function lu(e){if(Fs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fs=!1}an=0,Ke=Ae=re=null,Ba=!1,qi=el=0,La=null}function ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?re.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ve(){if(Ae===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Ke===null?re.memoizedState:Ke.next;if(t!==null)Ke=t,Ae=e;else{if(e===null)throw re.alternate===null?Error(r(467)):Error(r(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Ke===null?re.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function tl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bi(e){var t=qi;return qi+=1,La===null&&(La=[]),e=of(La,e,t),t=re,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?eh:pu),e}function nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bi(e);if(e.$$typeof===M)return nt(e)}throw Error(r(438,String(e)))}function ru(e){var t=null,n=re.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=re.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=tl(),re.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=vt;return t.index++,n}function sn(e,t){return typeof t=="function"?t(e):t}function al(e){var t=Ve();return uu(t,Ae,e)}function uu(e,t,n){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var u=e.baseQueue,o=i.pending;if(o!==null){if(u!==null){var d=u.next;u.next=o.next,o.next=d}t.baseQueue=u=o,i.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var v=d=null,b=null,j=t,D=!1;do{var q=j.lane&-536870913;if(q!==j.lane?(me&q)===q:(an&q)===q){var R=j.revertLane;if(R===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),q===Ua&&(D=!0);else if((an&R)===R){j=j.next,R===Ua&&(D=!0);continue}else q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},b===null?(v=b=q,d=o):b=b.next=q,re.lanes|=R,Cn|=R;q=j.action,sa&&n(o,q),o=j.hasEagerState?j.eagerState:n(o,q)}else R={lane:q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},b===null?(v=b=R,d=o):b=b.next=R,re.lanes|=q,Cn|=q;j=j.next}while(j!==null&&j!==t);if(b===null?d=o:b.next=v,!wt(o,e.memoizedState)&&(Xe=!0,D&&(n=Da,n!==null)))throw n;e.memoizedState=o,e.baseState=d,e.baseQueue=b,i.lastRenderedState=o}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function ou(e){var t=Ve(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,u=n.pending,o=t.memoizedState;if(u!==null){n.pending=null;var d=u=u.next;do o=e(o,d.action),d=d.next;while(d!==u);wt(o,t.memoizedState)||(Xe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function _f(e,t,n){var i=re,u=Ve(),o=ge;if(o){if(n===void 0)throw Error(r(407));n=n()}else n=t();var d=!wt((Ae||u).memoizedState,n);if(d&&(u.memoizedState=n,Xe=!0),u=u.queue,hu(Ef.bind(null,i,u,e),[e]),u.getSnapshot!==t||d||Ke!==null&&Ke.memoizedState.tag&1){if(i.flags|=2048,Ha(9,{destroy:void 0},Sf.bind(null,i,u,n,t),null),Ce===null)throw Error(r(349));o||(an&127)!==0||wf(i,t,n)}return n}function wf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t=tl(),re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sf(e,t,n,i){t.value=n,t.getSnapshot=i,Tf(t)&&xf(e)}function Ef(e,t,n){return n(function(){Tf(t)&&xf(e)})}function Tf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wt(e,n)}catch{return!0}}function xf(e){var t=In(e,2);t!==null&&gt(t,e,2)}function cu(e){var t=ot();if(typeof e=="function"){var n=e;if(e=n(),sa){vn(!0);try{n()}finally{vn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:e},t}function Af(e,t,n,i){return e.baseState=n,uu(e,Ae,typeof i=="function"?i:sn)}function Sg(e,t,n,i,u){if(ll(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){o.listeners.push(d)}};k.T!==null?n(!0):o.isTransition=!1,i(o),n=t.pending,n===null?(o.next=t.pending=o,Of(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Of(e,t){var n=t.action,i=t.payload,u=e.state;if(t.isTransition){var o=k.T,d={};k.T=d;try{var v=n(u,i),b=k.S;b!==null&&b(d,v),jf(e,t,v)}catch(j){fu(e,t,j)}finally{o!==null&&d.types!==null&&(o.types=d.types),k.T=o}}else try{o=n(u,i),jf(e,t,o)}catch(j){fu(e,t,j)}}function jf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Rf(e,t,i)},function(i){return fu(e,t,i)}):Rf(e,t,n)}function Rf(e,t,n){t.status="fulfilled",t.value=n,Nf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Of(e,n)))}function fu(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Nf(t),t=t.next;while(t!==i)}e.action=null}function Nf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cf(e,t){return t}function kf(e,t){if(ge){var n=Ce.formState;if(n!==null){e:{var i=re;if(ge){if(Ue){t:{for(var u=Ue,o=Mt;u.nodeType!==8;){if(!o){u=null;break t}if(u=Bt(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){Ue=Bt(u.nextSibling),i=u.data==="F!";break e}}Sn(i)}i=!1}i&&(t=n[0])}}return n=ot(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:t},n.queue=i,n=Pf.bind(null,re,i),i.dispatch=n,i=cu(!1),o=vu.bind(null,re,!1,i.queue),i=ot(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,n=Sg.bind(null,re,u,o,n),u.dispatch=n,i.memoizedState=e,[t,n,!1]}function Uf(e){var t=Ve();return Df(t,Ae,e)}function Df(e,t,n){if(t=uu(e,t,Cf)[0],e=al(sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Bi(t)}catch(d){throw d===za?Qs:d}else i=t;t=Ve();var u=t.queue,o=u.dispatch;return n!==t.memoizedState&&(re.flags|=2048,Ha(9,{destroy:void 0},Eg.bind(null,u,n),null)),[i,o,e]}function Eg(e,t){e.action=t}function zf(e){var t=Ve(),n=Ae;if(n!==null)return Df(t,n,e);Ve(),t=t.memoizedState,n=Ve();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ha(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=re.updateQueue,t===null&&(t=tl(),re.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Mf(){return Ve().memoizedState}function il(e,t,n,i){var u=ot();re.flags|=e,u.memoizedState=Ha(1|t,{destroy:void 0},n,i===void 0?null:i)}function sl(e,t,n,i){var u=Ve();i=i===void 0?null:i;var o=u.memoizedState.inst;Ae!==null&&i!==null&&nu(i,Ae.memoizedState.deps)?u.memoizedState=Ha(t,o,n,i):(re.flags|=e,u.memoizedState=Ha(1|t,o,n,i))}function qf(e,t){il(8390656,8,e,t)}function hu(e,t){sl(2048,8,e,t)}function Tg(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=tl(),re.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Bf(e){var t=Ve().memoizedState;return Tg({ref:t,nextImpl:e}),function(){if((we&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Lf(e,t){return sl(4,2,e,t)}function Hf(e,t){return sl(4,4,e,t)}function $f(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gf(e,t,n){n=n!=null?n.concat([e]):null,sl(4,4,$f.bind(null,t,e),n)}function du(){}function Vf(e,t){var n=Ve();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&nu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Yf(e,t){var n=Ve();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&nu(t,i[1]))return i[0];if(i=e(),sa){vn(!0);try{e()}finally{vn(!1)}}return n.memoizedState=[i,t],i}function mu(e,t,n){return n===void 0||(an&1073741824)!==0&&(me&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Kh(),re.lanes|=e,Cn|=e,n)}function Kf(e,t,n,i){return wt(n,t)?n:qa.current!==null?(e=mu(e,n,i),wt(e,t)||(Xe=!0),e):(an&42)===0||(an&1073741824)!==0&&(me&261930)===0?(Xe=!0,e.memoizedState=n):(e=Kh(),re.lanes|=e,Cn|=e,t)}function Xf(e,t,n,i,u){var o=K.p;K.p=o!==0&&8>o?o:8;var d=k.T,v={};k.T=v,vu(e,!1,t,n);try{var b=u(),j=k.S;if(j!==null&&j(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var D=bg(b,i);Li(e,t,D,Ot(e))}else Li(e,t,i,Ot(e))}catch(q){Li(e,t,{then:function(){},status:"rejected",reason:q},Ot())}finally{K.p=o,d!==null&&v.types!==null&&(d.types=v.types),k.T=d}}function xg(){}function yu(e,t,n,i){if(e.tag!==5)throw Error(r(476));var u=Qf(e).queue;Xf(e,u,t,ie,n===null?xg:function(){return Jf(e),n(i)})}function Qf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:ie},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Jf(e){var t=Qf(e);t.next===null&&(t=e.alternate.memoizedState),Li(e,t.next.queue,{},Ot())}function gu(){return nt(ns)}function Zf(){return Ve().memoizedState}function If(){return Ve().memoizedState}function Ag(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ot();e=xn(n);var i=An(t,e,n);i!==null&&(gt(i,t,n),Di(i,t,n)),t={cache:Kr()},e.payload=t;return}t=t.return}}function Og(e,t,n){var i=Ot();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ll(e)?Wf(t,n):(n=Dr(e,t,n,i),n!==null&&(gt(n,e,i),Ff(n,t,i)))}function Pf(e,t,n){var i=Ot();Li(e,t,n,i)}function Li(e,t,n,i){var u={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ll(e))Wf(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,v=o(d,n);if(u.hasEagerState=!0,u.eagerState=v,wt(v,d))return Hs(e,t,u,0),Ce===null&&Ls(),!1}catch{}if(n=Dr(e,t,u,i),n!==null)return gt(n,e,i),Ff(n,t,i),!0}return!1}function vu(e,t,n,i){if(i={lane:2,revertLane:Zu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ll(e)){if(t)throw Error(r(479))}else t=Dr(e,n,i,2),t!==null&&gt(t,e,2)}function ll(e){var t=e.alternate;return e===re||t!==null&&t===re}function Wf(e,t){Ba=Fs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ff(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ac(e,n)}}var Hi={readContext:nt,use:nl,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Hi.useEffectEvent=Be;var eh={readContext:nt,use:nl,useCallback:function(e,t){return ot().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:qf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,il(4194308,4,$f.bind(null,t,e),n)},useLayoutEffect:function(e,t){return il(4194308,4,e,t)},useInsertionEffect:function(e,t){il(4,2,e,t)},useMemo:function(e,t){var n=ot();t=t===void 0?null:t;var i=e();if(sa){vn(!0);try{e()}finally{vn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ot();if(n!==void 0){var u=n(t);if(sa){vn(!0);try{n(t)}finally{vn(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=Og.bind(null,re,e),[i.memoizedState,e]},useRef:function(e){var t=ot();return e={current:e},t.memoizedState=e},useState:function(e){e=cu(e);var t=e.queue,n=Pf.bind(null,re,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:du,useDeferredValue:function(e,t){var n=ot();return mu(n,e,t)},useTransition:function(){var e=cu(!1);return e=Xf.bind(null,re,e.queue,!0,!1),ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=re,u=ot();if(ge){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Ce===null)throw Error(r(349));(me&127)!==0||wf(i,t,n)}u.memoizedState=n;var o={value:n,getSnapshot:t};return u.queue=o,qf(Ef.bind(null,i,o,e),[e]),i.flags|=2048,Ha(9,{destroy:void 0},Sf.bind(null,i,o,n,t),null),n},useId:function(){var e=ot(),t=Ce.identifierPrefix;if(ge){var n=Qt,i=Xt;n=(i&~(1<<32-_t(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=el++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=_g++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:gu,useFormState:kf,useActionState:kf,useOptimistic:function(e){var t=ot();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=vu.bind(null,re,!0,n),n.dispatch=t,[e,t]},useMemoCache:ru,useCacheRefresh:function(){return ot().memoizedState=Ag.bind(null,re)},useEffectEvent:function(e){var t=ot(),n={impl:e};return t.memoizedState=n,function(){if((we&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},pu={readContext:nt,use:nl,useCallback:Vf,useContext:nt,useEffect:hu,useImperativeHandle:Gf,useInsertionEffect:Lf,useLayoutEffect:Hf,useMemo:Yf,useReducer:al,useRef:Mf,useState:function(){return al(sn)},useDebugValue:du,useDeferredValue:function(e,t){var n=Ve();return Kf(n,Ae.memoizedState,e,t)},useTransition:function(){var e=al(sn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:Bi(e),t]},useSyncExternalStore:_f,useId:Zf,useHostTransitionStatus:gu,useFormState:Uf,useActionState:Uf,useOptimistic:function(e,t){var n=Ve();return Af(n,Ae,e,t)},useMemoCache:ru,useCacheRefresh:If};pu.useEffectEvent=Bf;var th={readContext:nt,use:nl,useCallback:Vf,useContext:nt,useEffect:hu,useImperativeHandle:Gf,useInsertionEffect:Lf,useLayoutEffect:Hf,useMemo:Yf,useReducer:ou,useRef:Mf,useState:function(){return ou(sn)},useDebugValue:du,useDeferredValue:function(e,t){var n=Ve();return Ae===null?mu(n,e,t):Kf(n,Ae.memoizedState,e,t)},useTransition:function(){var e=ou(sn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:Bi(e),t]},useSyncExternalStore:_f,useId:Zf,useHostTransitionStatus:gu,useFormState:zf,useActionState:zf,useOptimistic:function(e,t){var n=Ve();return Ae!==null?Af(n,Ae,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ru,useCacheRefresh:If};th.useEffectEvent=Bf;function bu(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:S({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _u={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ot(),u=xn(i);u.payload=t,n!=null&&(u.callback=n),t=An(e,u,i),t!==null&&(gt(t,e,i),Di(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ot(),u=xn(i);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=An(e,u,i),t!==null&&(gt(t,e,i),Di(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ot(),i=xn(n);i.tag=2,t!=null&&(i.callback=t),t=An(e,i,n),t!==null&&(gt(t,e,n),Di(t,e,n))}};function nh(e,t,n,i,u,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,d):t.prototype&&t.prototype.isPureReactComponent?!Ai(n,i)||!Ai(u,o):!0}function ah(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&_u.enqueueReplaceState(t,t.state,null)}function la(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=S({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function ih(e){Bs(e)}function sh(e){console.error(e)}function lh(e){Bs(e)}function rl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function rh(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function wu(e,t,n){return n=xn(n),n.tag=3,n.payload={element:null},n.callback=function(){rl(e,t)},n}function uh(e){return e=xn(e),e.tag=3,e}function oh(e,t,n,i){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var o=i.value;e.payload=function(){return u(o)},e.callback=function(){rh(t,n,i)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){rh(t,n,i),typeof u!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function jg(e,t,n,i,u){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&ka(t,n,u,!0),n=Et.current,n!==null){switch(n.tag){case 31:case 13:return qt===null?bl():n.alternate===null&&Le===0&&(Le=3),n.flags&=-257,n.flags|=65536,n.lanes=u,i===Js?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Xu(e,i,u)),!1;case 22:return n.flags|=65536,i===Js?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Xu(e,i,u)),!1}throw Error(r(435,n.tag))}return Xu(e,i,u),bl(),!1}if(ge)return t=Et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Hr&&(e=Error(r(422),{cause:i}),Ri(Ut(e,n)))):(i!==Hr&&(t=Error(r(423),{cause:i}),Ri(Ut(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Ut(i,n),u=wu(e.stateNode,i,u),Pr(e,u),Le!==4&&(Le=2)),!1;var o=Error(r(520),{cause:i});if(o=Ut(o,n),Ji===null?Ji=[o]:Ji.push(o),Le!==4&&(Le=2),t===null)return!0;i=Ut(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=wu(n.stateNode,i,e),Pr(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(kn===null||!kn.has(o))))return n.flags|=65536,u&=-u,n.lanes|=u,u=uh(u),oh(u,e,n,i),Pr(n,u),!1}n=n.return}while(n!==null);return!1}var Su=Error(r(461)),Xe=!1;function at(e,t,n,i){t.child=e===null?df(t,null,n,i):ia(t,e.child,n,i)}function ch(e,t,n,i,u){n=n.render;var o=t.ref;if("ref"in i){var d={};for(var v in i)v!=="ref"&&(d[v]=i[v])}else d=i;return ea(t),i=au(e,t,n,d,o,u),v=iu(),e!==null&&!Xe?(su(e,t,u),ln(e,t,u)):(ge&&v&&Br(t),t.flags|=1,at(e,t,i,u),t.child)}function fh(e,t,n,i,u){if(e===null){var o=n.type;return typeof o=="function"&&!zr(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,hh(e,t,o,i,u)):(e=Gs(n.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Nu(e,u)){var d=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ai,n(d,i)&&e.ref===t.ref)return ln(e,t,u)}return t.flags|=1,e=Ft(o,i),e.ref=t.ref,e.return=t,t.child=e}function hh(e,t,n,i,u){if(e!==null){var o=e.memoizedProps;if(Ai(o,i)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=i=o,Nu(e,u))(e.flags&131072)!==0&&(Xe=!0);else return t.lanes=e.lanes,ln(e,t,u)}return Eu(e,t,n,i,u)}function dh(e,t,n,i){var u=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~o}else i=0,t.child=null;return mh(e,t,o,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xs(t,o!==null?o.cachePool:null),o!==null?gf(t,o):Fr(),vf(t);else return i=t.lanes=536870912,mh(e,t,o!==null?o.baseLanes|n:n,n,i)}else o!==null?(Xs(t,o.cachePool),gf(t,o),jn(),t.memoizedState=null):(e!==null&&Xs(t,null),Fr(),jn());return at(e,t,u,n),t.child}function $i(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function mh(e,t,n,i,u){var o=Qr();return o=o===null?null:{parent:Ye._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Xs(t,null),Fr(),vf(t),e!==null&&ka(e,t,i,!0),t.childLanes=u,null}function ul(e,t){return t=cl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function yh(e,t,n){return ia(t,e.child,null,n),e=ul(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function Rg(e,t,n){var i=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ge){if(i.mode==="hidden")return e=ul(t,i),t.lanes=536870912,$i(null,e);if(tu(t),(e=Ue)?(e=Od(e,Mt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_n!==null?{id:Xt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},n=Pc(e),n.return=t,t.child=n,tt=t,Ue=null)):e=null,e===null)throw Sn(t);return t.lanes=536870912,null}return ul(t,i)}var o=e.memoizedState;if(o!==null){var d=o.dehydrated;if(tu(t),u)if(t.flags&256)t.flags&=-257,t=yh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Xe||ka(e,t,n,!1),u=(n&e.childLanes)!==0,Xe||u){if(i=Ce,i!==null&&(d=ic(i,n),d!==0&&d!==o.retryLane))throw o.retryLane=d,In(e,d),gt(i,e,d),Su;bl(),t=yh(e,t,n)}else e=o.treeContext,Ue=Bt(d.nextSibling),tt=t,ge=!0,wn=null,Mt=!1,e!==null&&ef(t,e),t=ul(t,i),t.flags|=4096;return t}return e=Ft(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ol(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Eu(e,t,n,i,u){return ea(t),n=au(e,t,n,i,void 0,u),i=iu(),e!==null&&!Xe?(su(e,t,u),ln(e,t,u)):(ge&&i&&Br(t),t.flags|=1,at(e,t,n,u),t.child)}function gh(e,t,n,i,u,o){return ea(t),t.updateQueue=null,n=bf(t,i,n,u),pf(e),i=iu(),e!==null&&!Xe?(su(e,t,o),ln(e,t,o)):(ge&&i&&Br(t),t.flags|=1,at(e,t,n,o),t.child)}function vh(e,t,n,i,u){if(ea(t),t.stateNode===null){var o=ja,d=n.contextType;typeof d=="object"&&d!==null&&(o=nt(d)),o=new n(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=_u,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},Zr(t),d=n.contextType,o.context=typeof d=="object"&&d!==null?nt(d):ja,o.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(bu(t,n,d,i),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(d=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),d!==o.state&&_u.enqueueReplaceState(o,o.state,null),Mi(t,i,o,u),zi(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var v=t.memoizedProps,b=la(n,v);o.props=b;var j=o.context,D=n.contextType;d=ja,typeof D=="object"&&D!==null&&(d=nt(D));var q=n.getDerivedStateFromProps;D=typeof q=="function"||typeof o.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,D||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(v||j!==d)&&ah(t,o,i,d),Tn=!1;var R=t.memoizedState;o.state=R,Mi(t,i,o,u),zi(),j=t.memoizedState,v||R!==j||Tn?(typeof q=="function"&&(bu(t,n,q,i),j=t.memoizedState),(b=Tn||nh(t,n,b,i,R,j,d))?(D||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=j),o.props=i,o.state=j,o.context=d,i=b):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Ir(e,t),d=t.memoizedProps,D=la(n,d),o.props=D,q=t.pendingProps,R=o.context,j=n.contextType,b=ja,typeof j=="object"&&j!==null&&(b=nt(j)),v=n.getDerivedStateFromProps,(j=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==q||R!==b)&&ah(t,o,i,b),Tn=!1,R=t.memoizedState,o.state=R,Mi(t,i,o,u),zi();var N=t.memoizedState;d!==q||R!==N||Tn||e!==null&&e.dependencies!==null&&Ys(e.dependencies)?(typeof v=="function"&&(bu(t,n,v,i),N=t.memoizedState),(D=Tn||nh(t,n,D,i,R,N,b)||e!==null&&e.dependencies!==null&&Ys(e.dependencies))?(j||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,N,b),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,N,b)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=N),o.props=i,o.state=N,o.context=b,i=D):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,ol(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=ia(t,e.child,null,u),t.child=ia(t,null,n,u)):at(e,t,n,u),t.memoizedState=o.state,e=t.child):e=ln(e,t,u),e}function ph(e,t,n,i){return Wn(),t.flags|=256,at(e,t,n,i),t.child}var Tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xu(e){return{baseLanes:e,cachePool:rf()}}function Au(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=At),e}function bh(e,t,n){var i=t.pendingProps,u=!1,o=(t.flags&128)!==0,d;if((d=o)||(d=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),d&&(u=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(ge){if(u?On(t):jn(),(e=Ue)?(e=Od(e,Mt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_n!==null?{id:Xt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},n=Pc(e),n.return=t,t.child=n,tt=t,Ue=null)):e=null,e===null)throw Sn(t);return uo(e)?t.lanes=32:t.lanes=536870912,null}var v=i.children;return i=i.fallback,u?(jn(),u=t.mode,v=cl({mode:"hidden",children:v},u),i=Pn(i,u,n,null),v.return=t,i.return=t,v.sibling=i,t.child=v,i=t.child,i.memoizedState=xu(n),i.childLanes=Au(e,d,n),t.memoizedState=Tu,$i(null,i)):(On(t),Ou(t,v))}var b=e.memoizedState;if(b!==null&&(v=b.dehydrated,v!==null)){if(o)t.flags&256?(On(t),t.flags&=-257,t=ju(e,t,n)):t.memoizedState!==null?(jn(),t.child=e.child,t.flags|=128,t=null):(jn(),v=i.fallback,u=t.mode,i=cl({mode:"visible",children:i.children},u),v=Pn(v,u,n,null),v.flags|=2,i.return=t,v.return=t,i.sibling=v,t.child=i,ia(t,e.child,null,n),i=t.child,i.memoizedState=xu(n),i.childLanes=Au(e,d,n),t.memoizedState=Tu,t=$i(null,i));else if(On(t),uo(v)){if(d=v.nextSibling&&v.nextSibling.dataset,d)var j=d.dgst;d=j,i=Error(r(419)),i.stack="",i.digest=d,Ri({value:i,source:null,stack:null}),t=ju(e,t,n)}else if(Xe||ka(e,t,n,!1),d=(n&e.childLanes)!==0,Xe||d){if(d=Ce,d!==null&&(i=ic(d,n),i!==0&&i!==b.retryLane))throw b.retryLane=i,In(e,i),gt(d,e,i),Su;ro(v)||bl(),t=ju(e,t,n)}else ro(v)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Ue=Bt(v.nextSibling),tt=t,ge=!0,wn=null,Mt=!1,e!==null&&ef(t,e),t=Ou(t,i.children),t.flags|=4096);return t}return u?(jn(),v=i.fallback,u=t.mode,b=e.child,j=b.sibling,i=Ft(b,{mode:"hidden",children:i.children}),i.subtreeFlags=b.subtreeFlags&65011712,j!==null?v=Ft(j,v):(v=Pn(v,u,n,null),v.flags|=2),v.return=t,i.return=t,i.sibling=v,t.child=i,$i(null,i),i=t.child,v=e.child.memoizedState,v===null?v=xu(n):(u=v.cachePool,u!==null?(b=Ye._currentValue,u=u.parent!==b?{parent:b,pool:b}:u):u=rf(),v={baseLanes:v.baseLanes|n,cachePool:u}),i.memoizedState=v,i.childLanes=Au(e,d,n),t.memoizedState=Tu,$i(e.child,i)):(On(t),n=e.child,e=n.sibling,n=Ft(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=n,t.memoizedState=null,n)}function Ou(e,t){return t=cl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function cl(e,t){return e=St(22,e,null,t),e.lanes=0,e}function ju(e,t,n){return ia(t,e.child,null,n),e=Ou(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _h(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Vr(e.return,t,n)}function Ru(e,t,n,i,u,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:u,treeForkCount:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=n,d.tailMode=u,d.treeForkCount=o)}function wh(e,t,n){var i=t.pendingProps,u=i.revealOrder,o=i.tail;i=i.children;var d=Ge.current,v=(d&2)!==0;if(v?(d=d&1|2,t.flags|=128):d&=1,X(Ge,d),at(e,t,i,n),i=ge?ji:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_h(e,n,t);else if(e.tag===19)_h(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Ws(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),Ru(t,!1,u,n,o,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ws(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}Ru(t,!0,n,null,o,i);break;case"together":Ru(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ka(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ys(e)))}function Ng(e,t,n){switch(t.tag){case 3:ut(t,t.stateNode.containerInfo),En(t,Ye,e.memoizedState.cache),Wn();break;case 27:case 5:di(t);break;case 4:ut(t,t.stateNode.containerInfo);break;case 10:En(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,tu(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(On(t),t.flags|=128,null):(n&t.child.childLanes)!==0?bh(e,t,n):(On(t),e=ln(e,t,n),e!==null?e.sibling:null);On(t);break;case 19:var u=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(ka(e,t,n,!1),i=(n&t.childLanes)!==0),u){if(i)return wh(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),X(Ge,Ge.current),i)break;return null;case 22:return t.lanes=0,dh(e,t,n,t.pendingProps);case 24:En(t,Ye,e.memoizedState.cache)}return ln(e,t,n)}function Sh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xe=!0;else{if(!Nu(e,n)&&(t.flags&128)===0)return Xe=!1,Ng(e,t,n);Xe=(e.flags&131072)!==0}else Xe=!1,ge&&(t.flags&1048576)!==0&&Fc(t,ji,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=na(t.elementType),t.type=e,typeof e=="function")zr(e)?(i=la(e,i),t.tag=1,t=vh(null,t,e,i,n)):(t.tag=0,t=Eu(null,t,e,i,n));else{if(e!=null){var u=e.$$typeof;if(u===H){t.tag=11,t=ch(null,t,e,i,n);break e}else if(u===G){t.tag=14,t=fh(null,t,e,i,n);break e}}throw t=_e(e)||e,Error(r(306,t,""))}}return t;case 0:return Eu(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,u=la(i,t.pendingProps),vh(e,t,i,u,n);case 3:e:{if(ut(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var o=t.memoizedState;u=o.element,Ir(e,t),Mi(t,i,null,n);var d=t.memoizedState;if(i=d.cache,En(t,Ye,i),i!==o.cache&&Yr(t,[Ye],n,!0),zi(),i=d.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=ph(e,t,i,n);break e}else if(i!==u){u=Ut(Error(r(424)),t),Ri(u),t=ph(e,t,i,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ue=Bt(e.firstChild),tt=t,ge=!0,wn=null,Mt=!0,n=df(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wn(),i===u){t=ln(e,t,n);break e}at(e,t,i,n)}t=t.child}return t;case 26:return ol(e,t),e===null?(n=Ud(t.type,null,t.pendingProps,null))?t.memoizedState=n:ge||(n=t.type,e=t.pendingProps,i=Al(ce.current).createElement(n),i[et]=t,i[ct]=e,it(i,n,e),We(i),t.stateNode=i):t.memoizedState=Ud(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return di(t),e===null&&ge&&(i=t.stateNode=Nd(t.type,t.pendingProps,ce.current),tt=t,Mt=!0,u=Ue,Mn(t.type)?(oo=u,Ue=Bt(i.firstChild)):Ue=u),at(e,t,t.pendingProps.children,n),ol(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ge&&((u=i=Ue)&&(i=lv(i,t.type,t.pendingProps,Mt),i!==null?(t.stateNode=i,tt=t,Ue=Bt(i.firstChild),Mt=!1,u=!0):u=!1),u||Sn(t)),di(t),u=t.type,o=t.pendingProps,d=e!==null?e.memoizedProps:null,i=o.children,io(u,o)?i=null:d!==null&&io(u,d)&&(t.flags|=32),t.memoizedState!==null&&(u=au(e,t,wg,null,null,n),ns._currentValue=u),ol(e,t),at(e,t,i,n),t.child;case 6:return e===null&&ge&&((e=n=Ue)&&(n=rv(n,t.pendingProps,Mt),n!==null?(t.stateNode=n,tt=t,Ue=null,e=!0):e=!1),e||Sn(t)),null;case 13:return bh(e,t,n);case 4:return ut(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ia(t,null,i,n):at(e,t,i,n),t.child;case 11:return ch(e,t,t.type,t.pendingProps,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,En(t,t.type,i.value),at(e,t,i.children,n),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,ea(t),u=nt(u),i=i(u),t.flags|=1,at(e,t,i,n),t.child;case 14:return fh(e,t,t.type,t.pendingProps,n);case 15:return hh(e,t,t.type,t.pendingProps,n);case 19:return wh(e,t,n);case 31:return Rg(e,t,n);case 22:return dh(e,t,n,t.pendingProps);case 24:return ea(t),i=nt(Ye),e===null?(u=Qr(),u===null&&(u=Ce,o=Kr(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=n),u=o),t.memoizedState={parent:i,cache:u},Zr(t),En(t,Ye,u)):((e.lanes&n)!==0&&(Ir(e,t),Mi(t,null,null,n),zi()),u=e.memoizedState,o=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),En(t,Ye,i)):(i=o.cache,En(t,Ye,i),i!==u.cache&&Yr(t,[Ye],n,!0))),at(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function rn(e){e.flags|=4}function Cu(e,t,n,i,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Zh())e.flags|=8192;else throw aa=Js,Jr}else e.flags&=-16777217}function Eh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t))if(Zh())e.flags|=8192;else throw aa=Js,Jr}function fl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?tc():536870912,e.lanes|=t,Ya|=t)}function Gi(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Cg(e,t,n){var i=t.pendingProps;switch(Lr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return De(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),nn(Ye),$e(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ca(t)?rn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$r())),De(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(rn(t),o!==null?(De(t),Eh(t,o)):(De(t),Cu(t,u,null,i,n))):o?o!==e.memoizedState?(rn(t),De(t),Eh(t,o)):(De(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&rn(t),De(t),Cu(t,u,e,i,n)),null;case 27:if(Ss(t),n=ce.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&rn(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return De(t),null}e=P.current,Ca(t)?tf(t):(e=Nd(u,i,n),t.stateNode=e,rn(t))}return De(t),null;case 5:if(Ss(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&rn(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return De(t),null}if(o=P.current,Ca(t))tf(t);else{var d=Al(ce.current);switch(o){case 1:o=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=d.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?d.createElement("select",{is:i.is}):d.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?d.createElement(u,{is:i.is}):d.createElement(u)}}o[et]=t,o[ct]=i;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=o;e:switch(it(o,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&rn(t)}}return De(t),Cu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&rn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=ce.current,Ca(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,u=tt,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[et]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||bd(e.nodeValue,n)),e||Sn(t,!0)}else e=Al(e).createTextNode(i),e[et]=t,t.stateNode=e}return De(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ca(t),n!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[et]=t}else Wn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),e=!1}else n=$r(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return De(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ca(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[et]=t}else Wn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),u=!1}else u=$r(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==u&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),fl(t,t.updateQueue),De(t),null);case 4:return $e(),e===null&&Fu(t.stateNode.containerInfo),De(t),null;case 10:return nn(t.type),De(t),null;case 19:if(B(Ge),i=t.memoizedState,i===null)return De(t),null;if(u=(t.flags&128)!==0,o=i.rendering,o===null)if(u)Gi(i,!1);else{if(Le!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Ws(e),o!==null){for(t.flags|=128,Gi(i,!1),e=o.updateQueue,t.updateQueue=e,fl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ic(n,e),n=n.sibling;return X(Ge,Ge.current&1|2),ge&&en(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&pt()>gl&&(t.flags|=128,u=!0,Gi(i,!1),t.lanes=4194304)}else{if(!u)if(e=Ws(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,fl(t,e),Gi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ge)return De(t),null}else 2*pt()-i.renderingStartTime>gl&&n!==536870912&&(t.flags|=128,u=!0,Gi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=pt(),e.sibling=null,n=Ge.current,X(Ge,u?n&1|2:n&1),ge&&en(t,i.treeForkCount),e):(De(t),null);case 22:case 23:return Tt(t),eu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),n=t.updateQueue,n!==null&&fl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&B(ta),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),nn(Ye),De(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function kg(e,t){switch(Lr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nn(Ye),$e(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ss(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(r(340));Wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(Ge),null;case 4:return $e(),null;case 10:return nn(t.type),null;case 22:case 23:return Tt(t),eu(),e!==null&&B(ta),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return nn(Ye),null;case 25:return null;default:return null}}function Th(e,t){switch(Lr(t),t.tag){case 3:nn(Ye),$e();break;case 26:case 27:case 5:Ss(t);break;case 4:$e();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:B(Ge);break;case 10:nn(t.type);break;case 22:case 23:Tt(t),eu(),e!==null&&B(ta);break;case 24:nn(Ye)}}function Vi(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var u=i.next;n=u;do{if((n.tag&e)===e){i=void 0;var o=n.create,d=n.inst;i=o(),d.destroy=i}n=n.next}while(n!==u)}}catch(v){Te(t,t.return,v)}}function Rn(e,t,n){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var o=u.next;i=o;do{if((i.tag&e)===e){var d=i.inst,v=d.destroy;if(v!==void 0){d.destroy=void 0,u=t;var b=n,j=v;try{j()}catch(D){Te(u,b,D)}}}i=i.next}while(i!==o)}}catch(D){Te(t,t.return,D)}}function xh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{yf(t,n)}catch(i){Te(e,e.return,i)}}}function Ah(e,t,n){n.props=la(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Te(e,t,i)}}function Yi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(u){Te(e,t,u)}}function Jt(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(u){Te(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Te(e,t,u)}else n.current=null}function Oh(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(u){Te(e,e.return,u)}}function ku(e,t,n){try{var i=e.stateNode;ev(i,e.type,n,t),i[ct]=t}catch(u){Te(e,e.return,u)}}function jh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Mn(e.type)||e.tag===4}function Uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Mn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Du(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pt));else if(i!==4&&(i===27&&Mn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Du(e,t,n),e=e.sibling;e!==null;)Du(e,t,n),e=e.sibling}function hl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Mn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(hl(e,t,n),e=e.sibling;e!==null;)hl(e,t,n),e=e.sibling}function Rh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);it(t,i,n),t[et]=e,t[ct]=n}catch(o){Te(e,e.return,o)}}var un=!1,Qe=!1,zu=!1,Nh=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Ug(e,t){if(e=e.containerInfo,no=Ul,e=$c(e),jr(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var u=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var d=0,v=-1,b=-1,j=0,D=0,q=e,R=null;t:for(;;){for(var N;q!==n||u!==0&&q.nodeType!==3||(v=d+u),q!==o||i!==0&&q.nodeType!==3||(b=d+i),q.nodeType===3&&(d+=q.nodeValue.length),(N=q.firstChild)!==null;)R=q,q=N;for(;;){if(q===e)break t;if(R===n&&++j===u&&(v=d),R===o&&++D===i&&(b=d),(N=q.nextSibling)!==null)break;q=R,R=q.parentNode}q=N}n=v===-1||b===-1?null:{start:v,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(ao={focusedElem:e,selectionRange:n},Ul=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){switch(t=Fe,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,u=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var I=la(n.type,u);e=i.getSnapshotBeforeUpdate(I,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(te){Te(n,n.return,te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)lo(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}}function Ch(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:cn(e,n),i&4&&Vi(5,n);break;case 1:if(cn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(d){Te(n,n.return,d)}else{var u=la(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Te(n,n.return,d)}}i&64&&xh(n),i&512&&Yi(n,n.return);break;case 3:if(cn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{yf(e,t)}catch(d){Te(n,n.return,d)}}break;case 27:t===null&&i&4&&Rh(n);case 26:case 5:cn(e,n),t===null&&i&4&&Oh(n),i&512&&Yi(n,n.return);break;case 12:cn(e,n);break;case 31:cn(e,n),i&4&&Dh(e,n);break;case 13:cn(e,n),i&4&&zh(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Gg.bind(null,n),uv(e,n))));break;case 22:if(i=n.memoizedState!==null||un,!i){t=t!==null&&t.memoizedState!==null||Qe,u=un;var o=Qe;un=i,(Qe=t)&&!o?fn(e,n,(n.subtreeFlags&8772)!==0):cn(e,n),un=u,Qe=o}break;case 30:break;default:cn(e,n)}}function kh(e){var t=e.alternate;t!==null&&(e.alternate=null,kh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,ht=!1;function on(e,t,n){for(n=n.child;n!==null;)Uh(e,t,n),n=n.sibling}function Uh(e,t,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(mi,n)}catch{}switch(n.tag){case 26:Qe||Jt(n,t),on(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Qe||Jt(n,t);var i=ze,u=ht;Mn(n.type)&&(ze=n.stateNode,ht=!1),on(e,t,n),Fi(n.stateNode),ze=i,ht=u;break;case 5:Qe||Jt(n,t);case 6:if(i=ze,u=ht,ze=null,on(e,t,n),ze=i,ht=u,ze!==null)if(ht)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(n.stateNode)}catch(o){Te(n,t,o)}else try{ze.removeChild(n.stateNode)}catch(o){Te(n,t,o)}break;case 18:ze!==null&&(ht?(e=ze,xd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Wa(e)):xd(ze,n.stateNode));break;case 4:i=ze,u=ht,ze=n.stateNode.containerInfo,ht=!0,on(e,t,n),ze=i,ht=u;break;case 0:case 11:case 14:case 15:Rn(2,n,t),Qe||Rn(4,n,t),on(e,t,n);break;case 1:Qe||(Jt(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Ah(n,t,i)),on(e,t,n);break;case 21:on(e,t,n);break;case 22:Qe=(i=Qe)||n.memoizedState!==null,on(e,t,n),Qe=i;break;default:on(e,t,n)}}function Dh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wa(e)}catch(n){Te(t,t.return,n)}}}function zh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wa(e)}catch(n){Te(t,t.return,n)}}function Dg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Nh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Nh),t;default:throw Error(r(435,e.tag))}}function dl(e,t){var n=Dg(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var u=Vg.bind(null,e,i);i.then(u,u)}})}function dt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var u=n[i],o=e,d=t,v=d;e:for(;v!==null;){switch(v.tag){case 27:if(Mn(v.type)){ze=v.stateNode,ht=!1;break e}break;case 5:ze=v.stateNode,ht=!1;break e;case 3:case 4:ze=v.stateNode.containerInfo,ht=!0;break e}v=v.return}if(ze===null)throw Error(r(160));Uh(o,d,u),ze=null,ht=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Mh(t,e),t=t.sibling}var $t=null;function Mh(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dt(t,e),mt(e),i&4&&(Rn(3,e,e.return),Vi(3,e),Rn(5,e,e.return));break;case 1:dt(t,e),mt(e),i&512&&(Qe||n===null||Jt(n,n.return)),i&64&&un&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var u=$t;if(dt(t,e),mt(e),i&512&&(Qe||n===null||Jt(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":o=u.getElementsByTagName("title")[0],(!o||o[vi]||o[et]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(i),u.head.insertBefore(o,u.querySelector("head > title"))),it(o,i,n),o[et]=e,We(o),i=o;break e;case"link":var d=Md("link","href",u).get(i+(n.href||""));if(d){for(var v=0;v<d.length;v++)if(o=d[v],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(v,1);break t}}o=u.createElement(i),it(o,i,n),u.head.appendChild(o);break;case"meta":if(d=Md("meta","content",u).get(i+(n.content||""))){for(v=0;v<d.length;v++)if(o=d[v],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(v,1);break t}}o=u.createElement(i),it(o,i,n),u.head.appendChild(o);break;default:throw Error(r(468,i))}o[et]=e,We(o),i=o}e.stateNode=i}else qd(u,e.type,e.stateNode);else e.stateNode=zd(u,i,e.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?qd(u,e.type,e.stateNode):zd(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ku(e,e.memoizedProps,n.memoizedProps)}break;case 27:dt(t,e),mt(e),i&512&&(Qe||n===null||Jt(n,n.return)),n!==null&&i&4&&ku(e,e.memoizedProps,n.memoizedProps);break;case 5:if(dt(t,e),mt(e),i&512&&(Qe||n===null||Jt(n,n.return)),e.flags&32){u=e.stateNode;try{wa(u,"")}catch(I){Te(e,e.return,I)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,ku(e,u,n!==null?n.memoizedProps:u)),i&1024&&(zu=!0);break;case 6:if(dt(t,e),mt(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(I){Te(e,e.return,I)}}break;case 3:if(Rl=null,u=$t,$t=Ol(t.containerInfo),dt(t,e),$t=u,mt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Wa(t.containerInfo)}catch(I){Te(e,e.return,I)}zu&&(zu=!1,qh(e));break;case 4:i=$t,$t=Ol(e.stateNode.containerInfo),dt(t,e),mt(e),$t=i;break;case 12:dt(t,e),mt(e);break;case 31:dt(t,e),mt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,dl(e,i)));break;case 13:dt(t,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(yl=pt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,dl(e,i)));break;case 22:u=e.memoizedState!==null;var b=n!==null&&n.memoizedState!==null,j=un,D=Qe;if(un=j||u,Qe=D||b,dt(t,e),Qe=D,un=j,mt(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||b||un||Qe||ra(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){b=n=t;try{if(o=b.stateNode,u)d=o.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=b.stateNode;var q=b.memoizedProps.style,R=q!=null&&q.hasOwnProperty("display")?q.display:null;v.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(I){Te(b,b.return,I)}}}else if(t.tag===6){if(n===null){b=t;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(I){Te(b,b.return,I)}}}else if(t.tag===18){if(n===null){b=t;try{var N=b.stateNode;u?Ad(N,!0):Ad(b.stateNode,!1)}catch(I){Te(b,b.return,I)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,dl(e,n))));break;case 19:dt(t,e),mt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,dl(e,i)));break;case 30:break;case 21:break;default:dt(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(jh(i)){n=i;break}i=i.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var u=n.stateNode,o=Uu(e);hl(e,o,u);break;case 5:var d=n.stateNode;n.flags&32&&(wa(d,""),n.flags&=-33);var v=Uu(e);hl(e,v,d);break;case 3:case 4:var b=n.stateNode.containerInfo,j=Uu(e);Du(e,j,b);break;default:throw Error(r(161))}}catch(D){Te(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;qh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function cn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ch(e,t.alternate,t),t=t.sibling}function ra(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Rn(4,t,t.return),ra(t);break;case 1:Jt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Ah(t,t.return,n),ra(t);break;case 27:Fi(t.stateNode);case 26:case 5:Jt(t,t.return),ra(t);break;case 22:t.memoizedState===null&&ra(t);break;case 30:ra(t);break;default:ra(t)}e=e.sibling}}function fn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,o=t,d=o.flags;switch(o.tag){case 0:case 11:case 15:fn(u,o,n),Vi(4,o);break;case 1:if(fn(u,o,n),i=o,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(j){Te(i,i.return,j)}if(i=o,u=i.updateQueue,u!==null){var v=i.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)mf(b[u],v)}catch(j){Te(i,i.return,j)}}n&&d&64&&xh(o),Yi(o,o.return);break;case 27:Rh(o);case 26:case 5:fn(u,o,n),n&&i===null&&d&4&&Oh(o),Yi(o,o.return);break;case 12:fn(u,o,n);break;case 31:fn(u,o,n),n&&d&4&&Dh(u,o);break;case 13:fn(u,o,n),n&&d&4&&zh(u,o);break;case 22:o.memoizedState===null&&fn(u,o,n),Yi(o,o.return);break;case 30:break;default:fn(u,o,n)}t=t.sibling}}function Mu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ni(n))}function qu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ni(e))}function Gt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bh(e,t,n,i),t=t.sibling}function Bh(e,t,n,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Gt(e,t,n,i),u&2048&&Vi(9,t);break;case 1:Gt(e,t,n,i);break;case 3:Gt(e,t,n,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ni(e)));break;case 12:if(u&2048){Gt(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,d=o.id,v=o.onPostCommit;typeof v=="function"&&v(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Te(t,t.return,b)}}else Gt(e,t,n,i);break;case 31:Gt(e,t,n,i);break;case 13:Gt(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,d=t.alternate,t.memoizedState!==null?o._visibility&2?Gt(e,t,n,i):Ki(e,t):o._visibility&2?Gt(e,t,n,i):(o._visibility|=2,$a(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Mu(d,t);break;case 24:Gt(e,t,n,i),u&2048&&qu(t.alternate,t);break;default:Gt(e,t,n,i)}}function $a(e,t,n,i,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,d=t,v=n,b=i,j=d.flags;switch(d.tag){case 0:case 11:case 15:$a(o,d,v,b,u),Vi(8,d);break;case 23:break;case 22:var D=d.stateNode;d.memoizedState!==null?D._visibility&2?$a(o,d,v,b,u):Ki(o,d):(D._visibility|=2,$a(o,d,v,b,u)),u&&j&2048&&Mu(d.alternate,d);break;case 24:$a(o,d,v,b,u),u&&j&2048&&qu(d.alternate,d);break;default:$a(o,d,v,b,u)}t=t.sibling}}function Ki(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,u=i.flags;switch(i.tag){case 22:Ki(n,i),u&2048&&Mu(i.alternate,i);break;case 24:Ki(n,i),u&2048&&qu(i.alternate,i);break;default:Ki(n,i)}t=t.sibling}}var Xi=8192;function Ga(e,t,n){if(e.subtreeFlags&Xi)for(e=e.child;e!==null;)Lh(e,t,n),e=e.sibling}function Lh(e,t,n){switch(e.tag){case 26:Ga(e,t,n),e.flags&Xi&&e.memoizedState!==null&&_v(n,$t,e.memoizedState,e.memoizedProps);break;case 5:Ga(e,t,n);break;case 3:case 4:var i=$t;$t=Ol(e.stateNode.containerInfo),Ga(e,t,n),$t=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Xi,Xi=16777216,Ga(e,t,n),Xi=i):Ga(e,t,n));break;default:Ga(e,t,n)}}function Hh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Qi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Fe=i,Gh(i,e)}Hh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$h(e),e=e.sibling}function $h(e){switch(e.tag){case 0:case 11:case 15:Qi(e),e.flags&2048&&Rn(9,e,e.return);break;case 3:Qi(e);break;case 12:Qi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ml(e)):Qi(e);break;default:Qi(e)}}function ml(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Fe=i,Gh(i,e)}Hh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Rn(8,t,t.return),ml(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ml(t));break;default:ml(t)}e=e.sibling}}function Gh(e,t){for(;Fe!==null;){var n=Fe;switch(n.tag){case 0:case 11:case 15:Rn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ni(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Fe=i;else e:for(n=e;Fe!==null;){i=Fe;var u=i.sibling,o=i.return;if(kh(i),i===n){Fe=null;break e}if(u!==null){u.return=o,Fe=u;break e}Fe=o}}}var zg={getCacheForType:function(e){var t=nt(Ye),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return nt(Ye).controller.signal}},Mg=typeof WeakMap=="function"?WeakMap:Map,we=0,Ce=null,fe=null,me=0,Ee=0,xt=null,Nn=!1,Va=!1,Bu=!1,hn=0,Le=0,Cn=0,ua=0,Lu=0,At=0,Ya=0,Ji=null,yt=null,Hu=!1,yl=0,Vh=0,gl=1/0,vl=null,kn=null,Ze=0,Un=null,Ka=null,dn=0,$u=0,Gu=null,Yh=null,Zi=0,Vu=null;function Ot(){return(we&2)!==0&&me!==0?me&-me:k.T!==null?Zu():sc()}function Kh(){if(At===0)if((me&536870912)===0||ge){var e=xs;xs<<=1,(xs&3932160)===0&&(xs=262144),At=e}else At=536870912;return e=Et.current,e!==null&&(e.flags|=32),At}function gt(e,t,n){(e===Ce&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),Dn(e,me,At,!1)),gi(e,n),((we&2)===0||e!==Ce)&&(e===Ce&&((we&2)===0&&(ua|=n),Le===4&&Dn(e,me,At,!1)),Zt(e))}function Xh(e,t,n){if((we&6)!==0)throw Error(r(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||yi(e,t),u=i?Lg(e,t):Ku(e,t,!0),o=i;do{if(u===0){Va&&!i&&Dn(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!qg(n)){u=Ku(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var v=e;u=Ji;var b=v.current.memoizedState.isDehydrated;if(b&&(Xa(v,d).flags|=256),d=Ku(v,d,!1),d!==2){if(Bu&&!b){v.errorRecoveryDisabledLanes|=o,ua|=o,u=4;break e}o=yt,yt=u,o!==null&&(yt===null?yt=o:yt.push.apply(yt,o))}u=d}if(o=!1,u!==2)continue}}if(u===1){Xa(e,0),Dn(e,t,0,!0);break}e:{switch(i=e,o=u,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Dn(i,t,At,!Nn);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=yl+300-pt(),10<u)){if(Dn(i,t,At,!Nn),Os(i,0,!0)!==0)break e;dn=t,i.timeoutHandle=Ed(Qh.bind(null,i,n,yt,vl,Hu,t,At,ua,Ya,Nn,o,"Throttled",-0,0),u);break e}Qh(i,n,yt,vl,Hu,t,At,ua,Ya,Nn,o,null,-0,0)}}break}while(!0);Zt(e)}function Qh(e,t,n,i,u,o,d,v,b,j,D,q,R,N){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt},Lh(t,o,q);var I=(o&62914560)===o?yl-pt():(o&4194048)===o?Vh-pt():0;if(I=wv(q,I),I!==null){dn=o,e.cancelPendingCommit=I(td.bind(null,e,t,o,n,i,u,d,v,b,D,q,null,R,N)),Dn(e,o,d,!j);return}}td(e,t,o,n,i,u,d,v,b)}function qg(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var u=n[i],o=u.getSnapshot;u=u.value;try{if(!wt(o(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dn(e,t,n,i){t&=~Lu,t&=~ua,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var o=31-_t(u),d=1<<o;i[o]=-1,u&=~d}n!==0&&nc(e,n,t)}function pl(){return(we&6)===0?(Ii(0),!1):!0}function Yu(){if(fe!==null){if(Ee===0)var e=fe.return;else e=fe,tn=Fn=null,lu(e),Ma=null,ki=0,e=fe;for(;e!==null;)Th(e.alternate,e),e=e.return;fe=null}}function Xa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,av(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),dn=0,Yu(),Ce=e,fe=n=Ft(e.current,null),me=t,Ee=0,xt=null,Nn=!1,Va=yi(e,t),Bu=!1,Ya=At=Lu=ua=Cn=Le=0,yt=Ji=null,Hu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-_t(i),o=1<<u;t|=e[u],i&=~o}return hn=t,Ls(),n}function Jh(e,t){re=null,k.H=Hi,t===za||t===Qs?(t=cf(),Ee=3):t===Jr?(t=cf(),Ee=4):Ee=t===Su?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,xt=t,fe===null&&(Le=1,rl(e,Ut(t,e.current)))}function Zh(){var e=Et.current;return e===null?!0:(me&4194048)===me?qt===null:(me&62914560)===me||(me&536870912)!==0?e===qt:!1}function Ih(){var e=k.H;return k.H=Hi,e===null?Hi:e}function Ph(){var e=k.A;return k.A=zg,e}function bl(){Le=4,Nn||(me&4194048)!==me&&Et.current!==null||(Va=!0),(Cn&134217727)===0&&(ua&134217727)===0||Ce===null||Dn(Ce,me,At,!1)}function Ku(e,t,n){var i=we;we|=2;var u=Ih(),o=Ph();(Ce!==e||me!==t)&&(vl=null,Xa(e,t)),t=!1;var d=Le;e:do try{if(Ee!==0&&fe!==null){var v=fe,b=xt;switch(Ee){case 8:Yu(),d=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var j=Ee;if(Ee=0,xt=null,Qa(e,v,b,j),n&&Va){d=0;break e}break;default:j=Ee,Ee=0,xt=null,Qa(e,v,b,j)}}Bg(),d=Le;break}catch(D){Jh(e,D)}while(!0);return t&&e.shellSuspendCounter++,tn=Fn=null,we=i,k.H=u,k.A=o,fe===null&&(Ce=null,me=0,Ls()),d}function Bg(){for(;fe!==null;)Wh(fe)}function Lg(e,t){var n=we;we|=2;var i=Ih(),u=Ph();Ce!==e||me!==t?(vl=null,gl=pt()+500,Xa(e,t)):Va=yi(e,t);e:do try{if(Ee!==0&&fe!==null){t=fe;var o=xt;t:switch(Ee){case 1:Ee=0,xt=null,Qa(e,t,o,1);break;case 2:case 9:if(uf(o)){Ee=0,xt=null,Fh(t);break}t=function(){Ee!==2&&Ee!==9||Ce!==e||(Ee=7),Zt(e)},o.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:uf(o)?(Ee=0,xt=null,Fh(t)):(Ee=0,xt=null,Qa(e,t,o,7));break;case 5:var d=null;switch(fe.tag){case 26:d=fe.memoizedState;case 5:case 27:var v=fe;if(d?Bd(d):v.stateNode.complete){Ee=0,xt=null;var b=v.sibling;if(b!==null)fe=b;else{var j=v.return;j!==null?(fe=j,_l(j)):fe=null}break t}}Ee=0,xt=null,Qa(e,t,o,5);break;case 6:Ee=0,xt=null,Qa(e,t,o,6);break;case 8:Yu(),Le=6;break e;default:throw Error(r(462))}}Hg();break}catch(D){Jh(e,D)}while(!0);return tn=Fn=null,k.H=i,k.A=u,we=n,fe!==null?0:(Ce=null,me=0,Ls(),Le)}function Hg(){for(;fe!==null&&!oy();)Wh(fe)}function Wh(e){var t=Sh(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?_l(e):fe=t}function Fh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=gh(n,t,t.pendingProps,t.type,void 0,me);break;case 11:t=gh(n,t,t.pendingProps,t.type.render,t.ref,me);break;case 5:lu(t);default:Th(n,t),t=fe=Ic(t,hn),t=Sh(n,t,hn)}e.memoizedProps=e.pendingProps,t===null?_l(e):fe=t}function Qa(e,t,n,i){tn=Fn=null,lu(t),Ma=null,ki=0;var u=t.return;try{if(jg(e,u,t,n,me)){Le=1,rl(e,Ut(n,e.current)),fe=null;return}}catch(o){if(u!==null)throw fe=u,o;Le=1,rl(e,Ut(n,e.current)),fe=null;return}t.flags&32768?(ge||i===1?e=!0:Va||(me&536870912)!==0?e=!1:(Nn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Et.current,i!==null&&i.tag===13&&(i.flags|=16384))),ed(t,e)):_l(t)}function _l(e){var t=e;do{if((t.flags&32768)!==0){ed(t,Nn);return}e=t.return;var n=Cg(t.alternate,t,hn);if(n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);Le===0&&(Le=5)}function ed(e,t){do{var n=kg(e.alternate,e);if(n!==null){n.flags&=32767,fe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){fe=e;return}fe=e=n}while(e!==null);Le=6,fe=null}function td(e,t,n,i,u,o,d,v,b){e.cancelPendingCommit=null;do wl();while(Ze!==0);if((we&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=Ur,by(e,n,o,d,v,b),e===Ce&&(fe=Ce=null,me=0),Ka=t,Un=e,dn=n,$u=o,Gu=u,Yh=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yg(Es,function(){return ld(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=k.T,k.T=null,u=K.p,K.p=2,d=we,we|=4;try{Ug(e,t,n)}finally{we=d,K.p=u,k.T=i}}Ze=1,nd(),ad(),id()}}function nd(){if(Ze===1){Ze=0;var e=Un,t=Ka,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=k.T,k.T=null;var i=K.p;K.p=2;var u=we;we|=4;try{Mh(t,e);var o=ao,d=$c(e.containerInfo),v=o.focusedElem,b=o.selectionRange;if(d!==v&&v&&v.ownerDocument&&Hc(v.ownerDocument.documentElement,v)){if(b!==null&&jr(v)){var j=b.start,D=b.end;if(D===void 0&&(D=j),"selectionStart"in v)v.selectionStart=j,v.selectionEnd=Math.min(D,v.value.length);else{var q=v.ownerDocument||document,R=q&&q.defaultView||window;if(R.getSelection){var N=R.getSelection(),I=v.textContent.length,te=Math.min(b.start,I),je=b.end===void 0?te:Math.min(b.end,I);!N.extend&&te>je&&(d=je,je=te,te=d);var T=Lc(v,te),w=Lc(v,je);if(T&&w&&(N.rangeCount!==1||N.anchorNode!==T.node||N.anchorOffset!==T.offset||N.focusNode!==w.node||N.focusOffset!==w.offset)){var O=q.createRange();O.setStart(T.node,T.offset),N.removeAllRanges(),te>je?(N.addRange(O),N.extend(w.node,w.offset)):(O.setEnd(w.node,w.offset),N.addRange(O))}}}}for(q=[],N=v;N=N.parentNode;)N.nodeType===1&&q.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<q.length;v++){var z=q[v];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Ul=!!no,ao=no=null}finally{we=u,K.p=i,k.T=n}}e.current=t,Ze=2}}function ad(){if(Ze===2){Ze=0;var e=Un,t=Ka,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=k.T,k.T=null;var i=K.p;K.p=2;var u=we;we|=4;try{Ch(e,t.alternate,t)}finally{we=u,K.p=i,k.T=n}}Ze=3}}function id(){if(Ze===4||Ze===3){Ze=0,cy();var e=Un,t=Ka,n=dn,i=Yh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ze=5:(Ze=0,Ka=Un=null,sd(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(kn=null),or(n),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(mi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=k.T,u=K.p,K.p=2,k.T=null;try{for(var o=e.onRecoverableError,d=0;d<i.length;d++){var v=i[d];o(v.value,{componentStack:v.stack})}}finally{k.T=t,K.p=u}}(dn&3)!==0&&wl(),Zt(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Vu?Zi++:(Zi=0,Vu=e):Zi=0,Ii(0)}}function sd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ni(t)))}function wl(){return nd(),ad(),id(),ld()}function ld(){if(Ze!==5)return!1;var e=Un,t=$u;$u=0;var n=or(dn),i=k.T,u=K.p;try{K.p=32>n?32:n,k.T=null,n=Gu,Gu=null;var o=Un,d=dn;if(Ze=0,Ka=Un=null,dn=0,(we&6)!==0)throw Error(r(331));var v=we;if(we|=4,$h(o.current),Bh(o,o.current,d,n),we=v,Ii(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(mi,o)}catch{}return!0}finally{K.p=u,k.T=i,sd(e,t)}}function rd(e,t,n){t=Ut(n,t),t=wu(e.stateNode,t,2),e=An(e,t,2),e!==null&&(gi(e,2),Zt(e))}function Te(e,t,n){if(e.tag===3)rd(e,e,n);else for(;t!==null;){if(t.tag===3){rd(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(kn===null||!kn.has(i))){e=Ut(n,e),n=uh(2),i=An(t,n,2),i!==null&&(oh(n,i,t,e),gi(i,2),Zt(i));break}}t=t.return}}function Xu(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Mg;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(n)||(Bu=!0,u.add(n),e=$g.bind(null,e,t,n),t.then(e,e))}function $g(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ce===e&&(me&n)===n&&(Le===4||Le===3&&(me&62914560)===me&&300>pt()-yl?(we&2)===0&&Xa(e,0):Lu|=n,Ya===me&&(Ya=0)),Zt(e)}function ud(e,t){t===0&&(t=tc()),e=In(e,t),e!==null&&(gi(e,t),Zt(e))}function Gg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ud(e,n)}function Vg(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),ud(e,n)}function Yg(e,t){return sr(e,t)}var Sl=null,Ja=null,Qu=!1,El=!1,Ju=!1,zn=0;function Zt(e){e!==Ja&&e.next===null&&(Ja===null?Sl=Ja=e:Ja=Ja.next=e),El=!0,Qu||(Qu=!0,Xg())}function Ii(e,t){if(!Ju&&El){Ju=!0;do for(var n=!1,i=Sl;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var o=0;else{var d=i.suspendedLanes,v=i.pingedLanes;o=(1<<31-_t(42|e)+1)-1,o&=u&~(d&~v),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,hd(i,o))}else o=me,o=Os(i,i===Ce?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(o&3)===0||yi(i,o)||(n=!0,hd(i,o));i=i.next}while(n);Ju=!1}}function Kg(){od()}function od(){El=Qu=!1;var e=0;zn!==0&&nv()&&(e=zn);for(var t=pt(),n=null,i=Sl;i!==null;){var u=i.next,o=cd(i,t);o===0?(i.next=null,n===null?Sl=u:n.next=u,u===null&&(Ja=n)):(n=i,(e!==0||(o&3)!==0)&&(El=!0)),i=u}Ze!==0&&Ze!==5||Ii(e),zn!==0&&(zn=0)}function cd(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var d=31-_t(o),v=1<<d,b=u[d];b===-1?((v&n)===0||(v&i)!==0)&&(u[d]=py(v,t)):b<=t&&(e.expiredLanes|=v),o&=~v}if(t=Ce,n=me,n=Os(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&lr(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||yi(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&lr(i),or(n)){case 2:case 8:n=Fo;break;case 32:n=Es;break;case 268435456:n=ec;break;default:n=Es}return i=fd.bind(null,e),n=sr(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&lr(i),e.callbackPriority=2,e.callbackNode=null,2}function fd(e,t){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wl()&&e.callbackNode!==n)return null;var i=me;return i=Os(e,e===Ce?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Xh(e,i,t),cd(e,pt()),e.callbackNode!=null&&e.callbackNode===n?fd.bind(null,e):null)}function hd(e,t){if(wl())return null;Xh(e,t,!0)}function Xg(){iv(function(){(we&6)!==0?sr(Wo,Kg):od()})}function Zu(){if(zn===0){var e=Ua;e===0&&(e=Ts,Ts<<=1,(Ts&261888)===0&&(Ts=256)),zn=e}return zn}function dd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cs(""+e)}function md(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Qg(e,t,n,i,u){if(t==="submit"&&n&&n.stateNode===u){var o=dd((u[ct]||null).action),d=i.submitter;d&&(t=(t=d[ct]||null)?dd(t.formAction):d.getAttribute("formAction"),t!==null&&(o=t,d=null));var v=new zs("action","action",null,i,u);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(zn!==0){var b=d?md(u,d):new FormData(u);yu(n,{pending:!0,data:b,method:u.method,action:o},null,b)}}else typeof o=="function"&&(v.preventDefault(),b=d?md(u,d):new FormData(u),yu(n,{pending:!0,data:b,method:u.method,action:o},o,b))},currentTarget:u}]})}}for(var Iu=0;Iu<kr.length;Iu++){var Pu=kr[Iu],Jg=Pu.toLowerCase(),Zg=Pu[0].toUpperCase()+Pu.slice(1);Ht(Jg,"on"+Zg)}Ht(Yc,"onAnimationEnd"),Ht(Kc,"onAnimationIteration"),Ht(Xc,"onAnimationStart"),Ht("dblclick","onDoubleClick"),Ht("focusin","onFocus"),Ht("focusout","onBlur"),Ht(fg,"onTransitionRun"),Ht(hg,"onTransitionStart"),Ht(dg,"onTransitionCancel"),Ht(Qc,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ig=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pi));function yd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],u=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var d=i.length-1;0<=d;d--){var v=i[d],b=v.instance,j=v.currentTarget;if(v=v.listener,b!==o&&u.isPropagationStopped())break e;o=v,u.currentTarget=j;try{o(u)}catch(D){Bs(D)}u.currentTarget=null,o=b}else for(d=0;d<i.length;d++){if(v=i[d],b=v.instance,j=v.currentTarget,v=v.listener,b!==o&&u.isPropagationStopped())break e;o=v,u.currentTarget=j;try{o(u)}catch(D){Bs(D)}u.currentTarget=null,o=b}}}}function he(e,t){var n=t[cr];n===void 0&&(n=t[cr]=new Set);var i=e+"__bubble";n.has(i)||(gd(t,e,2,!1),n.add(i))}function Wu(e,t,n){var i=0;t&&(i|=4),gd(n,e,i,t)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function Fu(e){if(!e[Tl]){e[Tl]=!0,uc.forEach(function(n){n!=="selectionchange"&&(Ig.has(n)||Wu(n,!1,e),Wu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tl]||(t[Tl]=!0,Wu("selectionchange",!1,t))}}function gd(e,t,n,i){switch(Kd(t)){case 2:var u=Tv;break;case 8:u=xv;break;default:u=yo}n=u.bind(null,t,n,e),u=void 0,!br||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function eo(e,t,n,i,u){var o=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var v=i.stateNode.containerInfo;if(v===u)break;if(d===4)for(d=i.return;d!==null;){var b=d.tag;if((b===3||b===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;v!==null;){if(d=ga(v),d===null)return;if(b=d.tag,b===5||b===6||b===26||b===27){i=o=d;continue e}v=v.parentNode}}i=i.return}_c(function(){var j=o,D=vr(n),q=[];e:{var R=Jc.get(e);if(R!==void 0){var N=zs,I=e;switch(e){case"keypress":if(Us(n)===0)break e;case"keydown":case"keyup":N=Vy;break;case"focusin":I="focus",N=Er;break;case"focusout":I="blur",N=Er;break;case"beforeblur":case"afterblur":N=Er;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Cy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Xy;break;case Yc:case Kc:case Xc:N=Dy;break;case Qc:N=Jy;break;case"scroll":case"scrollend":N=Ry;break;case"wheel":N=Iy;break;case"copy":case"cut":case"paste":N=My;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=xc;break;case"toggle":case"beforetoggle":N=Wy}var te=(t&4)!==0,je=!te&&(e==="scroll"||e==="scrollend"),T=te?R!==null?R+"Capture":null:R;te=[];for(var w=j,O;w!==null;){var z=w;if(O=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||O===null||T===null||(z=bi(w,T),z!=null&&te.push(Wi(w,z,O))),je)break;w=w.return}0<te.length&&(R=new N(R,I,null,n,D),q.push({event:R,listeners:te}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",R&&n!==gr&&(I=n.relatedTarget||n.fromElement)&&(ga(I)||I[ya]))break e;if((N||R)&&(R=D.window===D?D:(R=D.ownerDocument)?R.defaultView||R.parentWindow:window,N?(I=n.relatedTarget||n.toElement,N=j,I=I?ga(I):null,I!==null&&(je=f(I),te=I.tag,I!==je||te!==5&&te!==27&&te!==6)&&(I=null)):(N=null,I=j),N!==I)){if(te=Ec,z="onMouseLeave",T="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(te=xc,z="onPointerLeave",T="onPointerEnter",w="pointer"),je=N==null?R:pi(N),O=I==null?R:pi(I),R=new te(z,w+"leave",N,n,D),R.target=je,R.relatedTarget=O,z=null,ga(D)===j&&(te=new te(T,w+"enter",I,n,D),te.target=O,te.relatedTarget=je,z=te),je=z,N&&I)t:{for(te=Pg,T=N,w=I,O=0,z=T;z;z=te(z))O++;z=0;for(var ee=w;ee;ee=te(ee))z++;for(;0<O-z;)T=te(T),O--;for(;0<z-O;)w=te(w),z--;for(;O--;){if(T===w||w!==null&&T===w.alternate){te=T;break t}T=te(T),w=te(w)}te=null}else te=null;N!==null&&vd(q,R,N,te,!1),I!==null&&je!==null&&vd(q,je,I,te,!0)}}e:{if(R=j?pi(j):window,N=R.nodeName&&R.nodeName.toLowerCase(),N==="select"||N==="input"&&R.type==="file")var pe=Uc;else if(Cc(R))if(Dc)pe=ug;else{pe=lg;var W=sg}else N=R.nodeName,!N||N.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?j&&yr(j.elementType)&&(pe=Uc):pe=rg;if(pe&&(pe=pe(e,j))){kc(q,pe,n,D);break e}W&&W(e,R,j),e==="focusout"&&j&&R.type==="number"&&j.memoizedProps.value!=null&&mr(R,"number",R.value)}switch(W=j?pi(j):window,e){case"focusin":(Cc(W)||W.contentEditable==="true")&&(xa=W,Rr=j,Oi=null);break;case"focusout":Oi=Rr=xa=null;break;case"mousedown":Nr=!0;break;case"contextmenu":case"mouseup":case"dragend":Nr=!1,Gc(q,n,D);break;case"selectionchange":if(cg)break;case"keydown":case"keyup":Gc(q,n,D)}var ue;if(xr)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Ta?Rc(e,n)&&(ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ye="onCompositionStart");ye&&(Ac&&n.locale!=="ko"&&(Ta||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Ta&&(ue=wc()):(bn=D,_r="value"in bn?bn.value:bn.textContent,Ta=!0)),W=xl(j,ye),0<W.length&&(ye=new Tc(ye,e,null,n,D),q.push({event:ye,listeners:W}),ue?ye.data=ue:(ue=Nc(n),ue!==null&&(ye.data=ue)))),(ue=eg?tg(e,n):ng(e,n))&&(ye=xl(j,"onBeforeInput"),0<ye.length&&(W=new Tc("onBeforeInput","beforeinput",null,n,D),q.push({event:W,listeners:ye}),W.data=ue)),Qg(q,e,j,n,D)}yd(q,t)})}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xl(e,t){for(var n=t+"Capture",i=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=bi(e,n),u!=null&&i.unshift(Wi(e,u,o)),u=bi(e,t),u!=null&&i.push(Wi(e,u,o))),e.tag===3)return i;e=e.return}return[]}function Pg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vd(e,t,n,i,u){for(var o=t._reactName,d=[];n!==null&&n!==i;){var v=n,b=v.alternate,j=v.stateNode;if(v=v.tag,b!==null&&b===i)break;v!==5&&v!==26&&v!==27||j===null||(b=j,u?(j=bi(n,o),j!=null&&d.unshift(Wi(n,j,b))):u||(j=bi(n,o),j!=null&&d.push(Wi(n,j,b)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var Wg=/\r\n?/g,Fg=/\u0000|\uFFFD/g;function pd(e){return(typeof e=="string"?e:""+e).replace(Wg,`
`).replace(Fg,"")}function bd(e,t){return t=pd(t),pd(e)===t}function Oe(e,t,n,i,u,o){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||wa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&wa(e,""+i);break;case"className":Rs(e,"class",i);break;case"tabIndex":Rs(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Rs(e,n,i);break;case"style":pc(e,i,o);break;case"data":if(t!=="object"){Rs(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Cs(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&Oe(e,t,"name",u.name,u,null),Oe(e,t,"formEncType",u.formEncType,u,null),Oe(e,t,"formMethod",u.formMethod,u,null),Oe(e,t,"formTarget",u.formTarget,u,null)):(Oe(e,t,"encType",u.encType,u,null),Oe(e,t,"method",u.method,u,null),Oe(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Cs(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Pt);break;case"onScroll":i!=null&&he("scroll",e);break;case"onScrollEnd":i!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Cs(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":he("beforetoggle",e),he("toggle",e),js(e,"popover",i);break;case"xlinkActuate":It(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":It(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":It(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":It(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":It(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":It(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":It(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":It(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":It(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":js(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Oy.get(n)||n,js(e,n,i))}}function to(e,t,n,i,u,o){switch(n){case"style":pc(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof i=="string"?wa(e,i):(typeof i=="number"||typeof i=="bigint")&&wa(e,""+i);break;case"onScroll":i!=null&&he("scroll",e);break;case"onScrollEnd":i!=null&&he("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),o=e[ct]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof i=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,u);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):js(e,n,i)}}}function it(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var i=!1,u=!1,o;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(d!=null)switch(o){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Oe(e,t,o,d,n,null)}}u&&Oe(e,t,"srcSet",n.srcSet,n,null),i&&Oe(e,t,"src",n.src,n,null);return;case"input":he("invalid",e);var v=o=d=u=null,b=null,j=null;for(i in n)if(n.hasOwnProperty(i)){var D=n[i];if(D!=null)switch(i){case"name":u=D;break;case"type":d=D;break;case"checked":b=D;break;case"defaultChecked":j=D;break;case"value":o=D;break;case"defaultValue":v=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:Oe(e,t,i,D,n,null)}}mc(e,o,v,b,j,d,u,!1);return;case"select":he("invalid",e),i=d=o=null;for(u in n)if(n.hasOwnProperty(u)&&(v=n[u],v!=null))switch(u){case"value":o=v;break;case"defaultValue":d=v;break;case"multiple":i=v;default:Oe(e,t,u,v,n,null)}t=o,n=d,e.multiple=!!i,t!=null?_a(e,!!i,t,!1):n!=null&&_a(e,!!i,n,!0);return;case"textarea":he("invalid",e),o=u=i=null;for(d in n)if(n.hasOwnProperty(d)&&(v=n[d],v!=null))switch(d){case"value":i=v;break;case"defaultValue":u=v;break;case"children":o=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Oe(e,t,d,v,n,null)}gc(e,i,u,o);return;case"option":for(b in n)n.hasOwnProperty(b)&&(i=n[b],i!=null)&&(b==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":Oe(e,t,b,i,n,null));return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(i=0;i<Pi.length;i++)he(Pi[i],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in n)if(n.hasOwnProperty(j)&&(i=n[j],i!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Oe(e,t,j,i,n,null)}return;default:if(yr(t)){for(D in n)n.hasOwnProperty(D)&&(i=n[D],i!==void 0&&to(e,t,D,i,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(i=n[v],i!=null&&Oe(e,t,v,i,n,null))}function ev(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,d=null,v=null,b=null,j=null,D=null;for(N in n){var q=n[N];if(n.hasOwnProperty(N)&&q!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":b=q;default:i.hasOwnProperty(N)||Oe(e,t,N,null,i,q)}}for(var R in i){var N=i[R];if(q=n[R],i.hasOwnProperty(R)&&(N!=null||q!=null))switch(R){case"type":o=N;break;case"name":u=N;break;case"checked":j=N;break;case"defaultChecked":D=N;break;case"value":d=N;break;case"defaultValue":v=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:N!==q&&Oe(e,t,R,N,i,q)}}dr(e,d,v,b,j,D,o,u);return;case"select":N=d=v=R=null;for(o in n)if(b=n[o],n.hasOwnProperty(o)&&b!=null)switch(o){case"value":break;case"multiple":N=b;default:i.hasOwnProperty(o)||Oe(e,t,o,null,i,b)}for(u in i)if(o=i[u],b=n[u],i.hasOwnProperty(u)&&(o!=null||b!=null))switch(u){case"value":R=o;break;case"defaultValue":v=o;break;case"multiple":d=o;default:o!==b&&Oe(e,t,u,o,i,b)}t=v,n=d,i=N,R!=null?_a(e,!!n,R,!1):!!i!=!!n&&(t!=null?_a(e,!!n,t,!0):_a(e,!!n,n?[]:"",!1));return;case"textarea":N=R=null;for(v in n)if(u=n[v],n.hasOwnProperty(v)&&u!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Oe(e,t,v,null,i,u)}for(d in i)if(u=i[d],o=n[d],i.hasOwnProperty(d)&&(u!=null||o!=null))switch(d){case"value":R=u;break;case"defaultValue":N=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==o&&Oe(e,t,d,u,i,o)}yc(e,R,N);return;case"option":for(var I in n)R=n[I],n.hasOwnProperty(I)&&R!=null&&!i.hasOwnProperty(I)&&(I==="selected"?e.selected=!1:Oe(e,t,I,null,i,R));for(b in i)R=i[b],N=n[b],i.hasOwnProperty(b)&&R!==N&&(R!=null||N!=null)&&(b==="selected"?e.selected=R&&typeof R!="function"&&typeof R!="symbol":Oe(e,t,b,R,i,N));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var te in n)R=n[te],n.hasOwnProperty(te)&&R!=null&&!i.hasOwnProperty(te)&&Oe(e,t,te,null,i,R);for(j in i)if(R=i[j],N=n[j],i.hasOwnProperty(j)&&R!==N&&(R!=null||N!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:Oe(e,t,j,R,i,N)}return;default:if(yr(t)){for(var je in n)R=n[je],n.hasOwnProperty(je)&&R!==void 0&&!i.hasOwnProperty(je)&&to(e,t,je,void 0,i,R);for(D in i)R=i[D],N=n[D],!i.hasOwnProperty(D)||R===N||R===void 0&&N===void 0||to(e,t,D,R,i,N);return}}for(var T in n)R=n[T],n.hasOwnProperty(T)&&R!=null&&!i.hasOwnProperty(T)&&Oe(e,t,T,null,i,R);for(q in i)R=i[q],N=n[q],!i.hasOwnProperty(q)||R===N||R==null&&N==null||Oe(e,t,q,R,i,N)}function _d(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var u=n[i],o=u.transferSize,d=u.initiatorType,v=u.duration;if(o&&v&&_d(d)){for(d=0,v=u.responseEnd,i+=1;i<n.length;i++){var b=n[i],j=b.startTime;if(j>v)break;var D=b.transferSize,q=b.initiatorType;D&&_d(q)&&(b=b.responseEnd,d+=D*(b<v?1:(v-j)/(b-j)))}if(--i,t+=8*(o+d)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var no=null,ao=null;function Al(e){return e.nodeType===9?e:e.ownerDocument}function wd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function io(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var so=null;function nv(){var e=window.event;return e&&e.type==="popstate"?e===so?!1:(so=e,!0):(so=null,!1)}var Ed=typeof setTimeout=="function"?setTimeout:void 0,av=typeof clearTimeout=="function"?clearTimeout:void 0,Td=typeof Promise=="function"?Promise:void 0,iv=typeof queueMicrotask=="function"?queueMicrotask:typeof Td<"u"?function(e){return Td.resolve(null).then(e).catch(sv)}:Ed;function sv(e){setTimeout(function(){throw e})}function Mn(e){return e==="head"}function xd(e,t){var n=t,i=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(u),Wa(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Fi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Fi(n);for(var o=n.firstChild;o;){var d=o.nextSibling,v=o.nodeName;o[vi]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=d}}else n==="body"&&Fi(e.ownerDocument.body);n=u}while(n);Wa(t)}function Ad(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function lo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":lo(n),fr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function lv(e,t,n,i){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[vi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Bt(e.nextSibling),e===null)break}return null}function rv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bt(e.nextSibling),e===null))return null;return e}function Od(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Bt(e.nextSibling),e===null))return null;return e}function ro(e){return e.data==="$?"||e.data==="$~"}function uo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function uv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var oo=null;function jd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Bt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Rd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Nd(e,t,n){switch(t=Al(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Fi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fr(e)}var Lt=new Map,Cd=new Set;function Ol(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mn=K.d;K.d={f:ov,r:cv,D:fv,C:hv,L:dv,m:mv,X:gv,S:yv,M:vv};function ov(){var e=mn.f(),t=pl();return e||t}function cv(e){var t=va(e);t!==null&&t.tag===5&&t.type==="form"?Jf(t):mn.r(e)}var Za=typeof document>"u"?null:document;function kd(e,t,n){var i=Za;if(i&&typeof t=="string"&&t){var u=Ct(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),Cd.has(u)||(Cd.add(u),e={rel:e,crossOrigin:n,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),it(t,"link",e),We(t),i.head.appendChild(t)))}}function fv(e){mn.D(e),kd("dns-prefetch",e,null)}function hv(e,t){mn.C(e,t),kd("preconnect",e,t)}function dv(e,t,n){mn.L(e,t,n);var i=Za;if(i&&e&&t){var u='link[rel="preload"][as="'+Ct(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Ct(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Ct(n.imageSizes)+'"]')):u+='[href="'+Ct(e)+'"]';var o=u;switch(t){case"style":o=Ia(e);break;case"script":o=Pa(e)}Lt.has(o)||(e=S({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Lt.set(o,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(es(o))||t==="script"&&i.querySelector(ts(o))||(t=i.createElement("link"),it(t,"link",e),We(t),i.head.appendChild(t)))}}function mv(e,t){mn.m(e,t);var n=Za;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Ct(i)+'"][href="'+Ct(e)+'"]',o=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Pa(e)}if(!Lt.has(o)&&(e=S({rel:"modulepreload",href:e},t),Lt.set(o,e),n.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ts(o)))return}i=n.createElement("link"),it(i,"link",e),We(i),n.head.appendChild(i)}}}function yv(e,t,n){mn.S(e,t,n);var i=Za;if(i&&e){var u=pa(i).hoistableStyles,o=Ia(e);t=t||"default";var d=u.get(o);if(!d){var v={loading:0,preload:null};if(d=i.querySelector(es(o)))v.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Lt.get(o))&&co(e,n);var b=d=i.createElement("link");We(b),it(b,"link",e),b._p=new Promise(function(j,D){b.onload=j,b.onerror=D}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,jl(d,t,i)}d={type:"stylesheet",instance:d,count:1,state:v},u.set(o,d)}}}function gv(e,t){mn.X(e,t);var n=Za;if(n&&e){var i=pa(n).hoistableScripts,u=Pa(e),o=i.get(u);o||(o=n.querySelector(ts(u)),o||(e=S({src:e,async:!0},t),(t=Lt.get(u))&&fo(e,t),o=n.createElement("script"),We(o),it(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function vv(e,t){mn.M(e,t);var n=Za;if(n&&e){var i=pa(n).hoistableScripts,u=Pa(e),o=i.get(u);o||(o=n.querySelector(ts(u)),o||(e=S({src:e,async:!0,type:"module"},t),(t=Lt.get(u))&&fo(e,t),o=n.createElement("script"),We(o),it(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function Ud(e,t,n,i){var u=(u=ce.current)?Ol(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ia(n.href),n=pa(u).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ia(n.href);var o=pa(u).hoistableStyles,d=o.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,d),(o=u.querySelector(es(e)))&&!o._p&&(d.instance=o,d.state.loading=5),Lt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Lt.set(e,n),o||pv(u,e,n,d.state))),t&&i===null)throw Error(r(528,""));return d}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Pa(n),n=pa(u).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ia(e){return'href="'+Ct(e)+'"'}function es(e){return'link[rel="stylesheet"]['+e+"]"}function Dd(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function pv(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),it(t,"link",n),We(t),e.head.appendChild(t))}function Pa(e){return'[src="'+Ct(e)+'"]'}function ts(e){return"script[async]"+e}function zd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ct(n.href)+'"]');if(i)return t.instance=i,We(i),i;var u=S({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),We(i),it(i,"style",u),jl(i,n.precedence,e),t.instance=i;case"stylesheet":u=Ia(n.href);var o=e.querySelector(es(u));if(o)return t.state.loading|=4,t.instance=o,We(o),o;i=Dd(n),(u=Lt.get(u))&&co(i,u),o=(e.ownerDocument||e).createElement("link"),We(o);var d=o;return d._p=new Promise(function(v,b){d.onload=v,d.onerror=b}),it(o,"link",i),t.state.loading|=4,jl(o,n.precedence,e),t.instance=o;case"script":return o=Pa(n.src),(u=e.querySelector(ts(o)))?(t.instance=u,We(u),u):(i=n,(u=Lt.get(o))&&(i=S({},n),fo(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),We(u),it(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,jl(i,n.precedence,e));return t.instance}function jl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,o=u,d=0;d<i.length;d++){var v=i[d];if(v.dataset.precedence===t)o=v;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function co(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Rl=null;function Md(e,t,n){if(Rl===null){var i=new Map,u=Rl=new Map;u.set(n,i)}else u=Rl,i=u.get(n),i||(i=new Map,u.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var o=n[u];if(!(o[vi]||o[et]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var d=o.getAttribute(t)||"";d=e+d;var v=i.get(d);v?v.push(o):i.set(d,[o])}}return i}function qd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function bv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Bd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _v(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Ia(i.href),o=t.querySelector(es(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Nl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,We(o);return}o=t.ownerDocument||t,i=Dd(i),(u=Lt.get(u))&&co(i,u),o=o.createElement("link"),We(o);var d=o;d._p=new Promise(function(v,b){d.onload=v,d.onerror=b}),it(o,"link",i),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Nl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ho=0;function wv(e,t){return e.stylesheets&&e.count===0&&kl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&kl(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&ho===0&&(ho=62500*tv());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&kl(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>ho?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function Nl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cl=null;function kl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cl=new Map,t.forEach(Sv,e),Cl=null,Nl.call(e))}function Sv(e,t){if(!(t.state.loading&4)){var n=Cl.get(e);if(n)var i=n.get(null);else{n=new Map,Cl.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var d=u[o];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),i=d)}i&&n.set(null,i)}u=t.instance,d=u.getAttribute("data-precedence"),o=n.get(d)||i,o===i&&n.set(null,u),n.set(d,u),this.count++,i=Nl.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var ns={$$typeof:M,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Ev(e,t,n,i,u,o,d,v,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rr(0),this.hiddenUpdates=rr(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Ld(e,t,n,i,u,o,d,v,b,j,D,q){return e=new Ev(e,t,n,d,b,j,D,q,v),t=1,o===!0&&(t|=24),o=St(3,null,null,t),e.current=o,o.stateNode=e,t=Kr(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},Zr(o),e}function Hd(e){return e?(e=ja,e):ja}function $d(e,t,n,i,u,o){u=Hd(u),i.context===null?i.context=u:i.pendingContext=u,i=xn(t),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=An(e,i,t),n!==null&&(gt(n,e,t),Di(n,e,t))}function Gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mo(e,t){Gd(e,t),(e=e.alternate)&&Gd(e,t)}function Vd(e){if(e.tag===13||e.tag===31){var t=In(e,67108864);t!==null&&gt(t,e,67108864),mo(e,67108864)}}function Yd(e){if(e.tag===13||e.tag===31){var t=Ot();t=ur(t);var n=In(e,t);n!==null&&gt(n,e,t),mo(e,t)}}var Ul=!0;function Tv(e,t,n,i){var u=k.T;k.T=null;var o=K.p;try{K.p=2,yo(e,t,n,i)}finally{K.p=o,k.T=u}}function xv(e,t,n,i){var u=k.T;k.T=null;var o=K.p;try{K.p=8,yo(e,t,n,i)}finally{K.p=o,k.T=u}}function yo(e,t,n,i){if(Ul){var u=go(i);if(u===null)eo(e,t,i,Dl,n),Xd(e,i);else if(Ov(u,e,t,n,i))i.stopPropagation();else if(Xd(e,i),t&4&&-1<Av.indexOf(e)){for(;u!==null;){var o=va(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var d=Kn(o.pendingLanes);if(d!==0){var v=o;for(v.pendingLanes|=2,v.entangledLanes|=2;d;){var b=1<<31-_t(d);v.entanglements[1]|=b,d&=~b}Zt(o),(we&6)===0&&(gl=pt()+500,Ii(0))}}break;case 31:case 13:v=In(o,2),v!==null&&gt(v,o,2),pl(),mo(o,2)}if(o=go(i),o===null&&eo(e,t,i,Dl,n),o===u)break;u=o}u!==null&&i.stopPropagation()}else eo(e,t,i,null,n)}}function go(e){return e=vr(e),vo(e)}var Dl=null;function vo(e){if(Dl=null,e=ga(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Dl=e,null}function Kd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fy()){case Wo:return 2;case Fo:return 8;case Es:case hy:return 32;case ec:return 268435456;default:return 32}default:return 32}}var po=!1,qn=null,Bn=null,Ln=null,as=new Map,is=new Map,Hn=[],Av="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xd(e,t){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":as.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":is.delete(t.pointerId)}}function ss(e,t,n,i,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[u]},t!==null&&(t=va(t),t!==null&&Vd(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Ov(e,t,n,i,u){switch(t){case"focusin":return qn=ss(qn,e,t,n,i,u),!0;case"dragenter":return Bn=ss(Bn,e,t,n,i,u),!0;case"mouseover":return Ln=ss(Ln,e,t,n,i,u),!0;case"pointerover":var o=u.pointerId;return as.set(o,ss(as.get(o)||null,e,t,n,i,u)),!0;case"gotpointercapture":return o=u.pointerId,is.set(o,ss(is.get(o)||null,e,t,n,i,u)),!0}return!1}function Qd(e){var t=ga(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,lc(e.priority,function(){Yd(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,lc(e.priority,function(){Yd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=go(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);gr=i,n.target.dispatchEvent(i),gr=null}else return t=va(n),t!==null&&Vd(t),e.blockedOn=n,!1;t.shift()}return!0}function Jd(e,t,n){zl(e)&&n.delete(t)}function jv(){po=!1,qn!==null&&zl(qn)&&(qn=null),Bn!==null&&zl(Bn)&&(Bn=null),Ln!==null&&zl(Ln)&&(Ln=null),as.forEach(Jd),is.forEach(Jd)}function Ml(e,t){e.blockedOn===t&&(e.blockedOn=null,po||(po=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,jv)))}var ql=null;function Zd(e){ql!==e&&(ql=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ql===e&&(ql=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(vo(i||n)===null)continue;break}var o=va(n);o!==null&&(e.splice(t,3),t-=3,yu(o,{pending:!0,data:u,method:n.method,action:i},i,u))}}))}function Wa(e){function t(b){return Ml(b,e)}qn!==null&&Ml(qn,e),Bn!==null&&Ml(Bn,e),Ln!==null&&Ml(Ln,e),as.forEach(t),is.forEach(t);for(var n=0;n<Hn.length;n++){var i=Hn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)Qd(n),n.blockedOn===null&&Hn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var u=n[i],o=n[i+1],d=u[ct]||null;if(typeof o=="function")d||Zd(n);else if(d){var v=null;if(o&&o.hasAttribute("formAction")){if(u=o,d=o[ct]||null)v=d.formAction;else if(vo(u)!==null)continue}else v=d.action;typeof v=="function"?n[i+1]=v:(n.splice(i,3),i-=3),Zd(n)}}}function Id(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function bo(e){this._internalRoot=e}Bl.prototype.render=bo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,i=Ot();$d(n,i,e,t,null,null)},Bl.prototype.unmount=bo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$d(e.current,2,null,e,null,null),pl(),t[ya]=null}};function Bl(e){this._internalRoot=e}Bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=sc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hn.length&&t!==0&&t<Hn[n].priority;n++);Hn.splice(n,0,e),n===0&&Qd(e)}};var Pd=a.version;if(Pd!=="19.2.4")throw Error(r(527,Pd,"19.2.4"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var Rv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ll.isDisabled&&Ll.supportsFiber)try{mi=Ll.inject(Rv),bt=Ll}catch{}}return rs.createRoot=function(e,t){if(!c(e))throw Error(r(299));var n=!1,i="",u=ih,o=sh,d=lh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Ld(e,1,!1,null,null,n,i,null,u,o,d,Id),e[ya]=t.current,Fu(e),new bo(t)},rs.hydrateRoot=function(e,t,n){if(!c(e))throw Error(r(299));var i=!1,u="",o=ih,d=sh,v=lh,b=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(b=n.formState)),t=Ld(e,1,!0,t,n??null,i,u,b,o,d,v,Id),t.context=Hd(null),n=t.current,i=Ot(),i=ur(i),u=xn(i),u.callback=null,An(n,u,i),n=i,t.current.lanes=n,gi(t,n),Zt(t),e[ya]=t.current,Fu(e),new Bl(t)},rs.version="19.2.4",rs}var rm;function Lv(){if(rm)return So.exports;rm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),So.exports=Bv(),So.exports}var Hv=Lv();function Il(s,a){var l={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&a.indexOf(r)<0&&(l[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(s);c<r.length;c++)a.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(s,r[c])&&(l[r[c]]=s[r[c]]);return l}function $v(s,a,l,r){function c(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function m(_){try{g(r.next(_))}catch(S){h(S)}}function y(_){try{g(r.throw(_))}catch(S){h(S)}}function g(_){_.done?f(_.value):c(_.value).then(m,y)}g((r=r.apply(s,a||[])).next())})}const Gv=s=>s?(...a)=>s(...a):(...a)=>fetch(...a);class Xo extends Error{constructor(a,l="FunctionsError",r){super(a),this.name=l,this.context=r}}class Vv extends Xo{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class um extends Xo{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class om extends Xo{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Do;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Do||(Do={}));class Yv{constructor(a,{headers:l={},customFetch:r,region:c=Do.Any}={}){this.url=a,this.headers=l,this.region=c,this.fetch=Gv(r)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return $v(this,arguments,void 0,function*(l,r={}){var c;let f,h;try{const{headers:m,method:y,body:g,signal:_,timeout:S}=r;let x={},{region:A}=r;A||(A=this.region);const C=new URL(`${this.url}/${l}`);A&&A!=="any"&&(x["x-region"]=A,C.searchParams.set("forceFunctionRegion",A));let U;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",U=g):typeof g=="string"?(x["Content-Type"]="text/plain",U=g):typeof FormData<"u"&&g instanceof FormData?U=g:(x["Content-Type"]="application/json",U=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?U=JSON.stringify(g):U=g;let L=_;S&&(h=new AbortController,f=setTimeout(()=>h.abort(),S),_?(L=h.signal,_.addEventListener("abort",()=>h.abort())):L=h.signal);const $=yield this.fetch(C.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),m),body:U,signal:L}).catch(J=>{throw new Vv(J)}),V=$.headers.get("x-relay-error");if(V&&V==="true")throw new um($);if(!$.ok)throw new om($);let M=((c=$.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),H;return M==="application/json"?H=yield $.json():M==="application/octet-stream"||M==="application/pdf"?H=yield $.blob():M==="text/event-stream"?H=$:M==="multipart/form-data"?H=yield $.formData():H=yield $.text(),{data:H,error:null,response:$}}catch(m){return{data:null,error:m,response:m instanceof om||m instanceof um?m.context:void 0}}finally{f&&clearTimeout(f)}})}}var Kv=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Xv=class{constructor(s){var a,l,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,this.urlLengthLimit=(r=s.urlLengthLimit)!==null&&r!==void 0?r:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{let h=null,m=null,y=null,g=f.status,_=f.statusText;if(f.ok){var S,x;if(l.method!=="HEAD"){var A;const $=await f.text();$===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((A=l.headers.get("Accept"))===null||A===void 0)&&A.includes("application/vnd.pgrst.plan+text"))?m=$:m=JSON.parse($))}const U=(S=l.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),L=(x=f.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");U&&L&&L.length>1&&(y=parseInt(L[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,g=406,_="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var C;const U=await f.text();try{h=JSON.parse(U),Array.isArray(h)&&f.status===404&&(m=[],h=null,g=200,_="OK")}catch{f.status===404&&U===""?(g=204,_="No Content"):h={message:U}}if(h&&l.isMaybeSingle&&(!(h==null||(C=h.details)===null||C===void 0)&&C.includes("0 rows"))&&(h=null,g=200,_="OK"),h&&l.shouldThrowOnError)throw new Kv(h)}return{error:h,data:m,count:y,status:g,statusText:_}});return this.shouldThrowOnError||(c=c.catch(f=>{var h;let m="",y="",g="";const _=f?.cause;if(_){var S,x,A,C;const $=(S=_?.message)!==null&&S!==void 0?S:"",V=(x=_?.code)!==null&&x!==void 0?x:"";m=`${(A=f?.name)!==null&&A!==void 0?A:"FetchError"}: ${f?.message}`,m+=`

Caused by: ${(C=_?.name)!==null&&C!==void 0?C:"Error"}: ${$}`,V&&(m+=` (${V})`),_?.stack&&(m+=`
${_.stack}`)}else{var U;m=(U=f?.stack)!==null&&U!==void 0?U:""}const L=this.url.toString().length;return f?.name==="AbortError"||f?.code==="ABORT_ERR"?(g="",y="Request was aborted (timeout or manual cancellation)",L>this.urlLengthLimit&&(y+=`. Note: Your request URL is ${L} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(_?.name==="HeadersOverflowError"||_?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",y="HTTP headers exceeded server limits (typically 16KB)",L>this.urlLengthLimit&&(y+=`. Your request URL is ${L} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(h=f?.name)!==null&&h!==void 0?h:"FetchError"}: ${f?.message}`,details:m,hint:y,code:g},data:null,count:null,status:0,statusText:""}})),c.then(s,a)}returns(){return this}overrideTypes(){return this}},Qv=class extends Xv{select(s){let a=!1;const l=(s??"*").split("").map(r=>/\s/.test(r)&&!a?"":(r==='"'&&(a=!a),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:l,foreignTable:r,referencedTable:c=r}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${s}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:l=a}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${s}`),this}range(s,a,{foreignTable:l,referencedTable:r=l}={}){const c=typeof r>"u"?"offset":`${r}.offset`,f=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(f,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:l=!1,buffers:r=!1,wal:c=!1,format:f="text"}={}){var h;const m=[s?"analyze":null,a?"verbose":null,l?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const cm=new RegExp("[,()]");var si=class extends Qv{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const l=Array.from(new Set(a)).map(r=>typeof r=="string"&&cm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}notIn(s,a){const l=Array.from(new Set(a)).map(r=>typeof r=="string"&&cm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`not.in.(${l})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:l,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${c}fts${f}.${a}`),this}match(s){return Object.entries(s).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(s,a,l){return this.url.searchParams.append(s,`not.${a}.${l}`),this}or(s,{foreignTable:a,referencedTable:l=a}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${s})`),this}filter(s,a,l){return this.url.searchParams.append(s,`${a}.${l}`),this}},Jv=class{constructor(s,{headers:a={},schema:l,fetch:r,urlLengthLimit:c=8e3}){this.url=s,this.headers=new Headers(a),this.schema=l,this.fetch=r,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,a){const{head:l=!1,count:r}=a??{},c=l?"HEAD":"GET";let f=!1;const h=(s??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join(""),{url:m,headers:y}=this.cloneRequestState();return m.searchParams.set("select",h),r&&y.append("Prefer",`count=${r}`),new si({method:c,url:m,headers:y,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:a,defaultToNull:l=!0}={}){var r;const c="POST",{url:f,headers:h}=this.cloneRequestState();if(a&&h.append("Prefer",`count=${a}`),l||h.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(m.length>0){const y=[...new Set(m)].map(g=>`"${g}"`);f.searchParams.set("columns",y.join(","))}}return new si({method:c,url:f,headers:h,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:a,ignoreDuplicates:l=!1,count:r,defaultToNull:c=!0}={}){var f;const h="POST",{url:m,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&m.searchParams.set("on_conflict",a),r&&y.append("Prefer",`count=${r}`),c||y.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(g.length>0){const _=[...new Set(g)].map(S=>`"${S}"`);m.searchParams.set("columns",_.join(","))}}return new si({method:h,url:m,headers:y,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:a}={}){var l;const r="PATCH",{url:c,headers:f}=this.cloneRequestState();return a&&f.append("Prefer",`count=${a}`),new si({method:r,url:c,headers:f,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var a;const l="DELETE",{url:r,headers:c}=this.cloneRequestState();return s&&c.append("Prefer",`count=${s}`),new si({method:l,url:r,headers:c,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};function ms(s){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ms(s)}function Zv(s,a){if(ms(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function Iv(s){var a=Zv(s,"string");return ms(a)=="symbol"?a:a+""}function Pv(s,a,l){return(a=Iv(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function fm(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function Hl(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?fm(Object(l),!0).forEach(function(r){Pv(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):fm(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}var Wv=class Bm{constructor(a,{headers:l={},schema:r,fetch:c,timeout:f,urlLengthLimit:h=8e3}={}){this.url=a,this.headers=new Headers(l),this.schemaName=r,this.urlLengthLimit=h;const m=c??globalThis.fetch;f!==void 0&&f>0?this.fetch=(y,g)=>{const _=new AbortController,S=setTimeout(()=>_.abort(),f),x=g?.signal;if(x){if(x.aborted)return clearTimeout(S),m(y,g);const A=()=>{clearTimeout(S),_.abort()};return x.addEventListener("abort",A,{once:!0}),m(y,Hl(Hl({},g),{},{signal:_.signal})).finally(()=>{clearTimeout(S),x.removeEventListener("abort",A)})}return m(y,Hl(Hl({},g),{},{signal:_.signal})).finally(()=>clearTimeout(S))}:this.fetch=m}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Jv(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(a){return new Bm(this.url,{headers:this.headers,schema:a,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,l={},{head:r=!1,get:c=!1,count:f}={}){var h;let m;const y=new URL(`${this.url}/rpc/${a}`);let g;const _=A=>A!==null&&typeof A=="object"&&(!Array.isArray(A)||A.some(_)),S=r&&Object.values(l).some(_);S?(m="POST",g=l):r||c?(m=r?"HEAD":"GET",Object.entries(l).filter(([A,C])=>C!==void 0).map(([A,C])=>[A,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([A,C])=>{y.searchParams.append(A,C)})):(m="POST",g=l);const x=new Headers(this.headers);return S?x.set("Prefer",f?`count=${f},return=minimal`:"return=minimal"):f&&x.set("Prefer",`count=${f}`),new si({method:m,url:y,headers:x,schema:this.schemaName,body:g,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}};class Fv{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const r=l.versions;if(r&&r.node){const c=r.node,f=parseInt(c.replace(/^v/,"").split(".")[0]);return f>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${f} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${f} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let l=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(l+=`

Suggested solution: ${a.workaround}`),new Error(l)}static createWebSocket(a,l){const r=this.getWebSocketConstructor();return new r(a,l)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const e0="2.95.3",t0=`realtime-js/${e0}`,n0="1.0.0",Lm="2.0.0",hm=Lm,zo=1e4,a0=1e3,i0=100;var Gn;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Gn||(Gn={}));var Ie;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Ie||(Ie={}));var Kt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Kt||(Kt={}));var Mo;(function(s){s.websocket="websocket"})(Mo||(Mo={}));var ha;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(ha||(ha={}));class s0{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,l){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(a));let r=[a.join_ref,a.ref,a.topic,a.event,a.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(a){var l;return this._isArrayBuffer((l=a.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var l,r;const c=(r=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var l,r;const c=(r=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,l,r){var c,f;const h=a.topic,m=(c=a.ref)!==null&&c!==void 0?c:"",y=(f=a.join_ref)!==null&&f!==void 0?f:"",g=a.payload.event,_=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},S=Object.keys(_).length===0?"":JSON.stringify(_);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+m.length+h.length+g.length+S.length,A=new ArrayBuffer(this.HEADER_LENGTH+x);let C=new DataView(A),U=0;C.setUint8(U++,this.KINDS.userBroadcastPush),C.setUint8(U++,y.length),C.setUint8(U++,m.length),C.setUint8(U++,h.length),C.setUint8(U++,g.length),C.setUint8(U++,S.length),C.setUint8(U++,l),Array.from(y,$=>C.setUint8(U++,$.charCodeAt(0))),Array.from(m,$=>C.setUint8(U++,$.charCodeAt(0))),Array.from(h,$=>C.setUint8(U++,$.charCodeAt(0))),Array.from(g,$=>C.setUint8(U++,$.charCodeAt(0))),Array.from(S,$=>C.setUint8(U++,$.charCodeAt(0)));var L=new Uint8Array(A.byteLength+r.byteLength);return L.set(new Uint8Array(A),0),L.set(new Uint8Array(r),A.byteLength),L.buffer}decode(a,l){if(this._isArrayBuffer(a)){let r=this._binaryDecode(a);return l(r)}if(typeof a=="string"){const r=JSON.parse(a),[c,f,h,m,y]=r;return l({join_ref:c,ref:f,topic:h,event:m,payload:y})}return l({})}_binaryDecode(a){const l=new DataView(a),r=l.getUint8(0),c=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,l,c)}_decodeUserBroadcast(a,l,r){const c=l.getUint8(1),f=l.getUint8(2),h=l.getUint8(3),m=l.getUint8(4);let y=this.HEADER_LENGTH+4;const g=r.decode(a.slice(y,y+c));y=y+c;const _=r.decode(a.slice(y,y+f));y=y+f;const S=r.decode(a.slice(y,y+h));y=y+h;const x=a.slice(y,a.byteLength),A=m===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,C={type:this.BROADCAST_EVENT,event:_,payload:A};return h>0&&(C.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(a){var l;return a instanceof ArrayBuffer||((l=a?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(a,l){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([r])=>l.includes(r)))}}class Hm{constructor(a,l){this.callback=a,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(ke||(ke={}));const dm=(s,a,l={})=>{var r;const c=(r=l.skipTypes)!==null&&r!==void 0?r:[];return a?Object.keys(a).reduce((f,h)=>(f[h]=l0(h,s,a,c),f),{}):{}},l0=(s,a,l,r)=>{const c=a.find(m=>m.name===s),f=c?.type,h=l[s];return f&&!r.includes(f)?$m(f,h):qo(h)},$m=(s,a)=>{if(s.charAt(0)==="_"){const l=s.slice(1,s.length);return c0(a,l)}switch(s){case ke.bool:return r0(a);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return u0(a);case ke.json:case ke.jsonb:return o0(a);case ke.timestamp:return f0(a);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return qo(a);default:return qo(a)}},qo=s=>s,r0=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},u0=s=>{if(typeof s=="string"){const a=parseFloat(s);if(!Number.isNaN(a))return a}return s},o0=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},c0=(s,a)=>{if(typeof s!="string")return s;const l=s.length-1,r=s[l];if(s[0]==="{"&&r==="}"){let f;const h=s.slice(1,l);try{f=JSON.parse("["+h+"]")}catch{f=h?h.split(","):[]}return f.map(m=>$m(a,m))}return s},f0=s=>typeof s=="string"?s.replace(" ","T"):s,Gm=s=>{const a=new URL(s);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Ao{constructor(a,l,r={},c=zo){this.channel=a,this.event=l,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,l){var r;return this._hasReceived(a)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:a,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:l}){this.recHooks.filter(r=>r.status===a).forEach(r=>r.callback(l))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var mm;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(mm||(mm={}));class cs{constructor(a,l){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:f,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cs.syncState(this.state,c,f,h),this.pendingDiffs.forEach(y=>{this.state=cs.syncDiff(this.state,y,f,h)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},c=>{const{onJoin:f,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=cs.syncDiff(this.state,c,f,h),m())}),this.onJoin((c,f,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:f,newPresences:h})}),this.onLeave((c,f,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:f,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,l,r,c){const f=this.cloneDeep(a),h=this.transformState(l),m={},y={};return this.map(f,(g,_)=>{h[g]||(y[g]=_)}),this.map(h,(g,_)=>{const S=f[g];if(S){const x=_.map(L=>L.presence_ref),A=S.map(L=>L.presence_ref),C=_.filter(L=>A.indexOf(L.presence_ref)<0),U=S.filter(L=>x.indexOf(L.presence_ref)<0);C.length>0&&(m[g]=C),U.length>0&&(y[g]=U)}else m[g]=_}),this.syncDiff(f,{joins:m,leaves:y},r,c)}static syncDiff(a,l,r,c){const{joins:f,leaves:h}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(f,(m,y)=>{var g;const _=(g=a[m])!==null&&g!==void 0?g:[];if(a[m]=this.cloneDeep(y),_.length>0){const S=a[m].map(A=>A.presence_ref),x=_.filter(A=>S.indexOf(A.presence_ref)<0);a[m].unshift(...x)}r(m,_,y)}),this.map(h,(m,y)=>{let g=a[m];if(!g)return;const _=y.map(S=>S.presence_ref);g=g.filter(S=>_.indexOf(S.presence_ref)<0),a[m]=g,c(m,g,y),g.length===0&&delete a[m]}),a}static map(a,l){return Object.getOwnPropertyNames(a).map(r=>l(r,a[r]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((l,r)=>{const c=a[r];return"metas"in c?l[r]=c.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):l[r]=c,l},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ym;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(ym||(ym={}));var fs;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(fs||(fs={}));var yn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(yn||(yn={}));class ui{constructor(a,l={config:{}},r){var c,f;if(this.topic=a,this.params=l,this.socket=r,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Ao(this,Kt.join,this.params,this.timeout),this.rejoinTimer=new Hm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kt.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new cs(this),this.broadcastEndpointURL=Gm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,l=this.timeout){var r,c,f;if(this.socket.isConnected()||this.socket.connect(),this.state==Ie.closed){const{config:{broadcast:h,presence:m,private:y}}=this.params,g=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(A=>A.filter))!==null&&c!==void 0?c:[],_=!!this.bindings[fs.PRESENCE]&&this.bindings[fs.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,S={},x={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:_}),postgres_changes:g,private:y};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(A=>a?.(yn.CHANNEL_ERROR,A)),this._onClose(()=>a?.(yn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},S)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:A})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),A===void 0){a?.(yn.SUBSCRIBED);return}else{const U=this.bindings.postgres_changes,L=(C=U?.length)!==null&&C!==void 0?C:0,$=[];for(let V=0;V<L;V++){const M=U[V],{filter:{event:H,schema:J,table:Z,filter:G}}=M,de=A&&A[V];if(de&&de.event===H&&ui.isFilterValueEqual(de.schema,J)&&ui.isFilterValueEqual(de.table,Z)&&ui.isFilterValueEqual(de.filter,G))$.push(Object.assign(Object.assign({},M),{id:de.id}));else{this.unsubscribe(),this.state=Ie.errored,a?.(yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,a&&a(yn.SUBSCRIBED);return}}).receive("error",A=>{this.state=Ie.errored,a?.(yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{a?.(yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,l={}){return await this.send({type:"presence",event:"track",payload:a},l.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,l,r){return this.state===Ie.joined&&a===fs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,l,r)}async httpSend(a,l,r={}){var c;if(l==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let y=m.statusText;try{const g=await m.json();y=g.error||g.message||y}catch{}return Promise.reject(new Error(y))}async send(a,l={}){var r,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:h}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var h,m,y;const g=this._push(a.type,a,l.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||y===void 0)&&y.ack)&&f("ok"),g.receive("ok",()=>f("ok")),g.receive("error",()=>f("error")),g.receive("timeout",()=>f("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Ie.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new Ao(this,Kt.leave,{},a),r.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ie.closed,this.bindings={}}async _fetchWithTimeout(a,l,r){const c=new AbortController,f=setTimeout(()=>c.abort(),r),h=await this.socket.fetch(a,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(f),h}_push(a,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Ao(this,a,l,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>i0){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(a,l,r){return l}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,l,r){var c,f;const h=a.toLocaleLowerCase(),{close:m,error:y,leave:g,join:_}=Kt;if(r&&[m,y,g,_].indexOf(h)>=0&&r!==this._joinRef())return;let x=this._onMessage(h,l,r);if(l&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(A=>{var C,U,L;return((C=A.filter)===null||C===void 0?void 0:C.event)==="*"||((L=(U=A.filter)===null||U===void 0?void 0:U.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===h}).map(A=>A.callback(x,r)):(f=this.bindings[h])===null||f===void 0||f.filter(A=>{var C,U,L,$,V,M;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in A){const H=A.id,J=(C=A.filter)===null||C===void 0?void 0:C.event;return H&&((U=l.ids)===null||U===void 0?void 0:U.includes(H))&&(J==="*"||J?.toLocaleLowerCase()===((L=l.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const H=(V=($=A?.filter)===null||$===void 0?void 0:$.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return H==="*"||H===((M=l?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===h}).map(A=>{if(typeof x=="object"&&"ids"in x){const C=x.data,{schema:U,table:L,commit_timestamp:$,type:V,errors:M}=C;x=Object.assign(Object.assign({},{schema:U,table:L,commit_timestamp:$,eventType:V,new:{},old:{},errors:M}),this._getPayloadRecords(C))}A.callback(x,r)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,l,r){const c=a.toLocaleLowerCase(),f={type:c,filter:l,callback:r};return this.bindings[c]?this.bindings[c].push(f):this.bindings[c]=[f],this}_off(a,l){const r=a.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var f;return!(((f=c.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===r&&ui.isEqual(c.filter,l))})),this}static isEqual(a,l){if(Object.keys(a).length!==Object.keys(l).length)return!1;for(const r in a)if(a[r]!==l[r])return!1;return!0}static isFilterValueEqual(a,l){return(a??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Kt.close,{},a)}_onError(a){this._on(Kt.error,{},l=>a(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const l={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(l.new=dm(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(l.old=dm(a.columns,a.old_record)),l}}const Oo=()=>{},$l={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},h0=[1e3,2e3,5e3,1e4],d0=1e4,m0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class y0{constructor(a,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zo,this.transport=null,this.heartbeatIntervalMs=$l.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Oo,this.ref=0,this.reconnectTimer=null,this.vsn=hm,this.logger=Oo,this.conn=null,this.sendBuffer=[],this.serializer=new s0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...f)=>c(...f):(...f)=>fetch(...f),!(!((r=l?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${a}/${Mo.websocket}`,this.httpEndpoint=Gm(a),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fv.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const l=a.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const l=await a.unsubscribe();return l==="ok"&&this._remove(a),this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const a=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,l,r){this.logger(a,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gn.connecting:return ha.Connecting;case Gn.open:return ha.Open;case Gn.closing:return ha.Closing;default:return ha.Closed}}isConnected(){return this.connectionState()===ha.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,l={config:{}}){const r=`realtime:${a}`,c=this.getChannels().find(f=>f.topic===r);if(c)return c;{const f=new ui(`realtime:${a}`,l,this);return this.channels.push(f),f}}push(a){const{topic:l,event:r,payload:c,ref:f}=a,h=()=>{this.encode(a,m=>{var y;(y=this.conn)===null||y===void 0||y.send(m)})};this.log("push",`${l} ${r} (${f})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(a0,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},$l.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let l=this.channels.find(r=>r.topic===a&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${a}"`),l.unsubscribe())}_remove(a){this.channels=this.channels.filter(l=>l.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",g)}catch(_){this.log("error","error in heartbeat callback",_)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:f,ref:h}=l,m=h?`(${h})`:"",y=f.status||"";this.log("receive",`${y} ${r} ${c} ${m}`.trim(),f),this.channels.filter(g=>g._isMember(r)).forEach(g=>g._trigger(c,f,h)),this._triggerStateCallbacks("message",l)})}_clearTimer(a){var l;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Gn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Gn.open||this.conn.readyState===Gn.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var l;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(l){this.log("error","error in heartbeat callback",l)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(Kt.error))}_appendParams(a,l){if(Object.keys(l).length===0)return a;const r=a.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${a}${r}${c}`}_workerObjectUrl(a){let l;if(a)l=a;else{const r=new Blob([m0],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(a,l=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(a=null){let l,r=!1;if(a)l=a,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(c=>{const f={access_token:l,version:t0};l&&c.updateJoinPayload(f),c.joinedOnce&&c._isJoined()&&c._push(Kt.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${a}`,l)})}_triggerStateCallbacks(a,l){try{this.stateChangeCallbacks[a].forEach(r=>{try{r(l)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(r){this.log("error",`error triggering ${a} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Hm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$l.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var l,r,c,f,h,m,y,g,_,S,x,A;switch(this.transport=(l=a?.transport)!==null&&l!==void 0?l:null,this.timeout=(r=a?.timeout)!==null&&r!==void 0?r:zo,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:$l.HEARTBEAT_INTERVAL,this.worker=(f=a?.worker)!==null&&f!==void 0?f:!1,this.accessToken=(h=a?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:Oo,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:hm,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=a?.reconnectAfterMs)!==null&&g!==void 0?g:(C=>h0[C-1]||d0),this.vsn){case n0:this.encode=(_=a?.encode)!==null&&_!==void 0?_:((C,U)=>U(JSON.stringify(C))),this.decode=(S=a?.decode)!==null&&S!==void 0?S:((C,U)=>U(JSON.parse(C)));break;case Lm:this.encode=(x=a?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(A=a?.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var ys=class extends Error{constructor(s,a){super(s),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function g0(s,a,l){const r=new URL(a,s);if(l)for(const[c,f]of Object.entries(l))f!==void 0&&r.searchParams.set(c,f);return r.toString()}async function v0(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function p0(s){const a=s.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:c,body:f,headers:h}){const m=g0(s.baseUrl,r,c),y=await v0(s.auth),g=await a(m,{method:l,headers:{...f?{"Content-Type":"application/json"}:{},...y,...h},body:f?JSON.stringify(f):void 0}),_=await g.text(),S=(g.headers.get("content-type")||"").includes("application/json"),x=S&&_?JSON.parse(_):_;if(!g.ok){const A=S?x:void 0,C=A?.error;throw new ys(C?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:C?.type,icebergCode:C?.code,details:A})}return{status:g.status,headers:g.headers,data:x}}}}function Gl(s){return s.join("")}var b0=class{constructor(s,a=""){this.client=s,this.prefix=a}async listNamespaces(s){const a=s?{parent:Gl(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(s,a){const l={namespace:s.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gl(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gl(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gl(s.namespace)}`}),!0}catch(a){if(a instanceof ys&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(s,a){try{return await this.createNamespace(s,a)}catch(l){if(l instanceof ys&&l.status===409)return;throw l}}};function Fa(s){return s.join("")}var _0=class{constructor(s,a="",l){this.client=s,this.prefix=a,this.accessDelegation=l}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fa(s.namespace)}/tables`})).data.identifiers}async createTable(s,a){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fa(s.namespace)}/tables`,body:a,headers:l})).data.metadata}async updateTable(s,a){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fa(s.namespace)}/tables/${s.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(s,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fa(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(s){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fa(s.namespace)}/tables/${s.name}`,headers:a})).data.metadata}async tableExists(s){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fa(s.namespace)}/tables/${s.name}`,headers:a}),!0}catch(l){if(l instanceof ys&&l.status===404)return!1;throw l}}async createTableIfNotExists(s,a){try{return await this.createTable(s,a)}catch(l){if(l instanceof ys&&l.status===409)return await this.loadTable({namespace:s.namespace,name:a.name});throw l}}},w0=class{constructor(s){let a="v1";s.catalogName&&(a+=`/${s.catalogName}`);const l=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=p0({baseUrl:l,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new b0(this.client,a),this.tableOps=new _0(this.client,a,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,a){return this.namespaceOps.createNamespace(s,a)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,a){return this.tableOps.createTable(s,a)}async updateTable(s,a){return this.tableOps.updateTable(s,a)}async dropTable(s,a){await this.tableOps.dropTable(s,a)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,a){return this.namespaceOps.createNamespaceIfNotExists(s,a)}async createTableIfNotExists(s,a){return this.tableOps.createTableIfNotExists(s,a)}},Pl=class extends Error{constructor(s,a="storage",l,r){super(s),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=l,this.statusCode=r}};function Wl(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Vl=class extends Pl{constructor(s,a,l,r="storage"){super(s,r,a,l),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Vm=class extends Pl{constructor(s,a,l="storage"){super(s,l),this.name=l==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const S0=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),E0=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Bo=s=>{if(Array.isArray(s))return s.map(l=>Bo(l));if(typeof s=="function"||s!==Object(s))return s;const a={};return Object.entries(s).forEach(([l,r])=>{const c=l.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));a[c]=Bo(r)}),a},T0=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function gs(s){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},gs(s)}function x0(s,a){if(gs(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function A0(s){var a=x0(s,"string");return gs(a)=="symbol"?a:a+""}function O0(s,a,l){return(a=A0(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function gm(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function ae(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?gm(Object(l),!0).forEach(function(r){O0(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):gm(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const vm=s=>{var a;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(a=s.error)===null||a===void 0?void 0:a.message)||JSON.stringify(s)},j0=async(s,a,l,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!l?.noResolveJson){const c=s,f=c.status||500;if(typeof c.json=="function")c.json().then(h=>{const m=h?.statusCode||h?.code||f+"";a(new Vl(vm(h),f,m,r))}).catch(()=>{if(r==="vectors"){const h=f+"";a(new Vl(c.statusText||`HTTP ${f} error`,f,h,r))}else{const h=f+"";a(new Vl(c.statusText||`HTTP ${f} error`,f,h,r))}});else{const h=f+"";a(new Vl(c.statusText||`HTTP ${f} error`,f,h,r))}}else a(new Vm(vm(s),s,r))},R0=(s,a,l,r)=>{const c={method:s,headers:a?.headers||{}};return s==="GET"||s==="HEAD"||!r?ae(ae({},c),l):(E0(r)?(c.headers=ae({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(r)):c.body=r,a?.duplex&&(c.duplex=a.duplex),ae(ae({},c),l))};async function us(s,a,l,r,c,f,h){return new Promise((m,y)=>{s(l,R0(a,r,c,f)).then(g=>{if(!g.ok)throw g;if(r?.noResolveJson)return g;if(h==="vectors"){const _=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!_||!_.includes("application/json"))return{}}return g.json()}).then(g=>m(g)).catch(g=>j0(g,y,r,h))})}function Ym(s="storage"){return{get:async(a,l,r,c)=>us(a,"GET",l,r,c,void 0,s),post:async(a,l,r,c,f)=>us(a,"POST",l,c,f,r,s),put:async(a,l,r,c,f)=>us(a,"PUT",l,c,f,r,s),head:async(a,l,r,c)=>us(a,"HEAD",l,ae(ae({},r),{},{noResolveJson:!0}),c,void 0,s),remove:async(a,l,r,c,f)=>us(a,"DELETE",l,c,f,r,s)}}const N0=Ym("storage"),{get:vs,post:Yt,put:Lo,head:C0,remove:Qo}=N0,Rt=Ym("vectors");var hi=class{constructor(s,a={},l,r="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=a,this.fetch=S0(l),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(s){var a=this;try{return{data:await s(),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Wl(l))return{data:null,error:l};throw l}}},k0=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a}then(s,a){return this.execute().then(s,a)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Wl(a))return{data:null,error:a};throw a}}};let Km;Km=Symbol.toStringTag;var U0=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a,this[Km]="BlobDownloadBuilder",this.promise=null}asStream(){return new k0(this.downloadFn,this.shouldThrowOnError)}then(s,a){return this.getPromise().then(s,a)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Wl(a))return{data:null,error:a};throw a}}};const D0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var z0=class extends hi{constructor(s,a={},l,r){super(s,a,r,"storage"),this.bucketId=l}async uploadOrUpdate(s,a,l,r){var c=this;return c.handleOperation(async()=>{let f;const h=ae(ae({},pm),r);let m=ae(ae({},c.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const y=h.metadata;typeof Blob<"u"&&l instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),y&&f.append("metadata",c.encodeMetadata(y)),f.append("",l)):typeof FormData<"u"&&l instanceof FormData?(f=l,f.has("cacheControl")||f.append("cacheControl",h.cacheControl),y&&!f.has("metadata")&&f.append("metadata",c.encodeMetadata(y))):(f=l,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,y&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(y))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!h.duplex&&(h.duplex="half")),r?.headers&&(m=ae(ae({},m),r.headers));const g=c._removeEmptyFolders(a),_=c._getFinalPath(g),S=await(s=="PUT"?Lo:Yt)(c.fetch,`${c.url}/object/${_}`,f,ae({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{path:g,id:S.Id,fullPath:S.Key}})}async upload(s,a,l){return this.uploadOrUpdate("POST",s,a,l)}async uploadToSignedUrl(s,a,l,r){var c=this;const f=c._removeEmptyFolders(s),h=c._getFinalPath(f),m=new URL(c.url+`/object/upload/sign/${h}`);return m.searchParams.set("token",a),c.handleOperation(async()=>{let y;const g=ae({upsert:pm.upsert},r),_=ae(ae({},c.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&l instanceof Blob?(y=new FormData,y.append("cacheControl",g.cacheControl),y.append("",l)):typeof FormData<"u"&&l instanceof FormData?(y=l,y.append("cacheControl",g.cacheControl)):(y=l,_["cache-control"]=`max-age=${g.cacheControl}`,_["content-type"]=g.contentType),{path:f,fullPath:(await Lo(c.fetch,m.toString(),y,{headers:_})).Key}})}async createSignedUploadUrl(s,a){var l=this;return l.handleOperation(async()=>{let r=l._getFinalPath(s);const c=ae({},l.headers);a?.upsert&&(c["x-upsert"]="true");const f=await Yt(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:c}),h=new URL(l.url+f.url),m=h.searchParams.get("token");if(!m)throw new Pl("No token returned by API");return{signedUrl:h.toString(),path:s,token:m}})}async update(s,a,l){return this.uploadOrUpdate("PUT",s,a,l)}async move(s,a,l){var r=this;return r.handleOperation(async()=>await Yt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:s,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:r.headers}))}async copy(s,a,l){var r=this;return r.handleOperation(async()=>({path:(await Yt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:s,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(s,a,l){var r=this;return r.handleOperation(async()=>{let c=r._getFinalPath(s),f=await Yt(r.fetch,`${r.url}/object/sign/${c}`,ae({expiresIn:a},l?.transform?{transform:l.transform}:{}),{headers:r.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{signedUrl:encodeURI(`${r.url}${f.signedURL}${h}`)}})}async createSignedUrls(s,a,l){var r=this;return r.handleOperation(async()=>{const c=await Yt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:a,paths:s},{headers:r.headers}),f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return c.map(h=>ae(ae({},h),{},{signedUrl:h.signedURL?encodeURI(`${r.url}${h.signedURL}${f}`):null}))})}download(s,a,l){const r=typeof a?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(a?.transform||{}),f=c?`?${c}`:"",h=this._getFinalPath(s),m=()=>vs(this.fetch,`${this.url}/${r}/${h}${f}`,{headers:this.headers,noResolveJson:!0},l);return new U0(m,this.shouldThrowOnError)}async info(s){var a=this;const l=a._getFinalPath(s);return a.handleOperation(async()=>Bo(await vs(a.fetch,`${a.url}/object/info/${l}`,{headers:a.headers})))}async exists(s){var a=this;const l=a._getFinalPath(s);try{return await C0(a.fetch,`${a.url}/object/${l}`,{headers:a.headers}),{data:!0,error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Wl(r)&&r instanceof Vm){const c=r.originalError;if([400,404].includes(c?.status))return{data:!1,error:r}}throw r}}getPublicUrl(s,a){const l=this._getFinalPath(s),r=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&r.push(c);const f=typeof a?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(a?.transform||{});h!==""&&r.push(h);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${l}${m}`)}}}async remove(s){var a=this;return a.handleOperation(async()=>await Qo(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:s},{headers:a.headers}))}async list(s,a,l){var r=this;return r.handleOperation(async()=>{const c=ae(ae(ae({},D0),a),{},{prefix:s||""});return await Yt(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},l)})}async listV2(s,a){var l=this;return l.handleOperation(async()=>{const r=ae({},s);return await Yt(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},a)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}};const M0="2.95.3",ws={"X-Client-Info":`storage-js/${M0}`};var q0=class extends hi{constructor(s,a={},l,r){const c=new URL(s);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const f=c.href.replace(/\/$/,""),h=ae(ae({},ws),a);super(f,h,l,"storage")}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const l=a.listBucketOptionsToQueryString(s);return await vs(a.fetch,`${a.url}/bucket${l}`,{headers:a.headers})})}async getBucket(s){var a=this;return a.handleOperation(async()=>await vs(a.fetch,`${a.url}/bucket/${s}`,{headers:a.headers}))}async createBucket(s,a={public:!1}){var l=this;return l.handleOperation(async()=>await Yt(l.fetch,`${l.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}))}async updateBucket(s,a){var l=this;return l.handleOperation(async()=>await Lo(l.fetch,`${l.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}))}async emptyBucket(s){var a=this;return a.handleOperation(async()=>await Yt(a.fetch,`${a.url}/bucket/${s}/empty`,{},{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Qo(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(s){const a={};return s&&("limit"in s&&(a.limit=String(s.limit)),"offset"in s&&(a.offset=String(s.offset)),s.search&&(a.search=s.search),s.sortColumn&&(a.sortColumn=s.sortColumn),s.sortOrder&&(a.sortOrder=s.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},B0=class extends hi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=ae(ae({},ws),a);super(r,c,l,"storage")}async createBucket(s){var a=this;return a.handleOperation(async()=>await Yt(a.fetch,`${a.url}/bucket`,{name:s},{headers:a.headers}))}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const l=new URLSearchParams;s?.limit!==void 0&&l.set("limit",s.limit.toString()),s?.offset!==void 0&&l.set("offset",s.offset.toString()),s?.sortColumn&&l.set("sortColumn",s.sortColumn),s?.sortOrder&&l.set("sortOrder",s.sortOrder),s?.search&&l.set("search",s.search);const r=l.toString(),c=r?`${a.url}/bucket?${r}`:`${a.url}/bucket`;return await vs(a.fetch,c,{headers:a.headers})})}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Qo(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}from(s){var a=this;if(!T0(s))throw new Pl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new w0({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(c,f){const h=c[f];return typeof h!="function"?h:async(...m)=>{try{return{data:await h.apply(c,m),error:null}}catch(y){if(r)throw y;return{data:null,error:y}}}}})}},L0=class extends hi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=ae(ae({},ws),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async createIndex(s){var a=this;return a.handleOperation(async()=>await Rt.post(a.fetch,`${a.url}/CreateIndex`,s,{headers:a.headers})||{})}async getIndex(s,a){var l=this;return l.handleOperation(async()=>await Rt.post(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:s,indexName:a},{headers:l.headers}))}async listIndexes(s){var a=this;return a.handleOperation(async()=>await Rt.post(a.fetch,`${a.url}/ListIndexes`,s,{headers:a.headers}))}async deleteIndex(s,a){var l=this;return l.handleOperation(async()=>await Rt.post(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:s,indexName:a},{headers:l.headers})||{})}},H0=class extends hi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=ae(ae({},ws),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async putVectors(s){var a=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Rt.post(a.fetch,`${a.url}/PutVectors`,s,{headers:a.headers})||{})}async getVectors(s){var a=this;return a.handleOperation(async()=>await Rt.post(a.fetch,`${a.url}/GetVectors`,s,{headers:a.headers}))}async listVectors(s){var a=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return a.handleOperation(async()=>await Rt.post(a.fetch,`${a.url}/ListVectors`,s,{headers:a.headers}))}async queryVectors(s){var a=this;return a.handleOperation(async()=>await Rt.post(a.fetch,`${a.url}/QueryVectors`,s,{headers:a.headers}))}async deleteVectors(s){var a=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Rt.post(a.fetch,`${a.url}/DeleteVectors`,s,{headers:a.headers})||{})}},$0=class extends hi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=ae(ae({},ws),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async createBucket(s){var a=this;return a.handleOperation(async()=>await Rt.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}async getBucket(s){var a=this;return a.handleOperation(async()=>await Rt.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:s},{headers:a.headers}))}async listBuckets(s={}){var a=this;return a.handleOperation(async()=>await Rt.post(a.fetch,`${a.url}/ListVectorBuckets`,s,{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Rt.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}},G0=class extends $0{constructor(s,a={}){super(s,a.headers||{},a.fetch)}from(s){return new V0(this.url,this.headers,s,this.fetch)}async createBucket(s){var a=()=>super.createBucket,l=this;return a().call(l,s)}async getBucket(s){var a=()=>super.getBucket,l=this;return a().call(l,s)}async listBuckets(s={}){var a=()=>super.listBuckets,l=this;return a().call(l,s)}async deleteBucket(s){var a=()=>super.deleteBucket,l=this;return a().call(l,s)}},V0=class extends L0{constructor(s,a,l,r){super(s,a,r),this.vectorBucketName=l}async createIndex(s){var a=()=>super.createIndex,l=this;return a().call(l,ae(ae({},s),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(s={}){var a=()=>super.listIndexes,l=this;return a().call(l,ae(ae({},s),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(s){var a=()=>super.getIndex,l=this;return a().call(l,l.vectorBucketName,s)}async deleteIndex(s){var a=()=>super.deleteIndex,l=this;return a().call(l,l.vectorBucketName,s)}index(s){return new Y0(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Y0=class extends H0{constructor(s,a,l,r,c){super(s,a,c),this.vectorBucketName=l,this.indexName=r}async putVectors(s){var a=()=>super.putVectors,l=this;return a().call(l,ae(ae({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(s){var a=()=>super.getVectors,l=this;return a().call(l,ae(ae({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(s={}){var a=()=>super.listVectors,l=this;return a().call(l,ae(ae({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(s){var a=()=>super.queryVectors,l=this;return a().call(l,ae(ae({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(s){var a=()=>super.deleteVectors,l=this;return a().call(l,ae(ae({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},K0=class extends q0{constructor(s,a={},l,r){super(s,a,l,r)}from(s){return new z0(this.url,this.headers,s,this.fetch)}get vectors(){return new G0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new B0(this.url+"/iceberg",this.headers,this.fetch)}};const Xm="2.95.3",li=30*1e3,Ho=3,jo=Ho*li,X0="http://localhost:9999",Q0="supabase.auth.token",J0={"X-Client-Info":`gotrue-js/${Xm}`},$o="X-Supabase-Api-Version",Qm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Z0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,I0=600*1e3;class ps extends Error{constructor(a,l,r){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function F(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class P0 extends ps{constructor(a,l,r){super(a,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function W0(s){return F(s)&&s.name==="AuthApiError"}class da extends ps{constructor(a,l){super(a),this.name="AuthUnknownError",this.originalError=l}}class gn extends ps{constructor(a,l,r,c){super(a,r,c),this.name=l,this.status=r}}class jt extends gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ro(s){return F(s)&&s.name==="AuthSessionMissingError"}class ei extends gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yl extends gn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Kl extends gn{constructor(a,l=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function F0(s){return F(s)&&s.name==="AuthImplicitGrantRedirectError"}class bm extends gn{constructor(a,l=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ep extends gn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Go extends gn{constructor(a,l){super(a,"AuthRetryableFetchError",l,void 0)}}function No(s){return F(s)&&s.name==="AuthRetryableFetchError"}class _m extends gn{constructor(a,l,r){super(a,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class Vo extends gn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wm=` 	
\r=`.split(""),tp=(()=>{const s=new Array(128);for(let a=0;a<s.length;a+=1)s[a]=-1;for(let a=0;a<wm.length;a+=1)s[wm[a].charCodeAt(0)]=-2;for(let a=0;a<Ql.length;a+=1)s[Ql[a].charCodeAt(0)]=a;return s})();function Sm(s,a,l){if(s!==null)for(a.queue=a.queue<<8|s,a.queuedBits+=8;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;l(Ql[r]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;l(Ql[r]),a.queuedBits-=6}}function Jm(s,a,l){const r=tp[s];if(r>-1)for(a.queue=a.queue<<6|r,a.queuedBits+=6;a.queuedBits>=8;)l(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Em(s){const a=[],l=h=>{a.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},f=h=>{ip(h,r,l)};for(let h=0;h<s.length;h+=1)Jm(s.charCodeAt(h),c,f);return a.join("")}function np(s,a){if(s<=127){a(s);return}else if(s<=2047){a(192|s>>6),a(128|s&63);return}else if(s<=65535){a(224|s>>12),a(128|s>>6&63),a(128|s&63);return}else if(s<=1114111){a(240|s>>18),a(128|s>>12&63),a(128|s>>6&63),a(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function ap(s,a){for(let l=0;l<s.length;l+=1){let r=s.charCodeAt(l);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(s.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}np(r,a)}}function ip(s,a,l){if(a.utf8seq===0){if(s<=127){l(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){a.utf8seq=r;break}if(a.utf8seq===2)a.codepoint=s&31;else if(a.utf8seq===3)a.codepoint=s&15;else if(a.utf8seq===4)a.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|s&63,a.utf8seq-=1,a.utf8seq===0&&l(a.codepoint)}}function oi(s){const a=[],l={queue:0,queuedBits:0},r=c=>{a.push(c)};for(let c=0;c<s.length;c+=1)Jm(s.charCodeAt(c),l,r);return new Uint8Array(a)}function sp(s){const a=[];return ap(s,l=>a.push(l)),new Uint8Array(a)}function ma(s){const a=[],l={queue:0,queuedBits:0},r=c=>{a.push(c)};return s.forEach(c=>Sm(c,l,r)),Sm(null,l,r),a.join("")}function lp(s){return Math.round(Date.now()/1e3)+s}function rp(){return Symbol("auth-callback")}const lt=()=>typeof window<"u"&&typeof document<"u",oa={tested:!1,writable:!1},Zm=()=>{if(!lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oa.tested)return oa.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),oa.tested=!0,oa.writable=!0}catch{oa.tested=!0,oa.writable=!1}return oa.writable};function up(s){const a={},l=new URL(s);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,f)=>{a[f]=c})}catch{}return l.searchParams.forEach((r,c)=>{a[c]=r}),a}const Im=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),op=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",ri=async(s,a,l)=>{await s.setItem(a,JSON.stringify(l))},ca=async(s,a)=>{const l=await s.getItem(a);if(!l)return null;try{return JSON.parse(l)}catch{return l}},st=async(s,a)=>{await s.removeItem(a)};class Fl{constructor(){this.promise=new Fl.promiseConstructor((a,l)=>{this.resolve=a,this.reject=l})}}Fl.promiseConstructor=Promise;function Xl(s){const a=s.split(".");if(a.length!==3)throw new Vo("Invalid JWT structure");for(let r=0;r<a.length;r++)if(!Z0.test(a[r]))throw new Vo("JWT not in base64url format");return{header:JSON.parse(Em(a[0])),payload:JSON.parse(Em(a[1])),signature:oi(a[2]),raw:{header:a[0],payload:a[1]}}}async function cp(s){return await new Promise(a=>{setTimeout(()=>a(null),s)})}function fp(s,a){return new Promise((r,c)=>{(async()=>{for(let f=0;f<1/0;f++)try{const h=await s(f);if(!a(f,null,h)){r(h);return}}catch(h){if(!a(f,h)){c(h);return}}})()})}function hp(s){return("0"+s.toString(16)).substr(-2)}function dp(){const a=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let c="";for(let f=0;f<56;f++)c+=l.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(a),Array.from(a,hp).join("")}async function mp(s){const l=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(r);return Array.from(c).map(f=>String.fromCharCode(f)).join("")}async function yp(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const l=await mp(s);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ti(s,a,l=!1){const r=dp();let c=r;l&&(c+="/PASSWORD_RECOVERY"),await ri(s,`${a}-code-verifier`,c);const f=await yp(r);return[f,r===f?"plain":"s256"]}const gp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vp(s){const a=s.headers.get($o);if(!a||!a.match(gp))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function pp(s){if(!s)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(s<=a)throw new Error("JWT has expired")}function bp(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _p=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ni(s){if(!_p.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Co(){const s={};return new Proxy(s,{get:(a,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wp(s,a){return new Proxy(s,{get:(l,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const f=r.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,c)}return!a.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(l,r,c)}})}function Tm(s){return JSON.parse(JSON.stringify(s))}const fa=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Sp=[502,503,504];async function xm(s){var a;if(!op(s))throw new Go(fa(s),0);if(Sp.includes(s.status))throw new Go(fa(s),s.status);let l;try{l=await s.json()}catch(f){throw new da(fa(f),f)}let r;const c=vp(s);if(c&&c.getTime()>=Qm["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new _m(fa(l),s.status,((a=l.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(r==="session_not_found")throw new jt}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((f,h)=>f&&typeof h=="string",!0))throw new _m(fa(l),s.status,l.weak_password.reasons);throw new P0(fa(l),s.status||500,r)}const Ep=(s,a,l,r)=>{const c={method:s,headers:a?.headers||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),l))};async function ne(s,a,l,r){var c;const f=Object.assign({},r?.headers);f[$o]||(f[$o]=Qm["2024-01-01"].name),r?.jwt&&(f.Authorization=`Bearer ${r.jwt}`);const h=(c=r?.query)!==null&&c!==void 0?c:{};r?.redirectTo&&(h.redirect_to=r.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",y=await Tp(s,a,l+m,{headers:f,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(y):{data:Object.assign({},y),error:null}}async function Tp(s,a,l,r,c,f){const h=Ep(a,r,c,f);let m;try{m=await s(l,Object.assign({},h))}catch(y){throw console.error(y),new Go(fa(y),0)}if(m.ok||await xm(m),r?.noResolveJson)return m;try{return await m.json()}catch(y){await xm(y)}}function Vt(s){var a;let l=null;Op(s)&&(l=Object.assign({},s),s.expires_at||(l.expires_at=lp(s.expires_in)));const r=(a=s.user)!==null&&a!==void 0?a:s;return{data:{session:l,user:r},error:null}}function Am(s){const a=Vt(s);return!a.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(a.data.weak_password=s.weak_password),a}function Vn(s){var a;return{data:{user:(a=s.user)!==null&&a!==void 0?a:s},error:null}}function xp(s){return{data:s,error:null}}function Ap(s){const{action_link:a,email_otp:l,hashed_token:r,redirect_to:c,verification_type:f}=s,h=Il(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:l,hashed_token:r,redirect_to:c,verification_type:f},y=Object.assign({},h);return{data:{properties:m,user:y},error:null}}function Om(s){return s}function Op(s){return s.access_token&&s.refresh_token&&s.expires_in}const ko=["global","local","others"];class jp{constructor({url:a="",headers:l={},fetch:r}){this.url=a,this.headers=l,this.fetch=Im(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,l=ko[0]){if(ko.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ko.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async inviteUserByEmail(a,l={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:Vn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async generateLink(a){try{const{options:l}=a,r=Il(a,["options"]),c=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(c.new_email=r?.newEmail,delete c.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Ap,redirectTo:l?.redirectTo})}catch(l){if(F(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(a){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Vn})}catch(l){if(F(l))return{data:{user:null},error:l};throw l}}async listUsers(a){var l,r,c,f,h,m,y;try{const g={nextPage:null,lastPage:0,total:0},_=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=a?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(f=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Om});if(_.error)throw _.error;const S=await _.json(),x=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,A=(y=(m=_.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return A.length>0&&(A.forEach(C=>{const U=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(C.split(";")[1].split("=")[1]);g[`${L}Page`]=U}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},S),g),error:null}}catch(g){if(F(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){ni(a);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Vn})}catch(l){if(F(l))return{data:{user:null},error:l};throw l}}async updateUserById(a,l){ni(a);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:l,headers:this.headers,xform:Vn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async deleteUser(a,l=!1){ni(a);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:l},xform:Vn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async _listFactors(a){ni(a.userId);try{const{data:l,error:r}=await ne(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:r}}catch(l){if(F(l))return{data:null,error:l};throw l}}async _deleteFactor(a){ni(a.userId),ni(a.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(l){if(F(l))return{data:null,error:l};throw l}}async _listOAuthClients(a){var l,r,c,f,h,m,y;try{const g={nextPage:null,lastPage:0,total:0},_=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=a?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(f=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Om});if(_.error)throw _.error;const S=await _.json(),x=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,A=(y=(m=_.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return A.length>0&&(A.forEach(C=>{const U=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(C.split(";")[1].split("=")[1]);g[`${L}Page`]=U}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},S),g),error:null}}catch(g){if(F(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(F(l))return{data:null,error:l};throw l}}async _getOAuthClient(a){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(F(l))return{data:null,error:l};throw l}}async _updateOAuthClient(a,l){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(a){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(F(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(a){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(F(l))return{data:null,error:l};throw l}}}function jm(s={}){return{getItem:a=>s[a]||null,setItem:(a,l)=>{s[a]=l},removeItem:a=>{delete s[a]}}}const ai={debug:!!(globalThis&&Zm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pm extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Rp extends Pm{}async function Np(s,a,l){ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,a);const r=new globalThis.AbortController;return a>0&&setTimeout(()=>{r.abort(),ai.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await l()}finally{ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(a===0)throw ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Rp(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(ai.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function Cp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Wm(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function kp(s){return parseInt(s,16)}function Up(s){const a=new TextEncoder().encode(s);return"0x"+Array.from(a,r=>r.toString(16).padStart(2,"0")).join("")}function Dp(s){var a;const{chainId:l,domain:r,expirationTime:c,issuedAt:f=new Date,nonce:h,notBefore:m,requestId:y,resources:g,scheme:_,uri:S,version:x}=s;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((a=s.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const A=Wm(s.address),C=_?`${_}://${r}`:r,U=s.statement?`${s.statement}
`:"",L=`${C} wants you to sign in with your Ethereum account:
${A}

${U}`;let $=`URI: ${S}
Version: ${x}
Chain ID: ${l}${h?`
Nonce: ${h}`:""}
Issued At: ${f.toISOString()}`;if(c&&($+=`
Expiration Time: ${c.toISOString()}`),m&&($+=`
Not Before: ${m.toISOString()}`),y&&($+=`
Request ID: ${y}`),g){let V=`
Resources:`;for(const M of g){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);V+=`
- ${M}`}$+=V}return`${L}
${$}`}class Je extends Error{constructor({message:a,code:l,cause:r,name:c}){var f;super(a,{cause:r}),this.__isWebAuthnError=!0,this.name=(f=c??(r instanceof Error?r.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=l}}class Jl extends Je{constructor(a,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:a}),this.name="WebAuthnUnknownError",this.originalError=l}}function zp({error:s,options:a}){var l,r,c;const{publicKey:f}=a;if(!f)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((l=f.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new Je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(a.mediation==="conditional"&&((r=f.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=f.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Je({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return f.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(Fm(h)){if(f.rp.id!==h)return new Je({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new Je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Mp({error:s,options:a}){const{publicKey:l}=a;if(!l)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Je({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const r=window.location.hostname;if(Fm(r)){if(l.rpId!==r)return new Je({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class qp{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Bp=new qp;function Lp(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:a,user:l,excludeCredentials:r}=s,c=Il(s,["challenge","user","excludeCredentials"]),f=oi(a).buffer,h=Object.assign(Object.assign({},l),{id:oi(l.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:f,user:h});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let y=0;y<r.length;y++){const g=r[y];m.excludeCredentials[y]=Object.assign(Object.assign({},g),{id:oi(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function Hp(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:a,allowCredentials:l}=s,r=Il(s,["challenge","allowCredentials"]),c=oi(a).buffer,f=Object.assign(Object.assign({},r),{challenge:c});if(l&&l.length>0){f.allowCredentials=new Array(l.length);for(let h=0;h<l.length;h++){const m=l[h];f.allowCredentials[h]=Object.assign(Object.assign({},m),{id:oi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function $p(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s;return{id:s.id,rawId:s.id,response:{attestationObject:ma(new Uint8Array(s.response.attestationObject)),clientDataJSON:ma(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Gp(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s,r=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:ma(new Uint8Array(c.authenticatorData)),clientDataJSON:ma(new Uint8Array(c.clientDataJSON)),signature:ma(new Uint8Array(c.signature)),userHandle:c.userHandle?ma(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Fm(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Rm(){var s,a;return!!(lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Vp(s){try{const a=await navigator.credentials.create(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Jl("Browser returned unexpected credential type",a)}:{data:null,error:new Jl("Empty credential response",a)}}catch(a){return{data:null,error:zp({error:a,options:s})}}}async function Yp(s){try{const a=await navigator.credentials.get(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Jl("Browser returned unexpected credential type",a)}:{data:null,error:new Jl("Empty credential response",a)}}catch(a){return{data:null,error:Mp({error:a,options:s})}}}const Kp={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Xp={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zl(...s){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),l=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of s)if(c)for(const f in c){const h=c[f];if(h!==void 0)if(Array.isArray(h))r[f]=h;else if(l(h))r[f]=h;else if(a(h)){const m=r[f];a(m)?r[f]=Zl(m,h):r[f]=Zl(h)}else r[f]=h}return r}function Qp(s,a){return Zl(Kp,s,a||{})}function Jp(s,a){return Zl(Xp,s,a||{})}class Zp{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:l,friendlyName:r,signal:c},f){var h;try{const{data:m,error:y}=await this.client.mfa.challenge({factorId:a,webauthn:l});if(!m)return{data:null,error:y};const g=c??Bp.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:_}=m.webauthn.credential_options.publicKey;if(!_.name){const S=r;if(S)_.name=`${_.id}:${S}`;else{const A=(await this.client.getUser()).data.user,C=((h=A?.user_metadata)===null||h===void 0?void 0:h.name)||A?.email||A?.id||"User";_.name=`${_.id}:${C}`}}_.displayName||(_.displayName=_.name)}switch(m.webauthn.type){case"create":{const _=Qp(m.webauthn.credential_options.publicKey,f?.create),{data:S,error:x}=await Vp({publicKey:_,signal:g});return S?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:S}},error:null}:{data:null,error:x}}case"request":{const _=Jp(m.webauthn.credential_options.publicKey,f?.request),{data:S,error:x}=await Yp(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:_,signal:g}));return S?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:S}},error:null}:{data:null,error:x}}}}catch(m){return F(m)?{data:null,error:m}:{data:null,error:new da("Unexpected error in challenge",m)}}}async _verify({challengeId:a,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:a,webauthn:r})}async _authenticate({factorId:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!l)return{data:null,error:new ps("rpId is required for WebAuthn authentication")};try{if(!Rm())return{data:null,error:new da("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:a,webauthn:{rpId:l,rpOrigins:r},signal:c},{request:f});if(!h)return{data:null,error:m};const{webauthn:y}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:y.type,rpId:l,rpOrigins:r,credential_response:y.credential_response}})}catch(h){return F(h)?{data:null,error:h}:{data:null,error:new da("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!l)return{data:null,error:new ps("rpId is required for WebAuthn registration")};try{if(!Rm())return{data:null,error:new da("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(_=>{var S;return(S=_.data)===null||S===void 0?void 0:S.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===a&&x.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:m};const{data:y,error:g}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:c},{create:f});return y?this._verify({factorId:h.id,challengeId:y.challengeId,webauthn:{rpId:l,rpOrigins:r,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:g}}catch(h){return F(h)?{data:null,error:h}:{data:null,error:new da("Unexpected error in register",h)}}}}Cp();const Ip={url:X0,storageKey:Q0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:J0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Nm(s,a,l){return await l()}const ii={};class bs{get jwks(){var a,l;return(l=(a=ii[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(a){ii[this.storageKey]=Object.assign(Object.assign({},ii[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,l;return(l=(a=ii[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){ii[this.storageKey]=Object.assign(Object.assign({},ii[this.storageKey]),{cachedAt:a})}constructor(a){var l,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},Ip),a);if(this.storageKey=f.storageKey,this.instanceID=(l=bs.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,bs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&lt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new jp({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=Im(f.fetch),this.lock=f.lock||Nm,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,this.lockAcquireTimeout=f.lockAcquireTimeout,f.lock?this.lock=f.lock:this.persistSession&&lt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Np:this.lock=Nm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Zp(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:Zm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jm(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=jm(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Xm}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let l={},r="none";if(lt()&&(l=up(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),lt()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:f}=await this._getSessionFromURL(l,r);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),F0(f)){const y=(a=f.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:f}}return{error:f}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return F(l)?this._returnResult({error:l}):this._returnResult({error:new da("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var l,r,c;try{const f=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=a?.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Vt}),{data:h,error:m}=f;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const y=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(f){if(F(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(a){var l,r,c;try{let f;if("email"in a){const{email:_,password:S,options:x}=a;let A=null,C=null;this.flowType==="pkce"&&([A,C]=await ti(this.storage,this.storageKey)),f=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:_,password:S,data:(l=x?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:A,code_challenge_method:C},xform:Vt})}else if("phone"in a){const{phone:_,password:S,options:x}=a;f=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:S,data:(r=x?.data)!==null&&r!==void 0?r:{},channel:(c=x?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Vt})}else throw new Yl("You must provide either an email or phone number and a password");const{data:h,error:m}=f;if(m||!h)return await st(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const y=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(f){if(await st(this.storage,`${this.storageKey}-code-verifier`),F(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(a){try{let l;if("email"in a){const{email:f,password:h,options:m}=a;l=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Am})}else if("phone"in a){const{phone:f,password:h,options:m}=a;l=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Am})}else throw new Yl("You must provide either an email or phone number and a password");const{data:r,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const f=new ei;return this._returnResult({data:{user:null,session:null},error:f})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(l){if(F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(a){var l,r,c,f;return await this._handleProviderSignIn(a.provider,{redirectTo:(l=a.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=a.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(f=a.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:l}=a;switch(l){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(a){var l,r,c,f,h,m,y,g,_,S,x;let A,C;if("message"in a)A=a.message,C=a.signature;else{const{chain:U,wallet:L,statement:$,options:V}=a;let M;if(lt())if(typeof L=="object")M=L;else{const ve=window;if("ethereum"in ve&&typeof ve.ethereum=="object"&&"request"in ve.ethereum&&typeof ve.ethereum.request=="function")M=ve.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=L}const H=new URL((l=V?.url)!==null&&l!==void 0?l:window.location.href),J=await M.request({method:"eth_requestAccounts"}).then(ve=>ve).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=Wm(J[0]);let G=(r=V?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!G){const ve=await M.request({method:"eth_chainId"});G=kp(ve)}const de={domain:H.host,address:Z,statement:$,uri:H.href,version:"1",chainId:G,nonce:(c=V?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(f=V?.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=V?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(y=V?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(g=V?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(_=V?.signInWithEthereum)===null||_===void 0?void 0:_.resources};A=Dp(de),C=await M.request({method:"personal_sign",params:[Up(A),Z]})}try{const{data:U,error:L}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:C},!((S=a.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Vt});if(L)throw L;if(!U||!U.session||!U.user){const $=new ei;return this._returnResult({data:{user:null,session:null},error:$})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:L})}catch(U){if(F(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async signInWithSolana(a){var l,r,c,f,h,m,y,g,_,S,x,A;let C,U;if("message"in a)C=a.message,U=a.signature;else{const{chain:L,wallet:$,statement:V,options:M}=a;let H;if(lt())if(typeof $=="object")H=$;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))H=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=$}const J=new URL((l=M?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in H&&H.signIn){const Z=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),V?{statement:V}:null));let G;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")G=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)G=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)C=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),U=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${J.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(c=(r=M?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((f=M?.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((h=M?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((m=M?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((y=M?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((S=(_=M?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||S===void 0)&&S.length?["Resources",...M.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const Z=await H.signMessage(new TextEncoder().encode(C),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");U=Z}}try{const{data:L,error:$}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:ma(U)},!((x=a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(A=a.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:Vt});if($)throw $;if(!L||!L.session||!L.user){const V=new ei;return this._returnResult({data:{user:null,session:null},error:V})}return L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:$})}catch(L){if(F(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}}async _exchangeCodeForSession(a){const l=await ca(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new ep;const{data:f,error:h}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:r},xform:Vt});if(await st(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!f||!f.session||!f.user){const m=new ei;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:c??null}),error:h})}catch(f){if(await st(this.storage,`${this.storageKey}-code-verifier`),F(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(a){try{const{options:l,provider:r,token:c,access_token:f,nonce:h}=a,m=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:f,nonce:h,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Vt}),{data:y,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!y||!y.session||!y.user){const _=new ei;return this._returnResult({data:{user:null,session:null},error:_})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:g})}catch(l){if(F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(a){var l,r,c,f,h;try{if("email"in a){const{email:m,options:y}=a;let g=null,_=null;this.flowType==="pkce"&&([g,_]=await ti(this.storage,this.storageKey));const{error:S}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(l=y?.data)!==null&&l!==void 0?l:{},create_user:(r=y?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:g,code_challenge_method:_},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in a){const{phone:m,options:y}=a,{data:g,error:_}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=y?.data)!==null&&c!==void 0?c:{},create_user:(f=y?.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(h=y?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:_})}throw new Yl("You must provide either an email or phone number.")}catch(m){if(await st(this.storage,`${this.storageKey}-code-verifier`),F(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var l,r;try{let c,f;"options"in a&&(c=(l=a.options)===null||l===void 0?void 0:l.redirectTo,f=(r=a.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:m}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:f}}),redirectTo:c,xform:Vt});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const y=h.session,g=h.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(c){if(F(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var l,r,c,f,h;try{let m=null,y=null;this.flowType==="pkce"&&([m,y]=await ti(this.storage,this.storageKey));const g=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(r=(l=a.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:y}),headers:this.headers,xform:xp});return!((f=g.data)===null||f===void 0)&&f.url&&lt()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(await st(this.storage,`${this.storageKey}-code-verifier`),F(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:l},error:r}=a;if(r)throw r;if(!l)throw new jt;const{error:c}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(F(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const l=`${this.url}/resend`;if("email"in a){const{email:r,type:c,options:f}=a,{error:h}=await ne(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:r,type:c,options:f}=a,{data:h,error:m}=await ne(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new Yl("You must provide either an email or phone number and a type")}catch(l){if(F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(a,l){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await a(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const l=await ca(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?a=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const r=a.expires_at?a.expires_at*1e3-Date.now()<jo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",a.expires_at),!r){if(this.userStorage){const h=await ca(this.userStorage,this.storageKey+"-user");h?.user?a.user=h.user:a.user=Co()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=wp(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(a){try{return a?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Vn}):await this._useSession(async l=>{var r,c,f;const{data:h,error:m}=l;if(m)throw m;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0,xform:Vn})})}catch(l){if(F(l))return Ro(l)&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(a,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,l))}async _updateUser(a,l={}){try{return await this._useSession(async r=>{const{data:c,error:f}=r;if(f)throw f;if(!c.session)throw new jt;const h=c.session;let m=null,y=null;this.flowType==="pkce"&&a.email!=null&&([m,y]=await ti(this.storage,this.storageKey));const{data:g,error:_}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:y}),jwt:h.access_token,xform:Vn});if(_)throw _;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(r){if(await st(this.storage,`${this.storageKey}-code-verifier`),F(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new jt;const l=Date.now()/1e3;let r=l,c=!0,f=null;const{payload:h}=Xl(a.access_token);if(h.exp&&(r=h.exp,c=r<=l),c){const{data:m,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m)return{data:{user:null,session:null},error:null};f=m}else{const{data:m,error:y}=await this._getUser(a.access_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});f={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(l){if(F(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async l=>{var r;if(!a){const{data:h,error:m}=l;if(m)throw m;a=(r=h.session)!==null&&r!==void 0?r:void 0}if(!a?.refresh_token)throw new jt;const{data:c,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(a,l){try{if(!lt())throw new Kl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Kl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new bm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kl("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new bm("No code detected.");const{data:V,error:M}=await this._exchangeCodeForSession(a.code);if(M)throw M;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:f,refresh_token:h,expires_in:m,expires_at:y,token_type:g}=a;if(!f||!m||!h||!g)throw new Kl("No session defined in URL");const _=Math.round(Date.now()/1e3),S=parseInt(m);let x=_+S;y&&(x=parseInt(y));const A=x-_;A*1e3<=li&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${S}s`);const C=x-S;_-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,x,_):_-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,x,_);const{data:U,error:L}=await this._getUser(f);if(L)throw L;const $={provider_token:r,provider_refresh_token:c,access_token:f,expires_in:S,expires_at:x,refresh_token:h,token_type:g,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:$,redirectType:a.type},error:null})}catch(r){if(F(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const l=await ca(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&l)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:c,error:f}=l;if(f&&!Ro(f))return this._returnResult({error:f});const h=(r=c.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:m}=await this.admin.signOut(h,a);if(m&&!(W0(m)&&(m.status===404||m.status===401||m.status===403)||Ro(m)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const l=rp(),r={id:l,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(a){return await this._useSession(async l=>{var r,c;try{const{data:{session:f},error:h}=l;if(h)throw h;await((r=this.stateChangeEmitters.get(a))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",a,"session",f)}catch(f){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",f),console.error(f)}})}async resetPasswordForEmail(a,l={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await ti(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(f){if(await st(this.storage,`${this.storageKey}-code-verifier`),F(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var a;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(a=l.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var l;try{const{data:r,error:c}=await this._useSession(async f=>{var h,m,y,g,_;const{data:S,error:x}=f;if(x)throw x;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",A,{headers:this.headers,jwt:(_=(g=S.session)===null||g===void 0?void 0:g.access_token)!==null&&_!==void 0?_:void 0})});if(c)throw c;return lt()&&!(!((l=a.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:a.provider,url:r?.url},error:null})}catch(r){if(F(r))return this._returnResult({data:{provider:a.provider,url:null},error:r});throw r}}async linkIdentityIdToken(a){return await this._useSession(async l=>{var r;try{const{error:c,data:{session:f}}=l;if(c)throw c;const{options:h,provider:m,token:y,access_token:g,nonce:_}=a,S=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=f?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:y,access_token:g,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Vt}),{data:x,error:A}=S;return A?this._returnResult({data:{user:null,session:null},error:A}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new ei}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:A}))}catch(c){if(await st(this.storage,`${this.storageKey}-code-verifier`),F(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async l=>{var r,c;const{data:f,error:h}=l;if(h)throw h;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(r=f.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(a){const l=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await fp(async c=>(c>0&&await cp(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Vt})),(c,f)=>{const h=200*Math.pow(2,c);return f&&No(f)&&Date.now()+h-r<li})}catch(r){if(this._debug(l,"error",r),F(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",l,"url",r),lt()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:a,url:r},error:null}}async _recoverAndRefresh(){var a,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await ca(this.storage,this.storageKey);if(c&&this.userStorage){let h=await ca(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await ri(this.userStorage,this.storageKey+"-user",h)),c.user=(a=h?.user)!==null&&a!==void 0?a:Co()}else if(c&&!c.user&&!c.user){const h=await ca(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await st(this.storage,this.storageKey+"-user"),await ri(this.storage,this.storageKey,c)):c.user=Co()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const f=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<jo;if(this._debug(r,`session has${f?"":" not"} expired with margin of ${jo}s`),f){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),No(h)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(r,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(a){var l,r;if(!a)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Fl;const{data:f,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!f.session)throw new jt;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const m={data:f.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(f){if(this._debug(c,"error",f),F(f)){const h={data:null,error:f};return No(f)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(f),f}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,l,r=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:a,session:l});const f=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,l)}catch(y){f.push(y)}});if(await Promise.all(h),f.length>0){for(let m=0;m<f.length;m+=1)console.error(f[m]);throw f[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await st(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},a),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await ri(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const f=Tm(c);await ri(this.storage,this.storageKey,f)}else{const c=Tm(l);await ri(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await st(this.storage,this.storageKey),await st(this.storage,this.storageKey+"-code-verifier"),await st(this.storage,this.storageKey+"-user"),this.userStorage&&await st(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&lt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),li);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-a)/li);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${li}ms, refresh threshold is ${Ho} ticks`),c<=Ho&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Pm)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const l=`#_onVisibilityChanged(${a})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,l,r){const c=[`provider=${encodeURIComponent(l)}`];if(r?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[f,h]=await ti(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(r?.queryParams){const f=new URLSearchParams(r.queryParams);c.push(f.toString())}return r?.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async l=>{var r;const{data:c,error:f}=l;return f?this._returnResult({data:null,error:f}):await ne(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(a){try{return await this._useSession(async l=>{var r,c;const{data:f,error:h}=l;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:g}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=f?.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(a.factorType==="totp"&&y.type==="totp"&&(!((c=y?.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:f}=l;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?$p(a.webauthn.credential_response):Gp(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:y}=await ne(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:y}))})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:f}=l;if(f)return this._returnResult({data:null,error:f});const h=await ne(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Lp(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Hp(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(a){const{data:l,error:r}=await this._challenge({factorId:a.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:a.factorId,challengeId:l.id,code:a.code})}async _listFactors(){var a;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const f of(a=l?.factors)!==null&&a!==void 0?a:[])c.all.push(f),f.status==="verified"&&c[f.factor_type].push(f);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(a){var l,r,c,f;if(a)try{const{payload:A}=Xl(a);let C=null;A.aal&&(C=A.aal);let U=C;const{data:{user:L},error:$}=await this.getUser(a);if($)return this._returnResult({data:null,error:$});((r=(l=L?.factors)===null||l===void 0?void 0:l.filter(H=>H.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(U="aal2");const M=A.amr||[];return{data:{currentLevel:C,nextLevel:U,currentAuthenticationMethods:M},error:null}}catch(A){if(F(A))return this._returnResult({data:null,error:A});throw A}const{data:{session:h},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:y}=Xl(h.access_token);let g=null;y.aal&&(g=y.aal);let _=g;((f=(c=h.user.factors)===null||c===void 0?void 0:c.filter(A=>A.status==="verified"))!==null&&f!==void 0?f:[]).length>0&&(_="aal2");const x=y.amr||[];return{data:{currentLevel:g,nextLevel:_,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:r.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new jt})})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(a,l){try{return await this._useSession(async r=>{const{data:{session:c},error:f}=r;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new jt});const h=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&lt()&&!l?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(a,l){try{return await this._useSession(async r=>{const{data:{session:c},error:f}=r;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new jt});const h=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&lt()&&!l?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:l},error:r}=a;return r?this._returnResult({data:null,error:r}):l?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new jt})})}catch(a){if(F(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jt})})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(a,l={keys:[]}){let r=l.keys.find(m=>m.kid===a);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(m=>m.kid===a),r&&this.jwks_cached_at+I0>c)return r;const{data:f,error:h}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=c,r=f.keys.find(m=>m.kid===a),!r)?null:r}async getClaims(a,l={}){try{let r=a;if(!r){const{data:A,error:C}=await this.getSession();if(C||!A.session)return this._returnResult({data:null,error:C});r=A.session.access_token}const{header:c,payload:f,signature:h,raw:{header:m,payload:y}}=Xl(r);l?.allowExpired||pp(f.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!g){const{error:A}=await this.getUser(r);if(A)throw A;return{data:{claims:f,header:c,signature:h},error:null}}const _=bp(c.alg),S=await crypto.subtle.importKey("jwk",g,_,!0,["verify"]);if(!await crypto.subtle.verify(_,S,h,sp(`${m}.${y}`)))throw new Vo("Invalid JWT signature");return{data:{claims:f,header:c,signature:h},error:null}}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}}bs.nextInstanceID={};const Pp=bs,Wp="2.95.3";let os="";typeof Deno<"u"?os="deno":typeof document<"u"?os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?os="react-native":os="node";const Fp={"X-Client-Info":`supabase-js-${os}/${Wp}`},eb={headers:Fp},tb={schema:"public"},nb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ab={};function _s(s){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_s(s)}function ib(s,a){if(_s(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(_s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function sb(s){var a=ib(s,"string");return _s(a)=="symbol"?a:a+""}function lb(s,a,l){return(a=sb(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function Cm(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function He(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?Cm(Object(l),!0).forEach(function(r){lb(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):Cm(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const rb=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),ub=()=>Headers,ob=(s,a,l)=>{const r=rb(l),c=ub();return async(f,h)=>{var m;const y=(m=await a())!==null&&m!==void 0?m:s;let g=new c(h?.headers);return g.has("apikey")||g.set("apikey",s),g.has("Authorization")||g.set("Authorization",`Bearer ${y}`),r(f,He(He({},h),{},{headers:g}))}};function cb(s){return s.endsWith("/")?s:s+"/"}function fb(s,a){var l,r;const{db:c,auth:f,realtime:h,global:m}=s,{db:y,auth:g,realtime:_,global:S}=a,x={db:He(He({},y),c),auth:He(He({},g),f),realtime:He(He({},_),h),storage:{},global:He(He(He({},S),m),{},{headers:He(He({},(l=S?.headers)!==null&&l!==void 0?l:{}),(r=m?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return s.accessToken?x.accessToken=s.accessToken:delete x.accessToken,x}function hb(s){const a=s?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cb(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var db=class extends Pp{constructor(s){super(s)}},mb=class{constructor(s,a,l){var r,c;this.supabaseUrl=s,this.supabaseKey=a;const f=hb(s);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:tb,realtime:ab,auth:He(He({},nb),{},{storageKey:h}),global:eb},y=fb(l??{},m);if(this.storageKey=(r=y.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=y.auth)!==null&&g!==void 0?g:{},this.headers,y.global.fetch)}this.fetch=ob(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(He({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new Wv(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch,timeout:y.db.timeout,urlLengthLimit:y.db.urlLengthLimit}),this.storage=new K0(this.storageUrl.href,this.headers,this.fetch,l?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Yv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,a,l)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,a,l;if(s.accessToken)return await s.accessToken();const{data:r}=await s.auth.getSession();return(a=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&a!==void 0?a:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:l,storage:r,userStorage:c,storageKey:f,flowType:h,lock:m,debug:y,throwOnError:g},_,S){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new db({url:this.authUrl.href,headers:He(He({},x),_),storageKey:f,autoRefreshToken:s,persistSession:a,detectSessionInUrl:l,storage:r,userStorage:c,flowType:h,lock:m,debug:y,throwOnError:g,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new y0(this.realtimeUrl.href,He(He({},s),{},{params:He(He({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a?.access_token)})}_handleTokenChanged(s,a,l){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const yb=(s,a,l)=>new mb(s,a,l);function gb(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const a=s.version;if(a==null)return!1;const l=a.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}gb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vb="https://nxjhygndibrmapwofvcs.supabase.co",pb="sb_publishable_75cj42cz40b7Qgox5_XwAw_5nrcfKUQ",Re=yb(vb,pb);async function ci(s){const{data:a}=await Re.from("profiles").select("*").eq("id",s).single();return a}async function bb(s){const{data:a}=await Re.from("profiles").select("*").eq("username",s.toLowerCase().trim()).single();return a}async function _b(s,a,l,r){const{data:c,error:f}=await Re.from("profiles").insert({id:s,username:a.toLowerCase().trim(),display_name:l,avatar:r}).select().single();if(f)throw f;return c}async function Yo(s,a){const{data:l}=await Re.from("journal_entries").select("*").eq("user_id",s).eq("date",a).maybeSingle();return l}async function wb(s,a,l){const r=await Yo(s,a);if(r){const{data:h,error:m}=await Re.from("journal_entries").update({content:l,updated_at:new Date().toISOString()}).eq("id",r.id).select().single();if(m)throw m;return h}const{data:c,error:f}=await Re.from("journal_entries").insert({user_id:s,date:a,content:l}).select().single();if(f)throw f;return c}async function Sb(s,a){const{error:l}=await Re.from("journal_entries").delete().eq("user_id",s).eq("date",a);if(l)throw l}async function Eb(s,a,l){const r=`${a}-${String(l+1).padStart(2,"0")}-01`,c=l===11?1:l+2,h=`${l===11?a+1:a}-${String(c).padStart(2,"0")}-01`,{data:m}=await Re.from("journal_entries").select("date").eq("user_id",s).gte("date",r).lt("date",h).neq("content","");return new Set((m||[]).map(y=>y.date))}async function km(s){const{count:a}=await Re.from("journal_entries").select("*",{count:"exact",head:!0}).eq("user_id",s).neq("content","");return a??0}async function fi(s){const{data:a}=await Re.from("partner_requests").select("*").or(`from_user_id.eq.${s},to_user_id.eq.${s}`).in("status",["accepted","break_pending"]).maybeSingle();if(!a)return null;const l=a.from_user_id===s?a.to_user_id:a.from_user_id,r=await ci(l);return r?{request:a,partner:r}:null}async function ey(s){const{data:a}=await Re.from("partner_requests").select("*").eq("to_user_id",s).eq("status","pending").order("created_at",{ascending:!1});if(!a||a.length===0)return[];const l=[];for(const r of a){const c=await ci(r.from_user_id),f=await ci(r.to_user_id);c&&f&&l.push({...r,from_profile:c,to_profile:f})}return l}async function Tb(s){const{data:a}=await Re.from("partner_requests").select("*").eq("from_user_id",s).eq("status","pending").order("created_at",{ascending:!1});if(!a||a.length===0)return[];const l=[];for(const r of a){const c=await ci(r.from_user_id),f=await ci(r.to_user_id);c&&f&&l.push({...r,from_profile:c,to_profile:f})}return l}async function xb(s,a){const l=await bb(a);if(!l)throw new Error("User not found. Please check the username.");if(l.id===s)throw new Error("You cannot send a request to yourself.");const{data:r}=await Re.from("partner_requests").select("id, status").or(`and(from_user_id.eq.${s},to_user_id.eq.${l.id}),and(from_user_id.eq.${l.id},to_user_id.eq.${s})`);if(r&&r.length>0){const m=r.map(y=>y.status);if(m.includes("accepted")||m.includes("break_pending"))throw new Error("You already have an active connection with this user.");if(m.includes("pending"))throw new Error("A request is already pending with this user.")}if(await fi(s))throw new Error("You already have an active partner. Disconnect first.");if(await fi(l.id))throw new Error("This user already has an active partner.");const{error:h}=await Re.from("partner_requests").insert({from_user_id:s,to_user_id:l.id,status:"pending"});if(h)throw h}async function Ab(s){const{data:a}=await Re.from("partner_requests").select("*").eq("id",s).single();if(!a)throw new Error("Request not found.");if(await fi(a.to_user_id))throw new Error("You already have an active partner.");if(await fi(a.from_user_id))throw new Error("The other user already has an active partner.");const{error:c}=await Re.from("partner_requests").update({status:"accepted",updated_at:new Date().toISOString()}).eq("id",s);if(c)throw c}async function Ob(s){const{error:a}=await Re.from("partner_requests").delete().eq("id",s);if(a)throw a}async function jb(s,a){const{error:l}=await Re.from("partner_requests").update({status:"break_pending",break_requester_id:a,updated_at:new Date().toISOString()}).eq("id",s);if(l)throw l}async function Rb(s){const{error:a}=await Re.from("partner_requests").delete().eq("id",s);if(a)throw a}async function Nb(s){const{error:a}=await Re.from("partner_requests").update({status:"accepted",break_requester_id:null,updated_at:new Date().toISOString()}).eq("id",s);if(a)throw a}const ty=Y.createContext(null);function er(){const s=Y.useContext(ty);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}function Um(s){return`${s.toLowerCase().trim()}@duo.journal`}function Cb({children:s}){const[a,l]=Y.useState(null),[r,c]=Y.useState(null),[f,h]=Y.useState(null),[m,y]=Y.useState(!0),g=Y.useCallback(async C=>{try{const U=await ci(C);c(U)}catch{c(null)}},[]),_=Y.useCallback(async()=>{a&&await g(a.id)},[a,g]);Y.useEffect(()=>{Re.auth.getSession().then(({data:{session:U}})=>{h(U),l(U?.user??null),U?.user?g(U.user.id).finally(()=>y(!1)):y(!1)});const{data:{subscription:C}}=Re.auth.onAuthStateChange((U,L)=>{h(L),l(L?.user??null),L?.user?g(L.user.id):c(null)});return()=>C.unsubscribe()},[g]);const S=Y.useCallback(async(C,U,L,$)=>{const V=Um(C),{data:M}=await Re.from("profiles").select("id").eq("username",C.toLowerCase().trim()).maybeSingle();if(M)throw new Error("Username is already taken.");const{data:H,error:J}=await Re.auth.signUp({email:V,password:U});if(J)throw J.message.includes("already registered")?new Error("Username is already taken."):J;if(!H.user)throw new Error("Sign up failed. Please try again.");try{const Z=await _b(H.user.id,C,L,$);c(Z)}catch(Z){const G=Z instanceof Error?Z.message:"Failed to create profile.";throw new Error(G)}},[]),x=Y.useCallback(async(C,U)=>{const L=Um(C),{error:$}=await Re.auth.signInWithPassword({email:L,password:U});if($)throw $.message.includes("Invalid login")?new Error("Invalid username or password."):$.message.includes("Email not confirmed")?new Error("Account not confirmed. Please contact support or try again later."):$},[]),A=Y.useCallback(async()=>{await Re.auth.signOut(),l(null),c(null),h(null)},[]);return p.jsx(ty.Provider,{value:{user:a,profile:r,session:f,loading:m,signUp:S,signIn:x,signOut:A,refreshProfile:_},children:s})}const kb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ny=(...s)=>s.filter((a,l,r)=>!!a&&a.trim()!==""&&r.indexOf(a)===l).join(" ").trim();var Ub={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Db=Y.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:c="",children:f,iconNode:h,...m},y)=>Y.createElement("svg",{ref:y,...Ub,width:a,height:a,stroke:s,strokeWidth:r?Number(l)*24/Number(a):l,className:ny("lucide",c),...m},[...h.map(([g,_])=>Y.createElement(g,_)),...Array.isArray(f)?f:[f]]));const Me=(s,a)=>{const l=Y.forwardRef(({className:r,...c},f)=>Y.createElement(Db,{ref:f,iconNode:a,className:ny(`lucide-${kb(s)}`,r),...c}));return l.displayName=`${s}`,l};const ay=Me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const iy=Me("BookHeart",[["path",{d:"M16 8.2A2.22 2.22 0 0 0 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9A2.22 2.22 0 0 0 8 8.2c0 .6.3 1.2.7 1.6A226.652 226.652 0 0 0 12 13a404 404 0 0 0 3.3-3.1 2.413 2.413 0 0 0 .7-1.7",key:"1t75a8"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);const Uo=Me("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const Dm=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const zb=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Mb=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const qb=Me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Bb=Me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const zm=Me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Lb=Me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Hb=Me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const $b=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const hs=Me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const ds=Me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Gb=Me("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);const Vb=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Yb=Me("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const Kb=Me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Xb=Me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const Mm=Me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const Qb=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Jb=Me("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);const sy=Me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Jo=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ly=Y.createContext({showToast:()=>{}});function Zo(){return Y.useContext(ly)}let Zb=0;function Ib({children:s}){const[a,l]=Y.useState([]),r=Y.useCallback((f,h="info")=>{const m=Zb++;l(y=>[...y,{id:m,message:f,type:h}])},[]),c=Y.useCallback(f=>{l(h=>h.filter(m=>m.id!==f))},[]);return p.jsxs(ly.Provider,{value:{showToast:r},children:[s,p.jsx("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 max-w-sm",children:a.map(f=>p.jsx(Pb,{toast:f,onRemove:c},f.id))})]})}function Pb({toast:s,onRemove:a}){Y.useEffect(()=>{const c=setTimeout(()=>a(s.id),4e3);return()=>clearTimeout(c)},[s.id,a]);const l={success:p.jsx(Bb,{className:"w-4 h-4 text-emerald-500 shrink-0"}),error:p.jsx(qb,{className:"w-4 h-4 text-destructive shrink-0"}),info:p.jsx($b,{className:"w-4 h-4 text-primary shrink-0"})},r={success:"border-emerald-200 bg-emerald-50",error:"border-destructive/30 bg-destructive/5",info:"border-primary/20 bg-primary-light"};return p.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-xl border shadow-medium animate-slide-up ${r[s.type]}`,children:[l[s.type],p.jsx("p",{className:"text-sm text-foreground flex-1",children:s.message}),p.jsx("button",{onClick:()=>a(s.id),className:"text-muted-foreground hover:text-foreground shrink-0",children:p.jsx(Jo,{className:"w-3.5 h-3.5"})})]})}const Wb=["","","","","","","","","","","",""];function Fb(){const[s,a]=Y.useState("login"),[l,r]=Y.useState(""),[c,f]=Y.useState(""),[h,m]=Y.useState(""),[y,g]=Y.useState(""),[_,S]=Y.useState(""),[x,A]=Y.useState(!1),[C,U]=Y.useState(""),[L,$]=Y.useState(!1),{signUp:V,signIn:M}=er(),{showToast:H}=Zo(),J=()=>{r(""),f(""),m(""),g(""),S(""),U("")},Z=async G=>{if(G.preventDefault(),U(""),!l.trim()||!c.trim()){U("Please fill in all fields.");return}if(l.trim().length<3){U("Username must be at least 3 characters.");return}if(c.length<6){U("Password must be at least 6 characters.");return}if(s==="signup"){if(c!==h){U("Passwords do not match.");return}if(!y.trim()){U("Please enter a display name.");return}}$(!0);try{s==="signup"?(await V(l,c,y.trim(),_),H("Account created! Welcome to Duo Journal.","success")):(await M(l,c),H("Welcome back!","success"))}catch(de){const ve=de instanceof Error?de.message:"Something went wrong.";U(ve)}finally{$(!1)}};return p.jsxs("div",{className:"min-h-screen flex",children:[p.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[p.jsx("img",{src:"/images/journal-hero.png",alt:"Two journals on a warm desk with dried flowers and golden light",className:"absolute inset-0 w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 to-secondary/20"}),p.jsxs("div",{className:"relative z-10 flex flex-col justify-end p-12",children:[p.jsxs("h2",{className:"font-serif text-4xl font-bold leading-tight drop-shadow-lg",style:{color:"hsl(0 0% 100%)"},children:["Your shared space",p.jsx("br",{}),"for daily moments"]}),p.jsx("p",{className:"mt-3 text-lg drop-shadow-md max-w-md",style:{color:"hsl(0 0% 100% / 0.85)"},children:"Write, reflect, and stay connected through the gentle art of journaling together."})]})]}),p.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:p.jsxs("div",{className:"w-full max-w-sm animate-slide-up",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[p.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:p.jsx(iy,{className:"w-5 h-5 text-primary"})}),p.jsx("h1",{className:"text-2xl font-serif font-bold gradient-text",children:"Duo Journal"})]}),p.jsxs("div",{className:"flex gap-1 mb-8 p-1 rounded-xl bg-surface",children:[p.jsxs("button",{type:"button",onClick:()=>{a("login"),J()},className:`flex-1 flex items-center justify-center gap-2 py-2.5 px-4 rounded-lg text-sm font-medium transition-all ${s==="login"?"bg-card shadow-soft text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[p.jsx(Gb,{className:"w-4 h-4"}),"Sign In"]}),p.jsxs("button",{type:"button",onClick:()=>{a("signup"),J()},className:`flex-1 flex items-center justify-center gap-2 py-2.5 px-4 rounded-lg text-sm font-medium transition-all ${s==="signup"?"bg-card shadow-soft text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[p.jsx(sy,{className:"w-4 h-4"}),"Create Account"]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-foreground",children:s==="login"?"Welcome back":"Create your account"}),p.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:s==="login"?"Sign in to continue your journal":"Start your shared journaling journey"})]}),p.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-foreground mb-1.5",children:"Username"}),p.jsx("input",{id:"username",type:"text",value:l,onChange:G=>r(G.target.value),className:"input-field",placeholder:"Enter your username",autoComplete:"username",required:!0})]}),s==="signup"&&p.jsxs("div",{className:"animate-fade-in",children:[p.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-foreground mb-1.5",children:"Display Name"}),p.jsx("input",{id:"displayName",type:"text",value:y,onChange:G=>g(G.target.value),className:"input-field",placeholder:"How your partner will see you",required:!0})]}),s==="signup"&&p.jsxs("div",{className:"animate-fade-in",children:[p.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Choose Avatar"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:Wb.map(G=>p.jsx("button",{type:"button",onClick:()=>S(G),className:`w-10 h-10 rounded-xl text-lg flex items-center justify-center transition-all ${_===G?"bg-primary/15 ring-2 ring-primary scale-110":"bg-surface hover:bg-surface-hover"}`,children:G},G))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-1.5",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{id:"password",type:x?"text":"password",value:c,onChange:G=>f(G.target.value),className:"input-field pr-10",placeholder:s==="signup"?"At least 6 characters":"Enter your password",autoComplete:s==="signup"?"new-password":"current-password",required:!0}),p.jsx("button",{type:"button",onClick:()=>A(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:x?p.jsx(Lb,{className:"w-4 h-4"}):p.jsx(Hb,{className:"w-4 h-4"})})]})]}),s==="signup"&&p.jsxs("div",{className:"animate-fade-in",children:[p.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-1.5",children:"Confirm Password"}),p.jsx("input",{id:"confirmPassword",type:"password",value:h,onChange:G=>m(G.target.value),className:"input-field",placeholder:"Re-enter your password",autoComplete:"new-password",required:!0}),h&&c!==h&&p.jsx("p",{className:"text-xs text-destructive mt-1",children:"Passwords do not match"})]}),C&&p.jsx("p",{className:"text-sm text-destructive animate-fade-in",children:C}),p.jsx("button",{type:"submit",disabled:L,className:"btn-primary w-full disabled:opacity-60 disabled:cursor-not-allowed",children:L?p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-4 h-4 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),s==="login"?"Signing in...":"Creating account..."]}):s==="login"?"Sign In":"Create Account"})]})]})})]})}const e_=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],qm=["January","February","March","April","May","June","July","August","September","October","November","December"];function t_(s,a){return new Date(s,a+1,0).getDate()}function n_(s,a){return new Date(s,a,1).getDay()}function ry(s,a,l){return`${s}-${String(a+1).padStart(2,"0")}-${String(l).padStart(2,"0")}`}function a_(){const s=new Date;return ry(s.getFullYear(),s.getMonth(),s.getDate())}function i_({viewingUserId:s,onDateSelect:a,selectedDate:l,refreshTick:r,isViewingPartner:c}){const f=a_(),[h,m]=Y.useState(()=>new Date().getFullYear()),[y,g]=Y.useState(()=>new Date().getMonth()),[_,S]=Y.useState(new Set),[x,A]=Y.useState(!1);Y.useEffect(()=>{let H=!1;return A(!0),Eb(s,h,y).then(J=>{H||S(J)}).catch(console.error).finally(()=>{H||A(!1)}),()=>{H=!0}},[s,h,y,r]);const C=t_(h,y),U=n_(h,y),L=Y.useCallback(()=>{y===0?(g(11),m(H=>H-1)):g(H=>H-1)},[y]),$=Y.useCallback(()=>{y===11?(g(0),m(H=>H+1)):g(H=>H+1)},[y]),V=c?"bg-secondary":"bg-primary",M=[];for(let H=0;H<U;H++)M.push(null);for(let H=1;H<=C;H++)M.push(H);return p.jsxs("div",{className:"card p-6 animate-fade-in",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("button",{onClick:L,className:"btn-ghost p-2 rounded-lg","aria-label":"Previous month",children:p.jsx(zb,{className:"w-5 h-5"})}),p.jsxs("h2",{className:"text-lg font-serif font-semibold text-foreground",children:[qm[y]," ",h,x&&p.jsx("span",{className:"ml-2 inline-block w-3 h-3 border-2 border-muted-foreground/30 border-t-muted-foreground rounded-full animate-spin align-middle"})]}),p.jsx("button",{onClick:$,className:"btn-ghost p-2 rounded-lg","aria-label":"Next month",children:p.jsx(Mb,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"grid grid-cols-7 mb-2",children:e_.map(H=>p.jsx("div",{className:"text-center text-xs font-medium text-muted-foreground py-2",children:H},H))}),p.jsx("div",{className:"grid grid-cols-7 gap-1",children:M.map((H,J)=>{if(H===null)return p.jsx("div",{className:"aspect-square"},`empty-${J}`);const Z=ry(h,y,H),G=_.has(Z),de=Z===f,ve=Z===l;return p.jsxs("button",{onClick:()=>a(Z),className:`
                aspect-square rounded-xl flex flex-col items-center justify-center
                text-sm font-medium transition-all duration-200 relative
                ${ve?c?"bg-secondary text-secondary-foreground shadow-md scale-105":"bg-primary text-primary-foreground shadow-md scale-105":de?"bg-surface font-semibold ring-2 ring-primary/30":"hover:bg-surface-hover text-foreground"}
              `,"aria-label":`${qm[y]} ${H}, ${h}${G?" - has journal entry":""}`,children:[p.jsx("span",{children:H}),G&&!ve&&p.jsx("span",{className:`absolute bottom-1.5 w-1.5 h-1.5 rounded-full ${V}`}),G&&ve&&p.jsx("span",{className:"absolute bottom-1.5 w-1.5 h-1.5 rounded-full bg-current opacity-60"})]},Z)})})]})}function s_(s){const[a,l,r]=s.split("-").map(Number);return new Date(a,l-1,r).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function l_({date:s,currentUserId:a,viewingUserId:l,currentProfile:r,viewingProfile:c,partnerProfile:f,onClose:h,onSaved:m}){const y=a===l,g=c??r,{showToast:_}=Zo(),[S,x]=Y.useState(""),[A,C]=Y.useState(!1),[U,L]=Y.useState(!1),[$,V]=Y.useState(!0),[M,H]=Y.useState(null),[J,Z]=Y.useState(null),G=Y.useRef(null);Y.useEffect(()=>{let Q=!1;return V(!0),(async()=>{try{const oe=await Yo(l,s);if(Q||(H(oe),x(oe?.content??"")),y&&f){const k=await Yo(f.id,s);Q||Z(k)}}catch(oe){console.error("Failed to load entries:",oe)}finally{Q||V(!1)}})(),()=>{Q=!0}},[l,s,y,f]),Y.useEffect(()=>{y&&!$&&G.current&&G.current.focus()},[y,$]),Y.useEffect(()=>{const Q=_e=>{_e.key==="Escape"&&h()};return window.addEventListener("keydown",Q),()=>window.removeEventListener("keydown",Q)},[h]);const de=async()=>{if(S.trim()){C(!0);try{await wb(a,s,S),_("Entry saved!","success"),m()}catch(Q){console.error("Save failed:",Q),_("Failed to save entry.","error")}finally{C(!1)}}},ve=async()=>{L(!0);try{await Sb(a,s),x(""),H(null),_("Entry deleted.","info"),m(),h()}catch(Q){console.error("Delete failed:",Q),_("Failed to delete entry.","error")}finally{L(!1)}},vt=Q=>{(Q.ctrlKey||Q.metaKey)&&Q.key==="Enter"&&(Q.preventDefault(),de())},Pe=!y,qe=Pe?"text-secondary":"text-primary";return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 bg-overlay/50 backdrop-blur-sm z-50 animate-fade-in",onClick:h}),p.jsxs("div",{className:"fixed right-0 top-0 bottom-0 w-full max-w-lg bg-card shadow-elevated z-50 flex flex-col animate-slide-right",children:[p.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-border",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-xl",children:g.avatar}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-sm font-semibold text-foreground",children:[y?"My Journal":`${g.display_name}'s Journal`,Pe&&p.jsx("span",{className:"ml-2 text-xs font-normal text-muted-foreground",children:"(Read only)"})]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:s_(s)})]})]}),p.jsx("button",{onClick:h,className:"btn-ghost p-2 rounded-lg",children:p.jsx(Jo,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-5 scrollbar-thin",children:$?p.jsx("div",{className:"flex items-center justify-center py-16",children:p.jsx(ds,{className:"w-6 h-6 text-muted-foreground animate-spin"})}):y?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Yb,{className:`w-4 h-4 ${qe}`}),p.jsx("span",{className:"text-sm font-medium text-foreground",children:"Write your thoughts"})]}),p.jsx("textarea",{ref:G,value:S,onChange:Q=>x(Q.target.value),onKeyDown:vt,className:"input-field min-h-[300px] resize-none leading-relaxed font-serif text-base",placeholder:"What happened today? How are you feeling?"}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Press ",p.jsx("kbd",{className:"px-1.5 py-0.5 rounded-sm bg-surface text-foreground font-mono text-xs",children:"Ctrl+Enter"})," to save"]}),J&&J.content.trim()&&f&&p.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(Uo,{className:"w-4 h-4 text-secondary"}),p.jsxs("span",{className:"text-sm font-medium text-foreground",children:[f.avatar," ",f.display_name,"'s entry"]})]}),p.jsx("div",{className:"p-4 rounded-xl bg-secondary-light/50 border border-secondary/20",children:p.jsx("p",{className:"text-sm text-foreground leading-relaxed whitespace-pre-wrap font-serif",children:J.content})})]})]}):p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx(Uo,{className:`w-4 h-4 ${qe}`}),p.jsxs("span",{className:"text-sm font-medium text-foreground",children:[g.display_name,"'s entry"]})]}),M&&M.content.trim()?p.jsxs("div",{className:"p-5 rounded-xl bg-secondary-light/50 border border-secondary/20",children:[p.jsx("p",{className:"text-base text-foreground leading-relaxed whitespace-pre-wrap font-serif",children:M.content}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-4",children:["Last updated: ",new Date(M.updated_at).toLocaleString()]})]}):p.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-muted-foreground",children:[p.jsx(Uo,{className:"w-10 h-10 mb-3 opacity-30"}),p.jsx("p",{className:"text-sm",children:"No entry for this date"})]})]})}),y&&!$&&p.jsxs("div",{className:"flex items-center justify-between p-5 border-t border-border",children:[M?p.jsxs("button",{onClick:ve,disabled:U,className:"btn-ghost text-destructive hover:bg-destructive/10 hover:text-destructive disabled:opacity-50",children:[U?p.jsx(ds,{className:"w-4 h-4 animate-spin"}):p.jsx(Qb,{className:"w-4 h-4"}),"Delete"]}):p.jsx("div",{}),p.jsx("button",{onClick:de,disabled:A||!S.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:A?p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx(ds,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Xb,{className:"w-4 h-4"}),"Save Entry"]})})]})]})]})}function r_({open:s,onClose:a,onPartnerChanged:l}){const{user:r}=er(),{showToast:c}=Zo(),[f,h]=Y.useState(null),[m,y]=Y.useState([]),[g,_]=Y.useState([]),[S,x]=Y.useState(""),[A,C]=Y.useState(!1),[U,L]=Y.useState(!1),[$,V]=Y.useState(!1),M=r?.id,H=Y.useCallback(async()=>{if(M){C(!0);try{const[Q,_e,oe]=await Promise.all([fi(M),ey(M),Tb(M)]);h(Q),y(_e),_(oe)}catch(Q){console.error("Failed to load partner data:",Q)}finally{C(!1)}}},[M]);Y.useEffect(()=>{s&&M&&H()},[s,M,H]),Y.useEffect(()=>{if(!M)return;const Q=Re.channel("partner-requests-realtime").on("postgres_changes",{event:"*",schema:"public",table:"partner_requests"},()=>{H(),l()}).subscribe();return()=>{Re.removeChannel(Q)}},[M,H,l]),Y.useEffect(()=>{if(!s)return;const Q=_e=>{_e.key==="Escape"&&a()};return window.addEventListener("keydown",Q),()=>window.removeEventListener("keydown",Q)},[s,a]);const J=async()=>{if(!(!S.trim()||!M)){L(!0);try{await xb(M,S),c(`Request sent to "${S}"!`,"success"),x(""),await H()}catch(Q){const _e=Q instanceof Error?Q.message:"Failed to send request.";c(_e,"error")}finally{L(!1)}}},Z=async(Q,_e)=>{try{await Ab(Q),c(`Connected with ${_e}!`,"success"),await H(),l()}catch(oe){const k=oe instanceof Error?oe.message:"Failed to accept.";c(k,"error")}},G=async Q=>{try{await Ob(Q),c("Request declined.","info"),await H()}catch(_e){const oe=_e instanceof Error?_e.message:"Failed to decline.";c(oe,"error")}},de=async()=>{if(!(!f||!M))try{await jb(f.request.id,M),c("Break link request sent. Waiting for partner confirmation.","info"),V(!1),await H(),l()}catch(Q){const _e=Q instanceof Error?Q.message:"Failed to request break.";c(_e,"error")}},ve=async()=>{if(f)try{await Rb(f.request.id),c("Link broken. You are now disconnected.","info"),await H(),l()}catch(Q){const _e=Q instanceof Error?Q.message:"Failed to confirm break.";c(_e,"error")}},vt=async()=>{if(f)try{await Nb(f.request.id),c("Break request cancelled.","info"),await H(),l()}catch(Q){const _e=Q instanceof Error?Q.message:"Failed to cancel.";c(_e,"error")}};if(!s)return null;const Pe=f?.request.status==="break_pending",qe=Pe&&f?.request.break_requester_id===M;return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 bg-overlay/50 backdrop-blur-sm z-50 animate-fade-in",onClick:a}),p.jsxs("div",{className:"fixed right-0 top-0 bottom-0 w-full max-w-md bg-card shadow-elevated z-50 flex flex-col animate-slide-right",children:[p.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-border",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg bg-secondary/10 flex items-center justify-center",children:p.jsx(hs,{className:"w-4 h-4 text-secondary"})}),p.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Partner Connection"})]}),p.jsx("button",{onClick:a,className:"btn-ghost p-2 rounded-lg",children:p.jsx(Jo,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-6 scrollbar-thin",children:A?p.jsx("div",{className:"flex items-center justify-center py-16",children:p.jsx(ds,{className:"w-6 h-6 text-muted-foreground animate-spin"})}):p.jsxs(p.Fragment,{children:[f&&p.jsxs("section",{children:[p.jsxs("h4",{className:"text-sm font-medium text-muted-foreground mb-3 flex items-center gap-2",children:[p.jsx(hs,{className:"w-3.5 h-3.5"}),"Connected Partner"]}),p.jsxs("div",{className:"card p-4",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx("span",{className:"text-2xl",children:f.partner.avatar}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-foreground",children:f.partner.display_name}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",f.partner.username]})]})]}),Pe?p.jsxs("div",{className:"mt-3 p-3 rounded-lg bg-destructive/5 border border-destructive/20",children:[p.jsx("p",{className:"text-sm text-foreground mb-3",children:qe?"Waiting for your partner to confirm the disconnection...":"Your partner wants to break the link."}),qe?p.jsx("button",{onClick:vt,className:"btn-ghost text-sm",children:"Cancel Request"}):p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:ve,className:"btn-ghost text-destructive hover:bg-destructive/10 text-sm",children:[p.jsx(Dm,{className:"w-3.5 h-3.5"}),"Confirm Break"]}),p.jsxs("button",{onClick:vt,className:"btn-ghost text-sm",children:[p.jsx(zm,{className:"w-3.5 h-3.5"}),"Decline"]})]})]}):p.jsx("div",{className:"mt-3",children:$?p.jsxs("div",{className:"p-3 rounded-lg bg-destructive/5 border border-destructive/20",children:[p.jsx("p",{className:"text-sm text-foreground mb-3",children:"Are you sure? Your partner must confirm to complete the disconnection."}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:de,className:"btn-ghost text-destructive hover:bg-destructive/10 text-sm",children:"Yes, request break"}),p.jsx("button",{onClick:()=>V(!1),className:"btn-ghost text-sm",children:"Cancel"})]})]}):p.jsxs("button",{onClick:()=>V(!0),className:"btn-ghost text-destructive hover:bg-destructive/10 text-sm",children:[p.jsx(Jb,{className:"w-3.5 h-3.5"}),"Break Link"]})})]})]}),m.length>0&&p.jsxs("section",{children:[p.jsxs("h4",{className:"text-sm font-medium text-muted-foreground mb-3 flex items-center gap-2",children:[p.jsx(ay,{className:"w-3.5 h-3.5"}),"Incoming Requests (",m.length,")"]}),p.jsx("div",{className:"space-y-2",children:m.map(Q=>p.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-xl",children:Q.from_profile.avatar}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-foreground text-sm",children:Q.from_profile.display_name}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",Q.from_profile.username]})]})]}),p.jsxs("div",{className:"flex gap-1.5",children:[p.jsx("button",{onClick:()=>Z(Q.id,Q.from_profile.display_name),className:"w-8 h-8 rounded-lg bg-primary/10 text-primary flex items-center justify-center hover:bg-primary/20 transition-colors",title:"Accept",children:p.jsx(Dm,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>G(Q.id),className:"w-8 h-8 rounded-lg bg-destructive/10 text-destructive flex items-center justify-center hover:bg-destructive/20 transition-colors",title:"Decline",children:p.jsx(zm,{className:"w-4 h-4"})})]})]},Q.id))})]}),g.length>0&&p.jsxs("section",{children:[p.jsxs("h4",{className:"text-sm font-medium text-muted-foreground mb-3 flex items-center gap-2",children:[p.jsx(Mm,{className:"w-3.5 h-3.5"}),"Sent Requests"]}),p.jsx("div",{className:"space-y-2",children:g.map(Q=>p.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-xl",children:Q.to_profile.avatar}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-foreground text-sm",children:Q.to_profile.display_name}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",Q.to_profile.username,"  Pending"]})]})]}),p.jsx("button",{onClick:()=>G(Q.id),className:"btn-ghost text-xs text-destructive hover:bg-destructive/10",children:"Cancel"})]},Q.id))})]}),!f&&p.jsxs("section",{children:[p.jsxs("h4",{className:"text-sm font-medium text-muted-foreground mb-3 flex items-center gap-2",children:[p.jsx(sy,{className:"w-3.5 h-3.5"}),"Connect with a Partner"]}),p.jsxs("div",{className:"card p-4",children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Enter your partner's username to send a connection request."}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",value:S,onChange:Q=>x(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"&&J()},className:"input-field flex-1",placeholder:"Enter username..."}),p.jsx("button",{onClick:J,disabled:!S.trim()||U,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed shrink-0",children:U?p.jsx(ds,{className:"w-4 h-4 animate-spin"}):p.jsx(Mm,{className:"w-4 h-4"})})]})]})]}),!f&&m.length===0&&g.length===0&&p.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[p.jsx(hs,{className:"w-10 h-10 mb-3 opacity-30"}),p.jsx("p",{className:"text-sm",children:"No connections yet"}),p.jsx("p",{className:"text-xs mt-1",children:"Send a request above to get started"})]})]})})]})]})}function u_(){const{user:s,profile:a,signOut:l}=er(),[r,c]=Y.useState(null),[f,h]=Y.useState(null),[m,y]=Y.useState(null),[g,_]=Y.useReducer(oe=>oe+1,0),[S,x]=Y.useState(null),[A,C]=Y.useState(0),[U,L]=Y.useState(!1),[$,V]=Y.useState(0),[M,H]=Y.useState(0),J=s?.id,Z=r!==J,G=Y.useCallback(async()=>{if(J)try{const[oe,k]=await Promise.all([fi(J),ey(J)]);x(oe),C(k.length)}catch(oe){console.error("Failed to load partner data:",oe)}},[J]),de=Y.useCallback(async()=>{if(J)try{const oe=await km(J);if(V(oe),S){const k=await km(S.partner.id);H(k)}}catch(oe){console.error("Failed to load counts:",oe)}},[J,S]);Y.useEffect(()=>{J&&(c(J),h(a),G())},[J,a,G]),Y.useEffect(()=>{de()},[de,g]),Y.useEffect(()=>{r===J?h(a):S&&r===S.partner.id&&h(S.partner)},[r,J,a,S]);const ve=Y.useCallback(()=>{!S||!J||(c(oe=>oe===J?S.partner.id:J),y(null))},[J,S]),vt=Y.useCallback(oe=>{y(oe)},[]),Pe=Y.useCallback(()=>{y(null)},[]),qe=Y.useCallback(()=>{_()},[]),Q=async()=>{await l()},_e=Y.useCallback(()=>{G(),_()},[G]);return!J||!a||!r?null:p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx("header",{className:"sticky top-0 z-40 bg-card/80 backdrop-blur-md border-b border-border",children:p.jsxs("div",{className:"max-w-4xl mx-auto px-4 h-16 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:p.jsx(iy,{className:"w-4 h-4 text-primary"})}),p.jsx("span",{className:"font-serif font-semibold text-lg gradient-text",children:"Duo Journal"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:()=>L(!0),className:"btn-ghost p-2 relative",title:"Partner Connection",children:[p.jsx(hs,{className:"w-4 h-4"}),A>0&&p.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 rounded-full bg-primary text-primary-foreground text-[10px] font-bold flex items-center justify-center",children:A})]}),p.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-sm text-muted-foreground px-2",children:[p.jsx("span",{children:a.avatar}),p.jsx("span",{children:a.display_name})]}),p.jsx("button",{onClick:Q,className:"btn-ghost p-2","aria-label":"Log out",title:"Log out",children:p.jsx(Vb,{className:"w-4 h-4"})})]})]})}),A>0&&p.jsx("div",{className:"max-w-4xl mx-auto px-4 pt-4",children:p.jsxs("button",{onClick:()=>L(!0),className:"w-full p-3 rounded-xl bg-primary-light border border-primary/20 animate-slide-up flex items-center gap-3 hover:bg-primary/10 transition-colors text-left",children:[p.jsx(ay,{className:"w-4 h-4 text-primary shrink-0"}),p.jsxs("p",{className:"text-sm text-foreground",children:["You have ",p.jsx("strong",{children:A})," pending connection request",A>1?"s":"",".",p.jsx("span",{className:"text-primary ml-1 font-medium",children:"View now"})]})]})}),p.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-serif font-bold text-foreground",children:Z&&f?`${f.avatar} ${f.display_name}'s Journal`:`${a.avatar} My Journal`}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Z?`Viewing ${f?.display_name}'s entries (${M} total)`:`${$} entries written`})]}),S?p.jsxs("button",{onClick:ve,className:`${Z?"btn-secondary":"btn-primary"} group`,children:[p.jsx(Kb,{className:"w-4 h-4 transition-transform group-hover:rotate-180 duration-500"}),Z?"Back to My Journal":`View ${S.partner.display_name}'s Journal`]}):p.jsxs("button",{onClick:()=>L(!0),className:"btn-secondary",children:[p.jsx(hs,{className:"w-4 h-4"}),"Connect a Partner"]})]}),Z&&f&&p.jsx("div",{className:"mb-6 p-3 rounded-xl bg-secondary-light border border-secondary/20 animate-slide-up",children:p.jsxs("p",{className:"text-sm text-foreground flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-secondary"}),"You are viewing ",p.jsx("strong",{children:f.display_name}),"'s journal. Entries are read-only."]})}),p.jsx(i_,{currentUserId:J,viewingUserId:r,onDateSelect:vt,selectedDate:m,refreshTick:g,isViewingPartner:Z}),p.jsxs("div",{className:"mt-4 flex items-center justify-center gap-6 text-xs text-muted-foreground",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("span",{className:`w-2 h-2 rounded-full ${Z?"bg-secondary":"bg-primary"}`}),p.jsx("span",{children:"Has entry"})]}),p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("span",{className:"w-5 h-5 rounded-md bg-surface ring-2 ring-primary/30 inline-block"}),p.jsx("span",{children:"Today"})]})]})]}),m&&p.jsx(l_,{date:m,currentUserId:J,viewingUserId:r,currentProfile:a,viewingProfile:f,partnerProfile:S?.partner??null,onClose:Pe,onSaved:qe}),p.jsx(r_,{open:U,onClose:()=>L(!1),onPartnerChanged:_e})]})}function o_(){const{user:s,profile:a,loading:l}=er();return l?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:p.jsx("div",{className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full animate-spin"})}):!s||!a?p.jsx(Fb,{}):p.jsx(u_,{})}function c_(){return p.jsx(Ib,{children:p.jsx(Cb,{children:p.jsx(o_,{})})})}Hv.createRoot(document.getElementById("root")).render(p.jsx(Y.StrictMode,{children:p.jsx(c_,{})}));
